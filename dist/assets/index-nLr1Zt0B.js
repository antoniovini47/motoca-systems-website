function fg(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mg={exports:{}},Kl={},gg={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=Symbol.for("react.element"),H0=Symbol.for("react.portal"),q0=Symbol.for("react.fragment"),W0=Symbol.for("react.strict_mode"),Q0=Symbol.for("react.profiler"),G0=Symbol.for("react.provider"),Y0=Symbol.for("react.context"),X0=Symbol.for("react.forward_ref"),J0=Symbol.for("react.suspense"),Z0=Symbol.for("react.memo"),ew=Symbol.for("react.lazy"),zf=Symbol.iterator;function tw(t){return t===null||typeof t!="object"?null:(t=zf&&t[zf]||t["@@iterator"],typeof t=="function"?t:null)}var yg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vg=Object.assign,_g={};function mo(t,e,n){this.props=t,this.context=e,this.refs=_g,this.updater=n||yg}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wg(){}wg.prototype=mo.prototype;function xh(t,e,n){this.props=t,this.context=e,this.refs=_g,this.updater=n||yg}var Dh=xh.prototype=new wg;Dh.constructor=xh;vg(Dh,mo.prototype);Dh.isPureReactComponent=!0;var Bf=Array.isArray,Eg=Object.prototype.hasOwnProperty,Vh={current:null},Tg={key:!0,ref:!0,__self:!0,__source:!0};function Sg(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Eg.call(e,r)&&!Tg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Hs,type:t,key:o,ref:s,props:i,_owner:Vh.current}}function nw(t,e){return{$$typeof:Hs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hs}function rw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kf=/\/+/g;function xu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rw(""+t.key):e.toString(36)}function za(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Hs:case H0:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+xu(s,0):r,Bf(i)?(n="",t!=null&&(n=t.replace(Kf,"$&/")+"/"),za(i,e,n,"",function(h){return h})):i!=null&&(Nh(i)&&(i=nw(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Kf,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Bf(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+xu(o,l);s+=za(o,e,n,u,i)}else if(u=tw(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+xu(o,l++),s+=za(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function wa(t,e,n){if(t==null)return t;var r=[],i=0;return za(t,r,"","",function(o){return e.call(n,o,i++)}),r}function iw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Ba={transition:null},ow={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Ba,ReactCurrentOwner:Vh};function Ig(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:wa,forEach:function(t,e,n){wa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wa(t,function(){e++}),e},toArray:function(t){return wa(t,function(e){return e})||[]},only:function(t){if(!Nh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=mo;he.Fragment=q0;he.Profiler=Q0;he.PureComponent=xh;he.StrictMode=W0;he.Suspense=J0;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ow;he.act=Ig;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vg({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Vh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Eg.call(e,u)&&!Tg.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Hs,type:t.type,key:i,ref:o,props:r,_owner:s}};he.createContext=function(t){return t={$$typeof:Y0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:G0,_context:t},t.Consumer=t};he.createElement=Sg;he.createFactory=function(t){var e=Sg.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:X0,render:t}};he.isValidElement=Nh;he.lazy=function(t){return{$$typeof:ew,_payload:{_status:-1,_result:t},_init:iw}};he.memo=function(t,e){return{$$typeof:Z0,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Ba.transition;Ba.transition={};try{t()}finally{Ba.transition=e}};he.unstable_act=Ig;he.useCallback=function(t,e){return Vt.current.useCallback(t,e)};he.useContext=function(t){return Vt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Vt.current.useEffect(t,e)};he.useId=function(){return Vt.current.useId()};he.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Vt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};he.useRef=function(t){return Vt.current.useRef(t)};he.useState=function(t){return Vt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Vt.current.useTransition()};he.version="18.3.1";gg.exports=he;var K=gg.exports;const Ag=pg(K),sw=fg({__proto__:null,default:Ag},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw=K,lw=Symbol.for("react.element"),uw=Symbol.for("react.fragment"),cw=Object.prototype.hasOwnProperty,hw=aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dw={key:!0,ref:!0,__self:!0,__source:!0};function Rg(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)cw.call(e,r)&&!dw.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lw,type:t,key:o,ref:s,props:i,_owner:hw.current}}Kl.Fragment=uw;Kl.jsx=Rg;Kl.jsxs=Rg;mg.exports=Kl;var W=mg.exports,fc={},Cg={exports:{}},Wt={},Pg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,te){var re=z.length;z.push(te);e:for(;0<re;){var _e=re-1>>>1,ue=z[_e];if(0<i(ue,te))z[_e]=te,z[re]=ue,re=_e;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var te=z[0],re=z.pop();if(re!==te){z[0]=re;e:for(var _e=0,ue=z.length,Ee=ue>>>1;_e<Ee;){var Pt=2*(_e+1)-1,Xe=z[Pt],st=Pt+1,at=z[st];if(0>i(Xe,re))st<ue&&0>i(at,Xe)?(z[_e]=at,z[st]=re,_e=st):(z[_e]=Xe,z[Pt]=re,_e=Pt);else if(st<ue&&0>i(at,re))z[_e]=at,z[st]=re,_e=st;else break e}}return te}function i(z,te){var re=z.sortIndex-te.sortIndex;return re!==0?re:z.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],h=[],f=1,p=null,g=3,I=!1,C=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(z){for(var te=n(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=z)r(h),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(h)}}function L(z){if(P=!1,A(z),!C)if(n(u)!==null)C=!0,vn(B);else{var te=n(h);te!==null&&Mt(L,te.startTime-z)}}function B(z,te){C=!1,P&&(P=!1,S(v),v=-1),I=!0;var re=g;try{for(A(te),p=n(u);p!==null&&(!(p.expirationTime>te)||z&&!R());){var _e=p.callback;if(typeof _e=="function"){p.callback=null,g=p.priorityLevel;var ue=_e(p.expirationTime<=te);te=t.unstable_now(),typeof ue=="function"?p.callback=ue:p===n(u)&&r(u),A(te)}else r(u);p=n(u)}if(p!==null)var Ee=!0;else{var Pt=n(h);Pt!==null&&Mt(L,Pt.startTime-te),Ee=!1}return Ee}finally{p=null,g=re,I=!1}}var $=!1,m=null,v=-1,_=5,E=-1;function R(){return!(t.unstable_now()-E<_)}function k(){if(m!==null){var z=t.unstable_now();E=z;var te=!0;try{te=m(!0,z)}finally{te?T():($=!1,m=null)}}else $=!1}var T;if(typeof w=="function")T=function(){w(k)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,ot=Te.port2;Te.port1.onmessage=k,T=function(){ot.postMessage(null)}}else T=function(){N(k,0)};function vn(z){m=z,$||($=!0,T())}function Mt(z,te){v=N(function(){z(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){C||I||(C=!0,vn(B))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var re=g;g=te;try{return z()}finally{g=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=g;g=z;try{return te()}finally{g=re}},t.unstable_scheduleCallback=function(z,te,re){var _e=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?_e+re:_e):re=_e,z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=re+ue,z={id:f++,callback:te,priorityLevel:z,startTime:re,expirationTime:ue,sortIndex:-1},re>_e?(z.sortIndex=re,e(h,z),n(u)===null&&z===n(h)&&(P?(S(v),v=-1):P=!0,Mt(L,re-_e))):(z.sortIndex=ue,e(u,z),C||I||(C=!0,vn(B))),z},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(z){var te=g;return function(){var re=g;g=te;try{return z.apply(this,arguments)}finally{g=re}}}})(kg);Pg.exports=kg;var fw=Pg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw=K,qt=fw;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xg=new Set,_s={};function ci(t,e){Zi(t,e),Zi(t+"Capture",e)}function Zi(t,e){for(_s[t]=e,t=0;t<e.length;t++)xg.add(e[t])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pc=Object.prototype.hasOwnProperty,mw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$f={},Hf={};function gw(t){return pc.call(Hf,t)?!0:pc.call($f,t)?!1:mw.test(t)?Hf[t]=!0:($f[t]=!0,!1)}function yw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vw(t,e,n,r){if(e===null||typeof e>"u"||yw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mh=/[\-:]([a-z])/g;function Lh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mh,Lh);yt[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mh,Lh);yt[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mh,Lh);yt[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Oh(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vw(e,n,i,r)&&(n=null),r||i===null?gw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gn=pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ea=Symbol.for("react.element"),Di=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),Fh=Symbol.for("react.strict_mode"),mc=Symbol.for("react.profiler"),Dg=Symbol.for("react.provider"),Vg=Symbol.for("react.context"),Uh=Symbol.for("react.forward_ref"),gc=Symbol.for("react.suspense"),yc=Symbol.for("react.suspense_list"),jh=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),Ng=Symbol.for("react.offscreen"),qf=Symbol.iterator;function jo(t){return t===null||typeof t!="object"?null:(t=qf&&t[qf]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Du;function Xo(t){if(Du===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Du=e&&e[1]||""}return`
`+Du+t}var Vu=!1;function Nu(t,e){if(!t||Vu)return"";Vu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{Vu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xo(t):""}function _w(t){switch(t.tag){case 5:return Xo(t.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return t=Nu(t.type,!1),t;case 11:return t=Nu(t.type.render,!1),t;case 1:return t=Nu(t.type,!0),t;default:return""}}function vc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vi:return"Fragment";case Di:return"Portal";case mc:return"Profiler";case Fh:return"StrictMode";case gc:return"Suspense";case yc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vg:return(t.displayName||"Context")+".Consumer";case Dg:return(t._context.displayName||"Context")+".Provider";case Uh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jh:return e=t.displayName||null,e!==null?e:vc(t.type)||"Memo";case sr:e=t._payload,t=t._init;try{return vc(t(e))}catch{}}return null}function ww(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vc(e);case 8:return e===Fh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ew(t){var e=Mg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ta(t){t._valueTracker||(t._valueTracker=Ew(t))}function Lg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _c(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Wf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ar(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Og(t,e){e=e.checked,e!=null&&Oh(t,"checked",e,!1)}function wc(t,e){Og(t,e);var n=Ar(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ec(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ec(t,e.type,Ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ec(t,e,n){(e!=="number"||il(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jo=Array.isArray;function $i(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ar(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Jo(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ar(n)}}function Fg(t,e){var n=Ar(e.value),r=Ar(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ug(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ug(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sa,jg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sa=Sa||document.createElement("div"),Sa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ws(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tw=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(t){Tw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),os[e]=os[t]})});function bg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||os.hasOwnProperty(t)&&os[t]?(""+e).trim():e+"px"}function zg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Sw=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ic(t,e){if(e){if(Sw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Ac(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=null;function bh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cc=null,Hi=null,qi=null;function Xf(t){if(t=Qs(t)){if(typeof Cc!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Ql(e),Cc(t.stateNode,t.type,e))}}function Bg(t){Hi?qi?qi.push(t):qi=[t]:Hi=t}function Kg(){if(Hi){var t=Hi,e=qi;if(qi=Hi=null,Xf(t),e)for(t=0;t<e.length;t++)Xf(e[t])}}function $g(t,e){return t(e)}function Hg(){}var Mu=!1;function qg(t,e,n){if(Mu)return t(e,n);Mu=!0;try{return $g(t,e,n)}finally{Mu=!1,(Hi!==null||qi!==null)&&(Hg(),Kg())}}function Es(t,e){var n=t.stateNode;if(n===null)return null;var r=Ql(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Pc=!1;if(Kn)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Pc=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Pc=!1}function Iw(t,e,n,r,i,o,s,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var ss=!1,ol=null,sl=!1,kc=null,Aw={onError:function(t){ss=!0,ol=t}};function Rw(t,e,n,r,i,o,s,l,u){ss=!1,ol=null,Iw.apply(Aw,arguments)}function Cw(t,e,n,r,i,o,s,l,u){if(Rw.apply(this,arguments),ss){if(ss){var h=ol;ss=!1,ol=null}else throw Error(j(198));sl||(sl=!0,kc=h)}}function hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jf(t){if(hi(t)!==t)throw Error(j(188))}function Pw(t){var e=t.alternate;if(!e){if(e=hi(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jf(i),t;if(o===r)return Jf(i),e;o=o.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function Qg(t){return t=Pw(t),t!==null?Gg(t):null}function Gg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gg(t);if(e!==null)return e;t=t.sibling}return null}var Yg=qt.unstable_scheduleCallback,Zf=qt.unstable_cancelCallback,kw=qt.unstable_shouldYield,xw=qt.unstable_requestPaint,$e=qt.unstable_now,Dw=qt.unstable_getCurrentPriorityLevel,zh=qt.unstable_ImmediatePriority,Xg=qt.unstable_UserBlockingPriority,al=qt.unstable_NormalPriority,Vw=qt.unstable_LowPriority,Jg=qt.unstable_IdlePriority,$l=null,In=null;function Nw(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot($l,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:Ow,Mw=Math.log,Lw=Math.LN2;function Ow(t){return t>>>=0,t===0?32:31-(Mw(t)/Lw|0)|0}var Ia=64,Aa=4194304;function Zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ll(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Zo(l):(o&=s,o!==0&&(r=Zo(o)))}else s=n&~i,s!==0?r=Zo(s):o!==0&&(r=Zo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pn(e),i=1<<n,r|=t[n],e&=~i;return r}function Fw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-pn(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=Fw(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function xc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zg(){var t=Ia;return Ia<<=1,!(Ia&4194240)&&(Ia=64),t}function Lu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=n}function jw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Bh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function ey(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ty,Kh,ny,ry,iy,Dc=!1,Ra=[],fr=null,pr=null,mr=null,Ts=new Map,Ss=new Map,lr=[],bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ep(t,e){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Ts.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(e.pointerId)}}function zo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Qs(e),e!==null&&Kh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zw(t,e,n,r,i){switch(e){case"focusin":return fr=zo(fr,t,e,n,r,i),!0;case"dragenter":return pr=zo(pr,t,e,n,r,i),!0;case"mouseover":return mr=zo(mr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ts.set(o,zo(Ts.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ss.set(o,zo(Ss.get(o)||null,t,e,n,r,i)),!0}return!1}function oy(t){var e=$r(t.target);if(e!==null){var n=hi(e);if(n!==null){if(e=n.tag,e===13){if(e=Wg(n),e!==null){t.blockedOn=e,iy(t.priority,function(){ny(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ka(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rc=r,n.target.dispatchEvent(r),Rc=null}else return e=Qs(n),e!==null&&Kh(e),t.blockedOn=n,!1;e.shift()}return!0}function tp(t,e,n){Ka(t)&&n.delete(e)}function Bw(){Dc=!1,fr!==null&&Ka(fr)&&(fr=null),pr!==null&&Ka(pr)&&(pr=null),mr!==null&&Ka(mr)&&(mr=null),Ts.forEach(tp),Ss.forEach(tp)}function Bo(t,e){t.blockedOn===e&&(t.blockedOn=null,Dc||(Dc=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,Bw)))}function Is(t){function e(i){return Bo(i,t)}if(0<Ra.length){Bo(Ra[0],t);for(var n=1;n<Ra.length;n++){var r=Ra[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fr!==null&&Bo(fr,t),pr!==null&&Bo(pr,t),mr!==null&&Bo(mr,t),Ts.forEach(e),Ss.forEach(e),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)oy(n),n.blockedOn===null&&lr.shift()}var Wi=Gn.ReactCurrentBatchConfig,ul=!0;function Kw(t,e,n,r){var i=we,o=Wi.transition;Wi.transition=null;try{we=1,$h(t,e,n,r)}finally{we=i,Wi.transition=o}}function $w(t,e,n,r){var i=we,o=Wi.transition;Wi.transition=null;try{we=4,$h(t,e,n,r)}finally{we=i,Wi.transition=o}}function $h(t,e,n,r){if(ul){var i=Vc(t,e,n,r);if(i===null)Hu(t,e,r,cl,n),ep(t,r);else if(zw(i,t,e,n,r))r.stopPropagation();else if(ep(t,r),e&4&&-1<bw.indexOf(t)){for(;i!==null;){var o=Qs(i);if(o!==null&&ty(o),o=Vc(t,e,n,r),o===null&&Hu(t,e,r,cl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Hu(t,e,r,null,n)}}var cl=null;function Vc(t,e,n,r){if(cl=null,t=bh(r),t=$r(t),t!==null)if(e=hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cl=t,null}function sy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dw()){case zh:return 1;case Xg:return 4;case al:case Vw:return 16;case Jg:return 536870912;default:return 16}default:return 16}}var cr=null,Hh=null,$a=null;function ay(){if($a)return $a;var t,e=Hh,n=e.length,r,i="value"in cr?cr.value:cr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return $a=i.slice(t,1<r?1-r:void 0)}function Ha(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ca(){return!0}function np(){return!1}function Qt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ca:np,this.isPropagationStopped=np,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),e}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qh=Qt(go),Ws=je({},go,{view:0,detail:0}),Hw=Qt(Ws),Ou,Fu,Ko,Hl=je({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ko&&(Ko&&t.type==="mousemove"?(Ou=t.screenX-Ko.screenX,Fu=t.screenY-Ko.screenY):Fu=Ou=0,Ko=t),Ou)},movementY:function(t){return"movementY"in t?t.movementY:Fu}}),rp=Qt(Hl),qw=je({},Hl,{dataTransfer:0}),Ww=Qt(qw),Qw=je({},Ws,{relatedTarget:0}),Uu=Qt(Qw),Gw=je({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),Yw=Qt(Gw),Xw=je({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jw=Qt(Xw),Zw=je({},go,{data:0}),ip=Qt(Zw),eE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nE[t])?!!e[t]:!1}function Wh(){return rE}var iE=je({},Ws,{key:function(t){if(t.key){var e=eE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wh,charCode:function(t){return t.type==="keypress"?Ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oE=Qt(iE),sE=je({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=Qt(sE),aE=je({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wh}),lE=Qt(aE),uE=je({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),cE=Qt(uE),hE=je({},Hl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dE=Qt(hE),fE=[9,13,27,32],Qh=Kn&&"CompositionEvent"in window,as=null;Kn&&"documentMode"in document&&(as=document.documentMode);var pE=Kn&&"TextEvent"in window&&!as,ly=Kn&&(!Qh||as&&8<as&&11>=as),sp=" ",ap=!1;function uy(t,e){switch(t){case"keyup":return fE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ni=!1;function mE(t,e){switch(t){case"compositionend":return cy(e);case"keypress":return e.which!==32?null:(ap=!0,sp);case"textInput":return t=e.data,t===sp&&ap?null:t;default:return null}}function gE(t,e){if(Ni)return t==="compositionend"||!Qh&&uy(t,e)?(t=ay(),$a=Hh=cr=null,Ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ly&&e.locale!=="ko"?null:e.data;default:return null}}var yE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yE[t.type]:e==="textarea"}function hy(t,e,n,r){Bg(r),e=hl(e,"onChange"),0<e.length&&(n=new qh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ls=null,As=null;function vE(t){Ty(t,0)}function ql(t){var e=Oi(t);if(Lg(e))return t}function _E(t,e){if(t==="change")return e}var dy=!1;if(Kn){var ju;if(Kn){var bu="oninput"in document;if(!bu){var up=document.createElement("div");up.setAttribute("oninput","return;"),bu=typeof up.oninput=="function"}ju=bu}else ju=!1;dy=ju&&(!document.documentMode||9<document.documentMode)}function cp(){ls&&(ls.detachEvent("onpropertychange",fy),As=ls=null)}function fy(t){if(t.propertyName==="value"&&ql(As)){var e=[];hy(e,As,t,bh(t)),qg(vE,e)}}function wE(t,e,n){t==="focusin"?(cp(),ls=e,As=n,ls.attachEvent("onpropertychange",fy)):t==="focusout"&&cp()}function EE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ql(As)}function TE(t,e){if(t==="click")return ql(e)}function SE(t,e){if(t==="input"||t==="change")return ql(e)}function IE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:IE;function Rs(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pc.call(e,i)||!gn(t[i],e[i]))return!1}return!0}function hp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dp(t,e){var n=hp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hp(n)}}function py(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?py(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function my(){for(var t=window,e=il();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=il(t.document)}return e}function Gh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AE(t){var e=my(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&py(n.ownerDocument.documentElement,n)){if(r!==null&&Gh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=dp(n,o);var s=dp(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RE=Kn&&"documentMode"in document&&11>=document.documentMode,Mi=null,Nc=null,us=null,Mc=!1;function fp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mc||Mi==null||Mi!==il(r)||(r=Mi,"selectionStart"in r&&Gh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),us&&Rs(us,r)||(us=r,r=hl(Nc,"onSelect"),0<r.length&&(e=new qh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mi)))}function Pa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},zu={},gy={};Kn&&(gy=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Wl(t){if(zu[t])return zu[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gy)return zu[t]=e[n];return t}var yy=Wl("animationend"),vy=Wl("animationiteration"),_y=Wl("animationstart"),wy=Wl("transitionend"),Ey=new Map,pp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,e){Ey.set(t,e),ci(e,[t])}for(var Bu=0;Bu<pp.length;Bu++){var Ku=pp[Bu],CE=Ku.toLowerCase(),PE=Ku[0].toUpperCase()+Ku.slice(1);xr(CE,"on"+PE)}xr(yy,"onAnimationEnd");xr(vy,"onAnimationIteration");xr(_y,"onAnimationStart");xr("dblclick","onDoubleClick");xr("focusin","onFocus");xr("focusout","onBlur");xr(wy,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("cancel close invalid load scroll toggle".split(" ").concat(es));function mp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Cw(r,e,void 0,t),t.currentTarget=null}function Ty(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;mp(i,l,h),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,h=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;mp(i,l,h),o=u}}}if(sl)throw t=kc,sl=!1,kc=null,t}function ke(t,e){var n=e[jc];n===void 0&&(n=e[jc]=new Set);var r=t+"__bubble";n.has(r)||(Sy(e,t,2,!1),n.add(r))}function $u(t,e,n){var r=0;e&&(r|=4),Sy(n,t,r,e)}var ka="_reactListening"+Math.random().toString(36).slice(2);function Cs(t){if(!t[ka]){t[ka]=!0,xg.forEach(function(n){n!=="selectionchange"&&(kE.has(n)||$u(n,!1,t),$u(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ka]||(e[ka]=!0,$u("selectionchange",!1,e))}}function Sy(t,e,n,r){switch(sy(e)){case 1:var i=Kw;break;case 4:i=$w;break;default:i=$h}n=i.bind(null,e,n,t),i=void 0,!Pc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hu(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=$r(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}qg(function(){var h=o,f=bh(n),p=[];e:{var g=Ey.get(t);if(g!==void 0){var I=qh,C=t;switch(t){case"keypress":if(Ha(n)===0)break e;case"keydown":case"keyup":I=oE;break;case"focusin":C="focus",I=Uu;break;case"focusout":C="blur",I=Uu;break;case"beforeblur":case"afterblur":I=Uu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Ww;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=lE;break;case yy:case vy:case _y:I=Yw;break;case wy:I=cE;break;case"scroll":I=Hw;break;case"wheel":I=dE;break;case"copy":case"cut":case"paste":I=Jw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=op}var P=(e&4)!==0,N=!P&&t==="scroll",S=P?g!==null?g+"Capture":null:g;P=[];for(var w=h,A;w!==null;){A=w;var L=A.stateNode;if(A.tag===5&&L!==null&&(A=L,S!==null&&(L=Es(w,S),L!=null&&P.push(Ps(w,L,A)))),N)break;w=w.return}0<P.length&&(g=new I(g,C,null,n,f),p.push({event:g,listeners:P}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",g&&n!==Rc&&(C=n.relatedTarget||n.fromElement)&&($r(C)||C[$n]))break e;if((I||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,I?(C=n.relatedTarget||n.toElement,I=h,C=C?$r(C):null,C!==null&&(N=hi(C),C!==N||C.tag!==5&&C.tag!==6)&&(C=null)):(I=null,C=h),I!==C)){if(P=rp,L="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(P=op,L="onPointerLeave",S="onPointerEnter",w="pointer"),N=I==null?g:Oi(I),A=C==null?g:Oi(C),g=new P(L,w+"leave",I,n,f),g.target=N,g.relatedTarget=A,L=null,$r(f)===h&&(P=new P(S,w+"enter",C,n,f),P.target=A,P.relatedTarget=N,L=P),N=L,I&&C)t:{for(P=I,S=C,w=0,A=P;A;A=Ri(A))w++;for(A=0,L=S;L;L=Ri(L))A++;for(;0<w-A;)P=Ri(P),w--;for(;0<A-w;)S=Ri(S),A--;for(;w--;){if(P===S||S!==null&&P===S.alternate)break t;P=Ri(P),S=Ri(S)}P=null}else P=null;I!==null&&gp(p,g,I,P,!1),C!==null&&N!==null&&gp(p,N,C,P,!0)}}e:{if(g=h?Oi(h):window,I=g.nodeName&&g.nodeName.toLowerCase(),I==="select"||I==="input"&&g.type==="file")var B=_E;else if(lp(g))if(dy)B=SE;else{B=EE;var $=wE}else(I=g.nodeName)&&I.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(B=TE);if(B&&(B=B(t,h))){hy(p,B,n,f);break e}$&&$(t,g,h),t==="focusout"&&($=g._wrapperState)&&$.controlled&&g.type==="number"&&Ec(g,"number",g.value)}switch($=h?Oi(h):window,t){case"focusin":(lp($)||$.contentEditable==="true")&&(Mi=$,Nc=h,us=null);break;case"focusout":us=Nc=Mi=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,fp(p,n,f);break;case"selectionchange":if(RE)break;case"keydown":case"keyup":fp(p,n,f)}var m;if(Qh)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ni?uy(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(ly&&n.locale!=="ko"&&(Ni||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ni&&(m=ay()):(cr=f,Hh="value"in cr?cr.value:cr.textContent,Ni=!0)),$=hl(h,v),0<$.length&&(v=new ip(v,t,null,n,f),p.push({event:v,listeners:$}),m?v.data=m:(m=cy(n),m!==null&&(v.data=m)))),(m=pE?mE(t,n):gE(t,n))&&(h=hl(h,"onBeforeInput"),0<h.length&&(f=new ip("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=m))}Ty(p,e)})}function Ps(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Es(t,n),o!=null&&r.unshift(Ps(t,o,i)),o=Es(t,e),o!=null&&r.push(Ps(t,o,i))),t=t.return}return r}function Ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gp(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Es(n,o),u!=null&&s.unshift(Ps(n,u,l))):i||(u=Es(n,o),u!=null&&s.push(Ps(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var xE=/\r\n?/g,DE=/\u0000|\uFFFD/g;function yp(t){return(typeof t=="string"?t:""+t).replace(xE,`
`).replace(DE,"")}function xa(t,e,n){if(e=yp(e),yp(t)!==e&&n)throw Error(j(425))}function dl(){}var Lc=null,Oc=null;function Fc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uc=typeof setTimeout=="function"?setTimeout:void 0,VE=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,NE=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(t){return vp.resolve(null).then(t).catch(ME)}:Uc;function ME(t){setTimeout(function(){throw t})}function qu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Is(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Is(e)}function gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _p(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yo=Math.random().toString(36).slice(2),Sn="__reactFiber$"+yo,ks="__reactProps$"+yo,$n="__reactContainer$"+yo,jc="__reactEvents$"+yo,LE="__reactListeners$"+yo,OE="__reactHandles$"+yo;function $r(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_p(t);t!==null;){if(n=t[Sn])return n;t=_p(t)}return e}t=n,n=t.parentNode}return null}function Qs(t){return t=t[Sn]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Ql(t){return t[ks]||null}var bc=[],Fi=-1;function Dr(t){return{current:t}}function De(t){0>Fi||(t.current=bc[Fi],bc[Fi]=null,Fi--)}function Ae(t,e){Fi++,bc[Fi]=t.current,t.current=e}var Rr={},Rt=Dr(Rr),Ft=Dr(!1),ei=Rr;function eo(t,e){var n=t.type.contextTypes;if(!n)return Rr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ut(t){return t=t.childContextTypes,t!=null}function fl(){De(Ft),De(Rt)}function wp(t,e,n){if(Rt.current!==Rr)throw Error(j(168));Ae(Rt,e),Ae(Ft,n)}function Iy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,ww(t)||"Unknown",i));return je({},n,r)}function pl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rr,ei=Rt.current,Ae(Rt,t),Ae(Ft,Ft.current),!0}function Ep(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Iy(t,e,ei),r.__reactInternalMemoizedMergedChildContext=t,De(Ft),De(Rt),Ae(Rt,t)):De(Ft),Ae(Ft,n)}var Un=null,Gl=!1,Wu=!1;function Ay(t){Un===null?Un=[t]:Un.push(t)}function FE(t){Gl=!0,Ay(t)}function Vr(){if(!Wu&&Un!==null){Wu=!0;var t=0,e=we;try{var n=Un;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Un=null,Gl=!1}catch(i){throw Un!==null&&(Un=Un.slice(t+1)),Yg(zh,Vr),i}finally{we=e,Wu=!1}}return null}var Ui=[],ji=0,ml=null,gl=0,Xt=[],Jt=0,ti=null,jn=1,bn="";function zr(t,e){Ui[ji++]=gl,Ui[ji++]=ml,ml=t,gl=e}function Ry(t,e,n){Xt[Jt++]=jn,Xt[Jt++]=bn,Xt[Jt++]=ti,ti=t;var r=jn;t=bn;var i=32-pn(r)-1;r&=~(1<<i),n+=1;var o=32-pn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,jn=1<<32-pn(e)+i|n<<i|r,bn=o+t}else jn=1<<o|n<<i|r,bn=t}function Yh(t){t.return!==null&&(zr(t,1),Ry(t,1,0))}function Xh(t){for(;t===ml;)ml=Ui[--ji],Ui[ji]=null,gl=Ui[--ji],Ui[ji]=null;for(;t===ti;)ti=Xt[--Jt],Xt[Jt]=null,bn=Xt[--Jt],Xt[Jt]=null,jn=Xt[--Jt],Xt[Jt]=null}var Ht=null,$t=null,Me=!1,dn=null;function Cy(t,e){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Tp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ht=t,$t=gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ht=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ti!==null?{id:jn,overflow:bn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ht=t,$t=null,!0):!1;default:return!1}}function zc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bc(t){if(Me){var e=$t;if(e){var n=e;if(!Tp(t,e)){if(zc(t))throw Error(j(418));e=gr(n.nextSibling);var r=Ht;e&&Tp(t,e)?Cy(r,n):(t.flags=t.flags&-4097|2,Me=!1,Ht=t)}}else{if(zc(t))throw Error(j(418));t.flags=t.flags&-4097|2,Me=!1,Ht=t}}}function Sp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function Da(t){if(t!==Ht)return!1;if(!Me)return Sp(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fc(t.type,t.memoizedProps)),e&&(e=$t)){if(zc(t))throw Py(),Error(j(418));for(;e;)Cy(t,e),e=gr(e.nextSibling)}if(Sp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=Ht?gr(t.stateNode.nextSibling):null;return!0}function Py(){for(var t=$t;t;)t=gr(t.nextSibling)}function to(){$t=Ht=null,Me=!1}function Jh(t){dn===null?dn=[t]:dn.push(t)}var UE=Gn.ReactCurrentBatchConfig;function $o(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Va(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ip(t){var e=t._init;return e(t._payload)}function ky(t){function e(S,w){if(t){var A=S.deletions;A===null?(S.deletions=[w],S.flags|=16):A.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function r(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(S,w){return S=wr(S,w),S.index=0,S.sibling=null,S}function o(S,w,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<w?(S.flags|=2,w):A):(S.flags|=2,w)):(S.flags|=1048576,w)}function s(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,w,A,L){return w===null||w.tag!==6?(w=ec(A,S.mode,L),w.return=S,w):(w=i(w,A),w.return=S,w)}function u(S,w,A,L){var B=A.type;return B===Vi?f(S,w,A.props.children,L,A.key):w!==null&&(w.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===sr&&Ip(B)===w.type)?(L=i(w,A.props),L.ref=$o(S,w,A),L.return=S,L):(L=Ja(A.type,A.key,A.props,null,S.mode,L),L.ref=$o(S,w,A),L.return=S,L)}function h(S,w,A,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=tc(A,S.mode,L),w.return=S,w):(w=i(w,A.children||[]),w.return=S,w)}function f(S,w,A,L,B){return w===null||w.tag!==7?(w=Xr(A,S.mode,L,B),w.return=S,w):(w=i(w,A),w.return=S,w)}function p(S,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ec(""+w,S.mode,A),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ea:return A=Ja(w.type,w.key,w.props,null,S.mode,A),A.ref=$o(S,null,w),A.return=S,A;case Di:return w=tc(w,S.mode,A),w.return=S,w;case sr:var L=w._init;return p(S,L(w._payload),A)}if(Jo(w)||jo(w))return w=Xr(w,S.mode,A,null),w.return=S,w;Va(S,w)}return null}function g(S,w,A,L){var B=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return B!==null?null:l(S,w,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ea:return A.key===B?u(S,w,A,L):null;case Di:return A.key===B?h(S,w,A,L):null;case sr:return B=A._init,g(S,w,B(A._payload),L)}if(Jo(A)||jo(A))return B!==null?null:f(S,w,A,L,null);Va(S,A)}return null}function I(S,w,A,L,B){if(typeof L=="string"&&L!==""||typeof L=="number")return S=S.get(A)||null,l(w,S,""+L,B);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ea:return S=S.get(L.key===null?A:L.key)||null,u(w,S,L,B);case Di:return S=S.get(L.key===null?A:L.key)||null,h(w,S,L,B);case sr:var $=L._init;return I(S,w,A,$(L._payload),B)}if(Jo(L)||jo(L))return S=S.get(A)||null,f(w,S,L,B,null);Va(w,L)}return null}function C(S,w,A,L){for(var B=null,$=null,m=w,v=w=0,_=null;m!==null&&v<A.length;v++){m.index>v?(_=m,m=null):_=m.sibling;var E=g(S,m,A[v],L);if(E===null){m===null&&(m=_);break}t&&m&&E.alternate===null&&e(S,m),w=o(E,w,v),$===null?B=E:$.sibling=E,$=E,m=_}if(v===A.length)return n(S,m),Me&&zr(S,v),B;if(m===null){for(;v<A.length;v++)m=p(S,A[v],L),m!==null&&(w=o(m,w,v),$===null?B=m:$.sibling=m,$=m);return Me&&zr(S,v),B}for(m=r(S,m);v<A.length;v++)_=I(m,S,v,A[v],L),_!==null&&(t&&_.alternate!==null&&m.delete(_.key===null?v:_.key),w=o(_,w,v),$===null?B=_:$.sibling=_,$=_);return t&&m.forEach(function(R){return e(S,R)}),Me&&zr(S,v),B}function P(S,w,A,L){var B=jo(A);if(typeof B!="function")throw Error(j(150));if(A=B.call(A),A==null)throw Error(j(151));for(var $=B=null,m=w,v=w=0,_=null,E=A.next();m!==null&&!E.done;v++,E=A.next()){m.index>v?(_=m,m=null):_=m.sibling;var R=g(S,m,E.value,L);if(R===null){m===null&&(m=_);break}t&&m&&R.alternate===null&&e(S,m),w=o(R,w,v),$===null?B=R:$.sibling=R,$=R,m=_}if(E.done)return n(S,m),Me&&zr(S,v),B;if(m===null){for(;!E.done;v++,E=A.next())E=p(S,E.value,L),E!==null&&(w=o(E,w,v),$===null?B=E:$.sibling=E,$=E);return Me&&zr(S,v),B}for(m=r(S,m);!E.done;v++,E=A.next())E=I(m,S,v,E.value,L),E!==null&&(t&&E.alternate!==null&&m.delete(E.key===null?v:E.key),w=o(E,w,v),$===null?B=E:$.sibling=E,$=E);return t&&m.forEach(function(k){return e(S,k)}),Me&&zr(S,v),B}function N(S,w,A,L){if(typeof A=="object"&&A!==null&&A.type===Vi&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Ea:e:{for(var B=A.key,$=w;$!==null;){if($.key===B){if(B=A.type,B===Vi){if($.tag===7){n(S,$.sibling),w=i($,A.props.children),w.return=S,S=w;break e}}else if($.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===sr&&Ip(B)===$.type){n(S,$.sibling),w=i($,A.props),w.ref=$o(S,$,A),w.return=S,S=w;break e}n(S,$);break}else e(S,$);$=$.sibling}A.type===Vi?(w=Xr(A.props.children,S.mode,L,A.key),w.return=S,S=w):(L=Ja(A.type,A.key,A.props,null,S.mode,L),L.ref=$o(S,w,A),L.return=S,S=L)}return s(S);case Di:e:{for($=A.key;w!==null;){if(w.key===$)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){n(S,w.sibling),w=i(w,A.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else e(S,w);w=w.sibling}w=tc(A,S.mode,L),w.return=S,S=w}return s(S);case sr:return $=A._init,N(S,w,$(A._payload),L)}if(Jo(A))return C(S,w,A,L);if(jo(A))return P(S,w,A,L);Va(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(n(S,w.sibling),w=i(w,A),w.return=S,S=w):(n(S,w),w=ec(A,S.mode,L),w.return=S,S=w),s(S)):n(S,w)}return N}var no=ky(!0),xy=ky(!1),yl=Dr(null),vl=null,bi=null,Zh=null;function ed(){Zh=bi=vl=null}function td(t){var e=yl.current;De(yl),t._currentValue=e}function Kc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qi(t,e){vl=t,Zh=bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(Zh!==t)if(t={context:t,memoizedValue:e,next:null},bi===null){if(vl===null)throw Error(j(308));bi=t,vl.dependencies={lanes:0,firstContext:t}}else bi=bi.next=t;return e}var Hr=null;function nd(t){Hr===null?Hr=[t]:Hr.push(t)}function Dy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nd(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hn(t,r)}function Hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ar=!1;function rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hn(t,n)}return i=r.interleaved,i===null?(e.next=e,nd(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hn(t,n)}function qa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bh(t,n)}}function Ap(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _l(t,e,n,r){var i=t.updateQueue;ar=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,s===null?o=h:s.next=h,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,f=h=u=null,l=o;do{var g=l.lane,I=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:I,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,P=l;switch(g=e,I=n,P.tag){case 1:if(C=P.payload,typeof C=="function"){p=C.call(I,p,g);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=P.payload,g=typeof C=="function"?C.call(I,p,g):C,g==null)break e;p=je({},p,g);break e;case 2:ar=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else I={eventTime:I,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=I,u=p):f=f.next=I,s|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ri|=s,t.lanes=s,t.memoizedState=p}}function Rp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var Gs={},An=Dr(Gs),xs=Dr(Gs),Ds=Dr(Gs);function qr(t){if(t===Gs)throw Error(j(174));return t}function id(t,e){switch(Ae(Ds,e),Ae(xs,t),Ae(An,Gs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sc(e,t)}De(An),Ae(An,e)}function ro(){De(An),De(xs),De(Ds)}function Ny(t){qr(Ds.current);var e=qr(An.current),n=Sc(e,t.type);e!==n&&(Ae(xs,t),Ae(An,n))}function od(t){xs.current===t&&(De(An),De(xs))}var Fe=Dr(0);function wl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qu=[];function sd(){for(var t=0;t<Qu.length;t++)Qu[t]._workInProgressVersionPrimary=null;Qu.length=0}var Wa=Gn.ReactCurrentDispatcher,Gu=Gn.ReactCurrentBatchConfig,ni=0,Ue=null,Ze=null,rt=null,El=!1,cs=!1,Vs=0,jE=0;function wt(){throw Error(j(321))}function ad(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function ld(t,e,n,r,i,o){if(ni=o,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wa.current=t===null||t.memoizedState===null?KE:$E,t=n(r,i),cs){o=0;do{if(cs=!1,Vs=0,25<=o)throw Error(j(301));o+=1,rt=Ze=null,e.updateQueue=null,Wa.current=HE,t=n(r,i)}while(cs)}if(Wa.current=Tl,e=Ze!==null&&Ze.next!==null,ni=0,rt=Ze=Ue=null,El=!1,e)throw Error(j(300));return t}function ud(){var t=Vs!==0;return Vs=0,t}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ue.memoizedState=rt=t:rt=rt.next=t,rt}function on(){if(Ze===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=rt===null?Ue.memoizedState:rt.next;if(e!==null)rt=e,Ze=t;else{if(t===null)throw Error(j(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},rt===null?Ue.memoizedState=rt=t:rt=rt.next=t}return rt}function Ns(t,e){return typeof e=="function"?e(t):e}function Yu(t){var e=on(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Ze,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,h=o;do{var f=h.lane;if((ni&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,Ue.lanes|=f,ri|=f}h=h.next}while(h!==null&&h!==o);u===null?s=r:u.next=l,gn(r,e.memoizedState)||(Ot=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ue.lanes|=o,ri|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xu(t){var e=on(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);gn(o,e.memoizedState)||(Ot=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function My(){}function Ly(t,e){var n=Ue,r=on(),i=e(),o=!gn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ot=!0),r=r.queue,cd(Uy.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Ms(9,Fy.bind(null,n,r,i,e),void 0,null),it===null)throw Error(j(349));ni&30||Oy(n,e,i)}return i}function Oy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fy(t,e,n,r){e.value=n,e.getSnapshot=r,jy(e)&&by(t)}function Uy(t,e,n){return n(function(){jy(e)&&by(t)})}function jy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function by(t){var e=Hn(t,1);e!==null&&mn(e,t,1,-1)}function Cp(t){var e=Tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:t},e.queue=t,t=t.dispatch=BE.bind(null,Ue,t),[e.memoizedState,t]}function Ms(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zy(){return on().memoizedState}function Qa(t,e,n,r){var i=Tn();Ue.flags|=t,i.memoizedState=Ms(1|e,n,void 0,r===void 0?null:r)}function Yl(t,e,n,r){var i=on();r=r===void 0?null:r;var o=void 0;if(Ze!==null){var s=Ze.memoizedState;if(o=s.destroy,r!==null&&ad(r,s.deps)){i.memoizedState=Ms(e,n,o,r);return}}Ue.flags|=t,i.memoizedState=Ms(1|e,n,o,r)}function Pp(t,e){return Qa(8390656,8,t,e)}function cd(t,e){return Yl(2048,8,t,e)}function By(t,e){return Yl(4,2,t,e)}function Ky(t,e){return Yl(4,4,t,e)}function $y(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hy(t,e,n){return n=n!=null?n.concat([t]):null,Yl(4,4,$y.bind(null,e,t),n)}function hd(){}function qy(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ad(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Wy(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ad(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qy(t,e,n){return ni&21?(gn(n,e)||(n=Zg(),Ue.lanes|=n,ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=n)}function bE(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Gu.transition;Gu.transition={};try{t(!1),e()}finally{we=n,Gu.transition=r}}function Gy(){return on().memoizedState}function zE(t,e,n){var r=_r(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yy(t))Xy(e,n);else if(n=Dy(t,e,n,r),n!==null){var i=Dt();mn(n,t,r,i),Jy(n,e,r)}}function BE(t,e,n){var r=_r(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yy(t))Xy(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,gn(l,s)){var u=e.interleaved;u===null?(i.next=i,nd(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Dy(t,e,i,r),n!==null&&(i=Dt(),mn(n,t,r,i),Jy(n,e,r))}}function Yy(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function Xy(t,e){cs=El=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bh(t,n)}}var Tl={readContext:rn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},KE={readContext:rn,useCallback:function(t,e){return Tn().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:Pp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qa(4194308,4,$y.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qa(4,2,t,e)},useMemo:function(t,e){var n=Tn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zE.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Tn();return t={current:t},e.memoizedState=t},useState:Cp,useDebugValue:hd,useDeferredValue:function(t){return Tn().memoizedState=t},useTransition:function(){var t=Cp(!1),e=t[0];return t=bE.bind(null,t[1]),Tn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=Tn();if(Me){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),it===null)throw Error(j(349));ni&30||Oy(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Pp(Uy.bind(null,r,o,t),[t]),r.flags|=2048,Ms(9,Fy.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Tn(),e=it.identifierPrefix;if(Me){var n=bn,r=jn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$E={readContext:rn,useCallback:qy,useContext:rn,useEffect:cd,useImperativeHandle:Hy,useInsertionEffect:By,useLayoutEffect:Ky,useMemo:Wy,useReducer:Yu,useRef:zy,useState:function(){return Yu(Ns)},useDebugValue:hd,useDeferredValue:function(t){var e=on();return Qy(e,Ze.memoizedState,t)},useTransition:function(){var t=Yu(Ns)[0],e=on().memoizedState;return[t,e]},useMutableSource:My,useSyncExternalStore:Ly,useId:Gy,unstable_isNewReconciler:!1},HE={readContext:rn,useCallback:qy,useContext:rn,useEffect:cd,useImperativeHandle:Hy,useInsertionEffect:By,useLayoutEffect:Ky,useMemo:Wy,useReducer:Xu,useRef:zy,useState:function(){return Xu(Ns)},useDebugValue:hd,useDeferredValue:function(t){var e=on();return Ze===null?e.memoizedState=t:Qy(e,Ze.memoizedState,t)},useTransition:function(){var t=Xu(Ns)[0],e=on().memoizedState;return[t,e]},useMutableSource:My,useSyncExternalStore:Ly,useId:Gy,unstable_isNewReconciler:!1};function un(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $c(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xl={isMounted:function(t){return(t=t._reactInternals)?hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=_r(t),o=zn(r,i);o.payload=e,n!=null&&(o.callback=n),e=yr(t,o,i),e!==null&&(mn(e,t,i,r),qa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=_r(t),o=zn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=yr(t,o,i),e!==null&&(mn(e,t,i,r),qa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=_r(t),i=zn(n,r);i.tag=2,e!=null&&(i.callback=e),e=yr(t,i,r),e!==null&&(mn(e,t,r,n),qa(e,t,r))}};function kp(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Rs(n,r)||!Rs(i,o):!0}function Zy(t,e,n){var r=!1,i=Rr,o=e.contextType;return typeof o=="object"&&o!==null?o=rn(o):(i=Ut(e)?ei:Rt.current,r=e.contextTypes,o=(r=r!=null)?eo(t,i):Rr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function xp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xl.enqueueReplaceState(e,e.state,null)}function Hc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},rd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=rn(o):(o=Ut(e)?ei:Rt.current,i.context=eo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&($c(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xl.enqueueReplaceState(i,i.state,null),_l(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function io(t,e){try{var n="",r=e;do n+=_w(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ju(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qE=typeof WeakMap=="function"?WeakMap:Map;function ev(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Il||(Il=!0,nh=r),qc(t,e)},n}function tv(t,e,n){n=zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){qc(t,e),typeof r!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Dp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=s1.bind(null,t,e,n),e.then(t,t))}function Vp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Np(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,yr(n,e,1))),n.lanes|=1),t)}var WE=Gn.ReactCurrentOwner,Ot=!1;function xt(t,e,n,r){e.child=t===null?xy(e,null,n,r):no(e,t.child,n,r)}function Mp(t,e,n,r,i){n=n.render;var o=e.ref;return Qi(e,i),r=ld(t,e,n,r,o,i),n=ud(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qn(t,e,i)):(Me&&n&&Yh(e),e.flags|=1,xt(t,e,r,i),e.child)}function Lp(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!_d(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,nv(t,e,o,r,i)):(t=Ja(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Rs,n(s,r)&&t.ref===e.ref)return qn(t,e,i)}return e.flags|=1,t=wr(o,r),t.ref=e.ref,t.return=e,e.child=t}function nv(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Rs(o,r)&&t.ref===e.ref)if(Ot=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ot=!0);else return e.lanes=t.lanes,qn(t,e,i)}return Wc(t,e,n,r,i)}function rv(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Bi,Kt),Kt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(Bi,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ae(Bi,Kt),Kt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ae(Bi,Kt),Kt|=r;return xt(t,e,i,n),e.child}function iv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wc(t,e,n,r,i){var o=Ut(n)?ei:Rt.current;return o=eo(e,o),Qi(e,i),n=ld(t,e,n,r,o,i),r=ud(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qn(t,e,i)):(Me&&r&&Yh(e),e.flags|=1,xt(t,e,n,i),e.child)}function Op(t,e,n,r,i){if(Ut(n)){var o=!0;pl(e)}else o=!1;if(Qi(e,i),e.stateNode===null)Ga(t,e),Zy(e,n,r),Hc(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=rn(h):(h=Ut(n)?ei:Rt.current,h=eo(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==h)&&xp(e,s,r,h),ar=!1;var g=e.memoizedState;s.state=g,_l(e,r,s,i),u=e.memoizedState,l!==r||g!==u||Ft.current||ar?(typeof f=="function"&&($c(e,n,f,r),u=e.memoizedState),(l=ar||kp(e,n,l,r,g,u,h))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=h,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Vy(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:un(e.type,l),s.props=h,p=e.pendingProps,g=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=rn(u):(u=Ut(n)?ei:Rt.current,u=eo(e,u));var I=n.getDerivedStateFromProps;(f=typeof I=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||g!==u)&&xp(e,s,r,u),ar=!1,g=e.memoizedState,s.state=g,_l(e,r,s,i);var C=e.memoizedState;l!==p||g!==C||Ft.current||ar?(typeof I=="function"&&($c(e,n,I,r),C=e.memoizedState),(h=ar||kp(e,n,h,r,g,C,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),s.props=r,s.state=C,s.context=u,r=h):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Qc(t,e,n,r,o,i)}function Qc(t,e,n,r,i,o){iv(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Ep(e,n,!1),qn(t,e,o);r=e.stateNode,WE.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=no(e,t.child,null,o),e.child=no(e,null,l,o)):xt(t,e,l,o),e.memoizedState=r.state,i&&Ep(e,n,!0),e.child}function ov(t){var e=t.stateNode;e.pendingContext?wp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wp(t,e.context,!1),id(t,e.containerInfo)}function Fp(t,e,n,r,i){return to(),Jh(i),e.flags|=256,xt(t,e,n,r),e.child}var Gc={dehydrated:null,treeContext:null,retryLane:0};function Yc(t){return{baseLanes:t,cachePool:null,transitions:null}}function sv(t,e,n){var r=e.pendingProps,i=Fe.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ae(Fe,i&1),t===null)return Bc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=eu(s,r,0,null),t=Xr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Yc(n),e.memoizedState=Gc,t):dd(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return QE(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=wr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=wr(l,o):(o=Xr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Yc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Gc,r}return o=t.child,t=o.sibling,r=wr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dd(t,e){return e=eu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Na(t,e,n,r){return r!==null&&Jh(r),no(e,t.child,null,n),t=dd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QE(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ju(Error(j(422))),Na(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=eu({mode:"visible",children:r.children},i,0,null),o=Xr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&no(e,t.child,null,s),e.child.memoizedState=Yc(s),e.memoizedState=Gc,o);if(!(e.mode&1))return Na(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(j(419)),r=Ju(o,r,void 0),Na(t,e,s,r)}if(l=(s&t.childLanes)!==0,Ot||l){if(r=it,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Hn(t,i),mn(r,t,i,-1))}return vd(),r=Ju(Error(j(421))),Na(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=a1.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,$t=gr(i.nextSibling),Ht=e,Me=!0,dn=null,t!==null&&(Xt[Jt++]=jn,Xt[Jt++]=bn,Xt[Jt++]=ti,jn=t.id,bn=t.overflow,ti=e),e=dd(e,r.children),e.flags|=4096,e)}function Up(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kc(t.return,e,n)}function Zu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function av(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xt(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Up(t,n,e);else if(t.tag===19)Up(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zu(e,!0,n,null,o);break;case"together":Zu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ga(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GE(t,e,n){switch(e.tag){case 3:ov(e),to();break;case 5:Ny(e);break;case 1:Ut(e.type)&&pl(e);break;case 4:id(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ae(yl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?sv(t,e,n):(Ae(Fe,Fe.current&1),t=qn(t,e,n),t!==null?t.sibling:null);Ae(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return av(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,rv(t,e,n)}return qn(t,e,n)}var lv,Xc,uv,cv;lv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xc=function(){};uv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qr(An.current);var o=null;switch(n){case"input":i=_c(t,i),r=_c(t,r),o=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),o=[];break;case"textarea":i=Tc(t,i),r=Tc(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dl)}Ic(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(_s.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(_s.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&ke("scroll",t),o||l===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};cv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ho(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YE(t,e,n){var r=e.pendingProps;switch(Xh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Ut(e.type)&&fl(),Et(e),null;case 3:return r=e.stateNode,ro(),De(Ft),De(Rt),sd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Da(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(oh(dn),dn=null))),Xc(t,e),Et(e),null;case 5:od(e);var i=qr(Ds.current);if(n=e.type,t!==null&&e.stateNode!=null)uv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Et(e),null}if(t=qr(An.current),Da(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Sn]=e,r[ks]=o,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<es.length;i++)ke(es[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Wf(r,o),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ke("invalid",r);break;case"textarea":Gf(r,o),ke("invalid",r)}Ic(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&xa(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&xa(r.textContent,l,t),i=["children",""+l]):_s.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ke("scroll",r)}switch(n){case"input":Ta(r),Qf(r,o,!0);break;case"textarea":Ta(r),Yf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=dl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ug(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Sn]=e,t[ks]=r,lv(t,e,!1,!1),e.stateNode=t;e:{switch(s=Ac(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<es.length;i++)ke(es[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":Wf(t,r),i=_c(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),ke("invalid",t);break;case"textarea":Gf(t,r),i=Tc(t,r),ke("invalid",t);break;default:i=r}Ic(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?zg(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&jg(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ws(t,u):typeof u=="number"&&ws(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_s.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ke("scroll",t):u!=null&&Oh(t,o,u,s))}switch(n){case"input":Ta(t),Qf(t,r,!1);break;case"textarea":Ta(t),Yf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ar(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?$i(t,!!r.multiple,o,!1):r.defaultValue!=null&&$i(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)cv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=qr(Ds.current),qr(An.current),Da(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(o=r.nodeValue!==n)&&(t=Ht,t!==null))switch(t.tag){case 3:xa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return Et(e),null;case 13:if(De(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&$t!==null&&e.mode&1&&!(e.flags&128))Py(),to(),e.flags|=98560,o=!1;else if(o=Da(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(j(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(j(317));o[Sn]=e}else to(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),o=!1}else dn!==null&&(oh(dn),dn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?et===0&&(et=3):vd())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return ro(),Xc(t,e),t===null&&Cs(e.stateNode.containerInfo),Et(e),null;case 10:return td(e.type._context),Et(e),null;case 17:return Ut(e.type)&&fl(),Et(e),null;case 19:if(De(Fe),o=e.memoizedState,o===null)return Et(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ho(o,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=wl(t),s!==null){for(e.flags|=128,Ho(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Fe,Fe.current&1|2),e.child}t=t.sibling}o.tail!==null&&$e()>oo&&(e.flags|=128,r=!0,Ho(o,!1),e.lanes=4194304)}else{if(!r)if(t=wl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ho(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Me)return Et(e),null}else 2*$e()-o.renderingStartTime>oo&&n!==1073741824&&(e.flags|=128,r=!0,Ho(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,n=Fe.current,Ae(Fe,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return yd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function XE(t,e){switch(Xh(e),e.tag){case 1:return Ut(e.type)&&fl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ro(),De(Ft),De(Rt),sd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return od(e),null;case 13:if(De(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));to()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Fe),null;case 4:return ro(),null;case 10:return td(e.type._context),null;case 22:case 23:return yd(),null;case 24:return null;default:return null}}var Ma=!1,It=!1,JE=typeof WeakSet=="function"?WeakSet:Set,G=null;function zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function Jc(t,e,n){try{n()}catch(r){Be(t,e,r)}}var jp=!1;function ZE(t,e){if(Lc=ul,t=my(),Gh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,h=0,f=0,p=t,g=null;t:for(;;){for(var I;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(I=p.firstChild)!==null;)g=p,p=I;for(;;){if(p===t)break t;if(g===n&&++h===i&&(l=s),g===o&&++f===r&&(u=s),(I=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=I}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oc={focusedElem:t,selectionRange:n},ul=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var P=C.memoizedProps,N=C.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?P:un(e.type,P),N);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(L){Be(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return C=jp,jp=!1,C}function hs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Jc(e,n,o)}i=i.next}while(i!==r)}}function Jl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hv(t){var e=t.alternate;e!==null&&(t.alternate=null,hv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[ks],delete e[jc],delete e[LE],delete e[OE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dv(t){return t.tag===5||t.tag===3||t.tag===4}function bp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dl));else if(r!==4&&(t=t.child,t!==null))for(eh(t,e,n),t=t.sibling;t!==null;)eh(t,e,n),t=t.sibling}function th(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(th(t,e,n),t=t.sibling;t!==null;)th(t,e,n),t=t.sibling}var dt=null,cn=!1;function ir(t,e,n){for(n=n.child;n!==null;)fv(t,e,n),n=n.sibling}function fv(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount($l,n)}catch{}switch(n.tag){case 5:It||zi(n,e);case 6:var r=dt,i=cn;dt=null,ir(t,e,n),dt=r,cn=i,dt!==null&&(cn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(cn?(t=dt,n=n.stateNode,t.nodeType===8?qu(t.parentNode,n):t.nodeType===1&&qu(t,n),Is(t)):qu(dt,n.stateNode));break;case 4:r=dt,i=cn,dt=n.stateNode.containerInfo,cn=!0,ir(t,e,n),dt=r,cn=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Jc(n,e,s),i=i.next}while(i!==r)}ir(t,e,n);break;case 1:if(!It&&(zi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Be(n,e,l)}ir(t,e,n);break;case 21:ir(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,ir(t,e,n),It=r):ir(t,e,n);break;default:ir(t,e,n)}}function zp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JE),e.forEach(function(r){var i=l1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:dt=l.stateNode,cn=!1;break e;case 3:dt=l.stateNode.containerInfo,cn=!0;break e;case 4:dt=l.stateNode.containerInfo,cn=!0;break e}l=l.return}if(dt===null)throw Error(j(160));fv(o,s,i),dt=null,cn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Be(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pv(e,t),e=e.sibling}function pv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ln(e,t),En(t),r&4){try{hs(3,t,t.return),Jl(3,t)}catch(P){Be(t,t.return,P)}try{hs(5,t,t.return)}catch(P){Be(t,t.return,P)}}break;case 1:ln(e,t),En(t),r&512&&n!==null&&zi(n,n.return);break;case 5:if(ln(e,t),En(t),r&512&&n!==null&&zi(n,n.return),t.flags&32){var i=t.stateNode;try{ws(i,"")}catch(P){Be(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Og(i,o),Ac(l,s);var h=Ac(l,o);for(s=0;s<u.length;s+=2){var f=u[s],p=u[s+1];f==="style"?zg(i,p):f==="dangerouslySetInnerHTML"?jg(i,p):f==="children"?ws(i,p):Oh(i,f,p,h)}switch(l){case"input":wc(i,o);break;case"textarea":Fg(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var I=o.value;I!=null?$i(i,!!o.multiple,I,!1):g!==!!o.multiple&&(o.defaultValue!=null?$i(i,!!o.multiple,o.defaultValue,!0):$i(i,!!o.multiple,o.multiple?[]:"",!1))}i[ks]=o}catch(P){Be(t,t.return,P)}}break;case 6:if(ln(e,t),En(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(P){Be(t,t.return,P)}}break;case 3:if(ln(e,t),En(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Is(e.containerInfo)}catch(P){Be(t,t.return,P)}break;case 4:ln(e,t),En(t);break;case 13:ln(e,t),En(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(md=$e())),r&4&&zp(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(It=(h=It)||f,ln(e,t),It=h):ln(e,t),En(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(G=t,f=t.child;f!==null;){for(p=G=f;G!==null;){switch(g=G,I=g.child,g.tag){case 0:case 11:case 14:case 15:hs(4,g,g.return);break;case 1:zi(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(P){Be(r,n,P)}}break;case 5:zi(g,g.return);break;case 22:if(g.memoizedState!==null){Kp(p);continue}}I!==null?(I.return=g,G=I):Kp(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=bg("display",s))}catch(P){Be(t,t.return,P)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(P){Be(t,t.return,P)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ln(e,t),En(t),r&4&&zp(t);break;case 21:break;default:ln(e,t),En(t)}}function En(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dv(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ws(i,""),r.flags&=-33);var o=bp(t);th(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=bp(t);eh(t,l,s);break;default:throw Error(j(161))}}catch(u){Be(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e1(t,e,n){G=t,mv(t)}function mv(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ma;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||It;l=Ma;var h=It;if(Ma=s,(It=u)&&!h)for(G=i;G!==null;)s=G,u=s.child,s.tag===22&&s.memoizedState!==null?$p(i):u!==null?(u.return=s,G=u):$p(i);for(;o!==null;)G=o,mv(o),o=o.sibling;G=i,Ma=l,It=h}Bp(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,G=o):Bp(t)}}function Bp(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Jl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:un(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Rp(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rp(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Is(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}It||e.flags&512&&Zc(e)}catch(g){Be(e,e.return,g)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Kp(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function $p(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jl(4,e)}catch(u){Be(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Be(e,i,u)}}var o=e.return;try{Zc(e)}catch(u){Be(e,o,u)}break;case 5:var s=e.return;try{Zc(e)}catch(u){Be(e,s,u)}}}catch(u){Be(e,e.return,u)}if(e===t){G=null;break}var l=e.sibling;if(l!==null){l.return=e.return,G=l;break}G=e.return}}var t1=Math.ceil,Sl=Gn.ReactCurrentDispatcher,fd=Gn.ReactCurrentOwner,nn=Gn.ReactCurrentBatchConfig,ge=0,it=null,Ge=null,mt=0,Kt=0,Bi=Dr(0),et=0,Ls=null,ri=0,Zl=0,pd=0,ds=null,Lt=null,md=0,oo=1/0,Fn=null,Il=!1,nh=null,vr=null,La=!1,hr=null,Al=0,fs=0,rh=null,Ya=-1,Xa=0;function Dt(){return ge&6?$e():Ya!==-1?Ya:Ya=$e()}function _r(t){return t.mode&1?ge&2&&mt!==0?mt&-mt:UE.transition!==null?(Xa===0&&(Xa=Zg()),Xa):(t=we,t!==0||(t=window.event,t=t===void 0?16:sy(t.type)),t):1}function mn(t,e,n,r){if(50<fs)throw fs=0,rh=null,Error(j(185));qs(t,n,r),(!(ge&2)||t!==it)&&(t===it&&(!(ge&2)&&(Zl|=n),et===4&&ur(t,mt)),jt(t,r),n===1&&ge===0&&!(e.mode&1)&&(oo=$e()+500,Gl&&Vr()))}function jt(t,e){var n=t.callbackNode;Uw(t,e);var r=ll(t,t===it?mt:0);if(r===0)n!==null&&Zf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zf(n),e===1)t.tag===0?FE(Hp.bind(null,t)):Ay(Hp.bind(null,t)),NE(function(){!(ge&6)&&Vr()}),n=null;else{switch(ey(r)){case 1:n=zh;break;case 4:n=Xg;break;case 16:n=al;break;case 536870912:n=Jg;break;default:n=al}n=Sv(n,gv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gv(t,e){if(Ya=-1,Xa=0,ge&6)throw Error(j(327));var n=t.callbackNode;if(Gi()&&t.callbackNode!==n)return null;var r=ll(t,t===it?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rl(t,r);else{e=r;var i=ge;ge|=2;var o=vv();(it!==t||mt!==e)&&(Fn=null,oo=$e()+500,Yr(t,e));do try{i1();break}catch(l){yv(t,l)}while(!0);ed(),Sl.current=o,ge=i,Ge!==null?e=0:(it=null,mt=0,e=et)}if(e!==0){if(e===2&&(i=xc(t),i!==0&&(r=i,e=ih(t,i))),e===1)throw n=Ls,Yr(t,0),ur(t,r),jt(t,$e()),n;if(e===6)ur(t,r);else{if(i=t.current.alternate,!(r&30)&&!n1(i)&&(e=Rl(t,r),e===2&&(o=xc(t),o!==0&&(r=o,e=ih(t,o))),e===1))throw n=Ls,Yr(t,0),ur(t,r),jt(t,$e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Br(t,Lt,Fn);break;case 3:if(ur(t,r),(r&130023424)===r&&(e=md+500-$e(),10<e)){if(ll(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Uc(Br.bind(null,t,Lt,Fn),e);break}Br(t,Lt,Fn);break;case 4:if(ur(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-pn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t1(r/1960))-r,10<r){t.timeoutHandle=Uc(Br.bind(null,t,Lt,Fn),r);break}Br(t,Lt,Fn);break;case 5:Br(t,Lt,Fn);break;default:throw Error(j(329))}}}return jt(t,$e()),t.callbackNode===n?gv.bind(null,t):null}function ih(t,e){var n=ds;return t.current.memoizedState.isDehydrated&&(Yr(t,e).flags|=256),t=Rl(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&oh(e)),t}function oh(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function n1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ur(t,e){for(e&=~pd,e&=~Zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pn(e),r=1<<n;t[n]=-1,e&=~r}}function Hp(t){if(ge&6)throw Error(j(327));Gi();var e=ll(t,0);if(!(e&1))return jt(t,$e()),null;var n=Rl(t,e);if(t.tag!==0&&n===2){var r=xc(t);r!==0&&(e=r,n=ih(t,r))}if(n===1)throw n=Ls,Yr(t,0),ur(t,e),jt(t,$e()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Br(t,Lt,Fn),jt(t,$e()),null}function gd(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(oo=$e()+500,Gl&&Vr())}}function ii(t){hr!==null&&hr.tag===0&&!(ge&6)&&Gi();var e=ge;ge|=1;var n=nn.transition,r=we;try{if(nn.transition=null,we=1,t)return t()}finally{we=r,nn.transition=n,ge=e,!(ge&6)&&Vr()}}function yd(){Kt=Bi.current,De(Bi)}function Yr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VE(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Xh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fl();break;case 3:ro(),De(Ft),De(Rt),sd();break;case 5:od(r);break;case 4:ro();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:td(r.type._context);break;case 22:case 23:yd()}n=n.return}if(it=t,Ge=t=wr(t.current,null),mt=Kt=e,et=0,Ls=null,pd=Zl=ri=0,Lt=ds=null,Hr!==null){for(e=0;e<Hr.length;e++)if(n=Hr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Hr=null}return t}function yv(t,e){do{var n=Ge;try{if(ed(),Wa.current=Tl,El){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}El=!1}if(ni=0,rt=Ze=Ue=null,cs=!1,Vs=0,fd.current=null,n===null||n.return===null){et=1,Ls=e,Ge=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=mt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var I=Vp(s);if(I!==null){I.flags&=-257,Np(I,s,l,o,e),I.mode&1&&Dp(o,h,e),e=I,u=h;var C=e.updateQueue;if(C===null){var P=new Set;P.add(u),e.updateQueue=P}else C.add(u);break e}else{if(!(e&1)){Dp(o,h,e),vd();break e}u=Error(j(426))}}else if(Me&&l.mode&1){var N=Vp(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Np(N,s,l,o,e),Jh(io(u,l));break e}}o=u=io(u,l),et!==4&&(et=2),ds===null?ds=[o]:ds.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=ev(o,u,e);Ap(o,S);break e;case 1:l=u;var w=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(vr===null||!vr.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var L=tv(o,l,e);Ap(o,L);break e}}o=o.return}while(o!==null)}wv(n)}catch(B){e=B,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function vv(){var t=Sl.current;return Sl.current=Tl,t===null?Tl:t}function vd(){(et===0||et===3||et===2)&&(et=4),it===null||!(ri&268435455)&&!(Zl&268435455)||ur(it,mt)}function Rl(t,e){var n=ge;ge|=2;var r=vv();(it!==t||mt!==e)&&(Fn=null,Yr(t,e));do try{r1();break}catch(i){yv(t,i)}while(!0);if(ed(),ge=n,Sl.current=r,Ge!==null)throw Error(j(261));return it=null,mt=0,et}function r1(){for(;Ge!==null;)_v(Ge)}function i1(){for(;Ge!==null&&!kw();)_v(Ge)}function _v(t){var e=Tv(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?wv(t):Ge=e,fd.current=null}function wv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XE(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ge=null;return}}else if(n=YE(n,e,Kt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);et===0&&(et=5)}function Br(t,e,n){var r=we,i=nn.transition;try{nn.transition=null,we=1,o1(t,e,n,r)}finally{nn.transition=i,we=r}return null}function o1(t,e,n,r){do Gi();while(hr!==null);if(ge&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(jw(t,o),t===it&&(Ge=it=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,Sv(al,function(){return Gi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nn.transition,nn.transition=null;var s=we;we=1;var l=ge;ge|=4,fd.current=null,ZE(t,n),pv(n,t),AE(Oc),ul=!!Lc,Oc=Lc=null,t.current=n,e1(n),xw(),ge=l,we=s,nn.transition=o}else t.current=n;if(La&&(La=!1,hr=t,Al=i),o=t.pendingLanes,o===0&&(vr=null),Nw(n.stateNode),jt(t,$e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Il)throw Il=!1,t=nh,nh=null,t;return Al&1&&t.tag!==0&&Gi(),o=t.pendingLanes,o&1?t===rh?fs++:(fs=0,rh=t):fs=0,Vr(),null}function Gi(){if(hr!==null){var t=ey(Al),e=nn.transition,n=we;try{if(nn.transition=null,we=16>t?16:t,hr===null)var r=!1;else{if(t=hr,hr=null,Al=0,ge&6)throw Error(j(331));var i=ge;for(ge|=4,G=t.current;G!==null;){var o=G,s=o.child;if(G.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(G=h;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:hs(8,f,o)}var p=f.child;if(p!==null)p.return=f,G=p;else for(;G!==null;){f=G;var g=f.sibling,I=f.return;if(hv(f),f===h){G=null;break}if(g!==null){g.return=I,G=g;break}G=I}}}var C=o.alternate;if(C!==null){var P=C.child;if(P!==null){C.child=null;do{var N=P.sibling;P.sibling=null,P=N}while(P!==null)}}G=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,G=s;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hs(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,G=S;break e}G=o.return}}var w=t.current;for(G=w;G!==null;){s=G;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,G=A;else e:for(s=w;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jl(9,l)}}catch(B){Be(l,l.return,B)}if(l===s){G=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,G=L;break e}G=l.return}}if(ge=i,Vr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot($l,t)}catch{}r=!0}return r}finally{we=n,nn.transition=e}}return!1}function qp(t,e,n){e=io(n,e),e=ev(t,e,1),t=yr(t,e,1),e=Dt(),t!==null&&(qs(t,1,e),jt(t,e))}function Be(t,e,n){if(t.tag===3)qp(t,t,n);else for(;e!==null;){if(e.tag===3){qp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vr===null||!vr.has(r))){t=io(n,t),t=tv(e,t,1),e=yr(e,t,1),t=Dt(),e!==null&&(qs(e,1,t),jt(e,t));break}}e=e.return}}function s1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(mt&n)===n&&(et===4||et===3&&(mt&130023424)===mt&&500>$e()-md?Yr(t,0):pd|=n),jt(t,e)}function Ev(t,e){e===0&&(t.mode&1?(e=Aa,Aa<<=1,!(Aa&130023424)&&(Aa=4194304)):e=1);var n=Dt();t=Hn(t,e),t!==null&&(qs(t,e,n),jt(t,n))}function a1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ev(t,n)}function l1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),Ev(t,n)}var Tv;Tv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)Ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ot=!1,GE(t,e,n);Ot=!!(t.flags&131072)}else Ot=!1,Me&&e.flags&1048576&&Ry(e,gl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ga(t,e),t=e.pendingProps;var i=eo(e,Rt.current);Qi(e,n),i=ld(null,e,r,t,i,n);var o=ud();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ut(r)?(o=!0,pl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rd(e),i.updater=Xl,e.stateNode=i,i._reactInternals=e,Hc(e,r,t,n),e=Qc(null,e,r,!0,o,n)):(e.tag=0,Me&&o&&Yh(e),xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ga(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=c1(r),t=un(r,t),i){case 0:e=Wc(null,e,r,t,n);break e;case 1:e=Op(null,e,r,t,n);break e;case 11:e=Mp(null,e,r,t,n);break e;case 14:e=Lp(null,e,r,un(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),Wc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),Op(t,e,r,i,n);case 3:e:{if(ov(e),t===null)throw Error(j(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Vy(t,e),_l(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=io(Error(j(423)),e),e=Fp(t,e,r,n,i);break e}else if(r!==i){i=io(Error(j(424)),e),e=Fp(t,e,r,n,i);break e}else for($t=gr(e.stateNode.containerInfo.firstChild),Ht=e,Me=!0,dn=null,n=xy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(to(),r===i){e=qn(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return Ny(e),t===null&&Bc(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Fc(r,i)?s=null:o!==null&&Fc(r,o)&&(e.flags|=32),iv(t,e),xt(t,e,s,n),e.child;case 6:return t===null&&Bc(e),null;case 13:return sv(t,e,n);case 4:return id(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=no(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),Mp(t,e,r,i,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ae(yl,r._currentValue),r._currentValue=s,o!==null)if(gn(o.value,s)){if(o.children===i.children&&!Ft.current){e=qn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=zn(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Kc(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(j(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Kc(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qi(e,n),i=rn(i),r=r(i),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,i=un(r,e.pendingProps),i=un(r.type,i),Lp(t,e,r,i,n);case 15:return nv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),Ga(t,e),e.tag=1,Ut(r)?(t=!0,pl(e)):t=!1,Qi(e,n),Zy(e,r,i),Hc(e,r,i,n),Qc(null,e,r,!0,t,n);case 19:return av(t,e,n);case 22:return rv(t,e,n)}throw Error(j(156,e.tag))};function Sv(t,e){return Yg(t,e)}function u1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,r){return new u1(t,e,n,r)}function _d(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c1(t){if(typeof t=="function")return _d(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Uh)return 11;if(t===jh)return 14}return 2}function wr(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ja(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")_d(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Vi:return Xr(n.children,i,o,e);case Fh:s=8,i|=8;break;case mc:return t=tn(12,n,e,i|2),t.elementType=mc,t.lanes=o,t;case gc:return t=tn(13,n,e,i),t.elementType=gc,t.lanes=o,t;case yc:return t=tn(19,n,e,i),t.elementType=yc,t.lanes=o,t;case Ng:return eu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dg:s=10;break e;case Vg:s=9;break e;case Uh:s=11;break e;case jh:s=14;break e;case sr:s=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=tn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Xr(t,e,n,r){return t=tn(7,t,r,e),t.lanes=n,t}function eu(t,e,n,r){return t=tn(22,t,r,e),t.elementType=Ng,t.lanes=n,t.stateNode={isHidden:!1},t}function ec(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function tc(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function h1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lu(0),this.expirationTimes=Lu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wd(t,e,n,r,i,o,s,l,u){return t=new h1(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=tn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rd(o),t}function d1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Di,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Iv(t){if(!t)return Rr;t=t._reactInternals;e:{if(hi(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Ut(n))return Iy(t,n,e)}return e}function Av(t,e,n,r,i,o,s,l,u){return t=wd(n,r,!0,t,i,o,s,l,u),t.context=Iv(null),n=t.current,r=Dt(),i=_r(n),o=zn(r,i),o.callback=e??null,yr(n,o,i),t.current.lanes=i,qs(t,i,r),jt(t,r),t}function tu(t,e,n,r){var i=e.current,o=Dt(),s=_r(i);return n=Iv(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yr(i,e,s),t!==null&&(mn(t,i,s,o),qa(t,i,s)),s}function Cl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ed(t,e){Wp(t,e),(t=t.alternate)&&Wp(t,e)}function f1(){return null}var Rv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Td(t){this._internalRoot=t}nu.prototype.render=Td.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));tu(t,e,null,null)};nu.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){tu(null,t,null,null)}),e[$n]=null}};function nu(t){this._internalRoot=t}nu.prototype.unstable_scheduleHydration=function(t){if(t){var e=ry();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lr.length&&e!==0&&e<lr[n].priority;n++);lr.splice(n,0,t),n===0&&oy(t)}};function Sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ru(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qp(){}function p1(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Cl(s);o.call(h)}}var s=Av(e,r,t,0,null,!1,!1,"",Qp);return t._reactRootContainer=s,t[$n]=s.current,Cs(t.nodeType===8?t.parentNode:t),ii(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Cl(u);l.call(h)}}var u=wd(t,0,!1,null,null,!1,!1,"",Qp);return t._reactRootContainer=u,t[$n]=u.current,Cs(t.nodeType===8?t.parentNode:t),ii(function(){tu(e,u,n,r)}),u}function iu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=Cl(s);l.call(u)}}tu(e,s,t,i)}else s=p1(n,e,t,i,r);return Cl(s)}ty=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zo(e.pendingLanes);n!==0&&(Bh(e,n|1),jt(e,$e()),!(ge&6)&&(oo=$e()+500,Vr()))}break;case 13:ii(function(){var r=Hn(t,1);if(r!==null){var i=Dt();mn(r,t,1,i)}}),Ed(t,1)}};Kh=function(t){if(t.tag===13){var e=Hn(t,134217728);if(e!==null){var n=Dt();mn(e,t,134217728,n)}Ed(t,134217728)}};ny=function(t){if(t.tag===13){var e=_r(t),n=Hn(t,e);if(n!==null){var r=Dt();mn(n,t,e,r)}Ed(t,e)}};ry=function(){return we};iy=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Cc=function(t,e,n){switch(e){case"input":if(wc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ql(r);if(!i)throw Error(j(90));Lg(r),wc(r,i)}}}break;case"textarea":Fg(t,n);break;case"select":e=n.value,e!=null&&$i(t,!!n.multiple,e,!1)}};$g=gd;Hg=ii;var m1={usingClientEntryPoint:!1,Events:[Qs,Oi,Ql,Bg,Kg,gd]},qo={findFiberByHostInstance:$r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g1={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qg(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||f1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oa.isDisabled&&Oa.supportsFiber)try{$l=Oa.inject(g1),In=Oa}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m1;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sd(e))throw Error(j(200));return d1(t,e,null,n)};Wt.createRoot=function(t,e){if(!Sd(t))throw Error(j(299));var n=!1,r="",i=Rv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wd(t,1,!1,null,null,n,!1,r,i),t[$n]=e.current,Cs(t.nodeType===8?t.parentNode:t),new Td(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Qg(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return ii(t)};Wt.hydrate=function(t,e,n){if(!ru(e))throw Error(j(200));return iu(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!Sd(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Rv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Av(e,null,t,1,n??null,i,!1,o,s),t[$n]=e.current,Cs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new nu(e)};Wt.render=function(t,e,n){if(!ru(e))throw Error(j(200));return iu(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!ru(t))throw Error(j(40));return t._reactRootContainer?(ii(function(){iu(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};Wt.unstable_batchedUpdates=gd;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ru(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return iu(t,e,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function Cv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cv)}catch(t){console.error(t)}}Cv(),Cg.exports=Wt;var Id=Cg.exports;const y1=pg(Id),v1=fg({__proto__:null,default:y1},[Id]);var Gp=Id;fc.createRoot=Gp.createRoot,fc.hydrateRoot=Gp.hydrateRoot;const _1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAAA/CAMAAACWyGV1AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAALiUExURQAAAMwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKcwiKf///9UyMr0AAAD0dFJOUwABHFmcDB1s0PyfAkeq6UkLeujsAwY2m+cTdsP39kEhhvCsFl6x6zB44f77ZETeWCp73bAKCC+H+pI7D2PH89ePPR6nljcYfq4RU7ZnBzFquy6R9a1dPH/JEjqV4tsf6ncm0/nRhDU4g8a1BQQ5750/JX3WFWK5q1wgKHnuVA2Z9OapUhdAjdxF+M8zb86I1YAkceCmcNT9qEsOgZ4UTKVKCdjafL7fYCyF8VAilJfFchvjyEjAjCmhVl+aTu0yV24Z0qBlvctzLZCJT0K3I8wn5Iu4K7pVza9oTaSytGZrsxCj5ZhbYfJDxIp0PoIadWlGWo41XRZVAAAAAWJLR0T1RdIb2wAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+gGDRcRJ6RTPbwAAAM9elRYdFJhdyBwcm9maWxlIHR5cGUgeG1wAABIicVWy7abMAzc+yv6CSDZEv4cEuNdz+myn98ZQQIh3NvedtFwAsa2RqOnST+//0jf8BtlKknv2n3ywUZTu1nxLIOJFXOrtmgTWfrtdusimK+WOVNcS2465OZDVuydrKY8+ewQLOpzXko2PAGoCiER7brIoHefdPbJIGiNymyUge92t8WVa4kawCZbJw+d14Xn9mCyw2DuRon8lJChTLmVIQnJdY8pNVl0kAY+g/JtUNcqC4RGkzBeTOSOeVH+oQjPjPuY8GghNivMwT1jZjhdshkogDSdi+Sc7dW4tC3SwMkzLkDCoO7xk8WxC5zI2akZynAFE8FdcG/ESGYYqCNC9IlPMAwauP7KAhQQLIRCrIavKnyEHY/1FNZ3h2vJanXtMRp08TvfULbsQZIlwYHdGkyZwGcg+XB4P0NCRC8cMICC2J1Am/XciHuBYGHwaSq0rsDjOzAyaoIsGMFgjNKfEX/yPonvNqQLXeGX3FAEX1CRzr4BYLsAV8+5uK0huQJPlwacwFmjjqBjTy8SadDDyShYwtOjCdWuD/3UkZkpBUD0gxQq6XZ/q683X6WoG/SKKAyUX1TUmp6xSeoHakrO65NKVNJWfKw3ZDVKACxwRx/AHxkbRclVjfHwAtuMaVPNHP3oBfcDWA8QlvSIyruETYEbvcdWyPHvoNMRO8pgNotsb4SLYFeO0XpLJOSCOiCPi8ye2dqQMRDfrF7Z6JVA7K9oWlpY+R1qK8sqWi3yRJBhEMMWMIeT2XfYEFtEdNx9ERkPKKZhOGSJbKKzAyo2ISVrnBSz0QsT4gYPaIFRDWNB36GfMlxR0HIbckrxVjlC+Olk6Icb1YGOVOH5cWLAVFR/9gUwfyWADvmXDM4E0gcMGLe6HpLww/1/MHqcqAdWOIgjMmDn9XQgIVI+HueQ2ciCCsP2jjOzcB/nRKTkoVQ3Nxx3RyqkYy78Syqkz+w+BOLAwB0ZXlauey2mL7WPIxzLCiPAjjQ85ShHhvT3XfCzJpieXXD7EpJ+FZno45/GM+2C16f7G3x8iezwj+MrPT6p1qWLz0CYvX7wsQ3xCy79Ap9MWd8og9PhAAAHIUlEQVRYw62X6UMTRxTAJ4BIEuQwCXiEG0VCuVQIHghGoaISQTxAQEQiAkEQEG2AogIeiDRBqJFbpBAVrBwq3jdQvFqr4lVr1VatV1u7f0BndkOymwYhyPuwMzvHb+e9N2/eLADDJTQ9fYMRw0czHGlEZwwXjWk8ygTDMNPhoZmZj8aQsNjDAONYWI7BCDH4fNrYceO5ShpmZf25NBtbO0wt9p/nXQfHCXQSDZvo9BkwmuEkZx6Zhrl8QRsyjenKGI1Rxc2dOUQY28NzsgbMZIrj1CHSvLz5JlSYj9G06UNVdcZM31lUmp//7KEuDQjmcKmwWXMDiJ7AL+fpCguav8CKarR5C4NQR7BwUYgLb5FutNDFkynbI2zJUkNkNOay5eHoM34ROsCYKyKjKLRo/jI8FlYunBJDdKwaPCzWfDWZFSdaE4+2mtnahETVR5LEg6Qlr2OkUIIqdT1yJzstPSNO3RqzYZA+yNxI9gF301cSZLSs7MQcijG/Hgws13TzFvUc3ta8fGTzgm3b3TSiY8dgcBE7lxSSYmBXQhFc2dTQ3YmFGjR68YqBaWnfRLuop0hlFtBoYus1IisNWMqC3bNzB6QJl5CNs8kCtZXsKdVg8dzKdiYPyGLbfLtXNUUeta+8AoCKZZUiOTXQ9lZl2uCHALPa8BM0cU1SjGrSmNr9DjRQV2NwwIcCq69ammWGD5/h+l1Do2O/NC/FRlU+kK8ed7AOML0PjT9Msb7v4iYbDj66WXFkVw4Pq3foB2b9vWppdkdbBDRaq7FlG9leo9v55XiY0qotRo5Sdm09ppVWoX+8Tym524kONqgoOjmGZDO684R8PTyoxJJTeaWqRCQ/rY1W4CntGxGVahoB6lyPZJC2xuEk82V4RNEEp86Es0hrdknQdiU4e07ZXbjPlQlorvtIJuPVe54ngn3qhSqy+khGH9Ny0NMuEqfuuYaWS6C6fPsO9da7fOXqSjRDbGi8pnOLBozXxhBoU7YJj4Su7mZ2kCKvse8I4pWe0f8Bzwyt7j3hJtRci8nrN127XqA1C3HaUXx2JzNvMEgruHkLH5wsTA+Xa6yL+6PBqYr+t/BPMGHdPt/KJ+dUq2h9wDQ0Nu+kJrOw6BB/fSdi94HkDdqDzRuq+zO4o56V05XuFHh3zz2KjjxWBqP37gxCQ7bDXffN9x8Ea+VJWIh3QOn/Ltv8tKKHZVKy8X1EjD3WEiLLsrMeTXocHgU9KDfWri/zFwxru7T/nLytwdY1bXb6hHMkVNuTnl+LcAU5l5x6zfNEYSqTPO3PgI+gwX97drolIKvpyP04isF8ygn1Dtaset5FsWVhQr8OYW6H/Xc2VCdSAh/DXoT8vqg1rTe79n6UxrUAOvCPT518MjjCyGOdSlH5XsuXFtVOLc9Xax7uhLzKDgafkuBp0JWTO0J3Fb4QjeIrTNeWdzO6UrSACmOiw28uPjUWDCCccdCGbjcCnVY0ZVf5Oof9D0TfG8KQvTQ+KJgxuJsZJxKu0Pl1s6YN++ShIGjgVEEWMR/uOG6v5E8NUNzERlHIyUNpybreGJNboMqzFJf8lAra3ZZ2Guw2LRIKnW4s9H9S/NRLV+AbCORmZ5UtOFN5tWZbeW/m22u1nUaNMcRmofta67hE9iJkvBNBHbXH619psSHd/p1uRHY2PPTjDCJS6dqdgk28OvBdgCxMGSTJH+Qud+kHKDdy122FlYjUGRGJ9SuWeroAacYKKAHsXkW/kq+ro3GJSOsQcIYyEVS870Hy5oMNXvZMEoPAv5Kkjc7R4VdeM8FdorWyAhS8QZULgp4+4f+N6x6rfM0ieIFSFK6z2jwCWOhQTjlaNxJeYlzqRfBA4DXY/MMi9p8lMy3qMCbP8T/PQofOYbtXMEKt+PDUfscidtdGwhBsQ1v4cnElx0uCzq3preuRk1sqxEIUKvumSgwwtH/kF8UrP8LEVR0ssYeva0tiz17mYfJMAOqa32AmD+ASzio1fgv7d9+C8h5WBKAKPpPQH8FOeD/i5oJ/sYYM2BRmAW5gpdWwnQHfAmHZLMWwEFiGOmPuWfAnsVii5qlEAFA+/og7Gx0OHpD32ALl4IyxGjz05duwKMO4c+eif5TNal50O5RGnNcJn92ofUQxrOkhHlAgledep/JoozCsFP49qG6bhR0qHr7vL+K8dPhshPc8Wjb0hIiG82hHUAAfpfDYM2GmXQDYczBftC8Xw9Yp8OaU+/YerNl7FnyQ3YQV/6cFE2HR7nqeD78b1xQr88Uuy4QRUnwFkNcq24XWuj0VpWy6u6wnTD5hJLwFvYep0SdSBj5sxUeGhRYRi5bW6dUqc0dh53pQg9cyQXyOkhevCuYtY0Kui/GqHwBXlK1A7B2PpKjODC/jDzIBu2S++Qn/SscimMae4Y1QzRJUhiYD5bD4eGFWK7xMEnMAsFG2/gfqgbLE7HueWwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyNC0wNi0xM1QyMzoxNzozOSswMDowMAdur7oAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjQtMDYtMTNUMjM6MTc6MzkrMDA6MDB2MxcGAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDI0LTA2LTEzVDIzOjE3OjM5KzAwOjAwISY22QAAAABJRU5ErkJggg==";/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oe(){return Oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oe.apply(this,arguments)}var We;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(We||(We={}));const Yp="popstate";function w1(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Os("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ys(i)}return T1(e,n,null,t)}function de(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function so(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E1(){return Math.random().toString(36).substr(2,8)}function Xp(t,e){return{usr:t.state,key:t.key,idx:e}}function Os(t,e,n,r){return n===void 0&&(n=null),Oe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nr(e):e,{state:n,key:e&&e.key||r||E1()})}function Ys(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function T1(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=We.Pop,u=null,h=f();h==null&&(h=0,s.replaceState(Oe({},s.state,{idx:h}),""));function f(){return(s.state||{idx:null}).idx}function p(){l=We.Pop;let N=f(),S=N==null?null:N-h;h=N,u&&u({action:l,location:P.location,delta:S})}function g(N,S){l=We.Push;let w=Os(P.location,N,S);h=f()+1;let A=Xp(w,h),L=P.createHref(w);try{s.pushState(A,"",L)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(L)}o&&u&&u({action:l,location:P.location,delta:1})}function I(N,S){l=We.Replace;let w=Os(P.location,N,S);h=f();let A=Xp(w,h),L=P.createHref(w);s.replaceState(A,"",L),o&&u&&u({action:l,location:P.location,delta:0})}function C(N){let S=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof N=="string"?N:Ys(N);return w=w.replace(/ $/,"%20"),de(S,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,S)}let P={get action(){return l},get location(){return t(i,s)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Yp,p),u=N,()=>{i.removeEventListener(Yp,p),u=null}},createHref(N){return e(i,N)},createURL:C,encodeLocation(N){let S=C(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:I,go(N){return s.go(N)}};return P}var Ne;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ne||(Ne={}));const S1=new Set(["lazy","caseSensitive","path","id","index","children"]);function I1(t){return t.index===!0}function sh(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],l=typeof i.id=="string"?i.id:s.join("-");if(de(i.index!==!0||!i.children,"Cannot specify children on an index route"),de(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),I1(i)){let u=Oe({},i,e(i),{id:l});return r[l]=u,u}else{let u=Oe({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=sh(i.children,e,s,r)),u}})}function Ki(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Nr(e):e,i=Xs(r.pathname||"/",n);if(i==null)return null;let o=Pv(t);R1(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=U1(i);s=L1(o[l],u)}return s}function A1(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Pv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(de(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Er([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(de(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Pv(o.children,e,f,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:N1(h,o.index),routesMeta:f})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of kv(o.path))i(o,s,u)}),e}function kv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=kv(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function R1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:M1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const C1=/^:[\w-]+$/,P1=3,k1=2,x1=1,D1=10,V1=-2,Jp=t=>t==="*";function N1(t,e){let n=t.split("/"),r=n.length;return n.some(Jp)&&(r+=V1),e&&(r+=k1),n.filter(i=>!Jp(i)).reduce((i,o)=>i+(C1.test(o)?P1:o===""?x1:D1),r)}function M1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function L1(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=O1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h);if(!f)return null;Object.assign(r,f.params);let p=l.route;o.push({params:r,pathname:Er([i,f.pathname]),pathnameBase:z1(Er([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Er([i,f.pathnameBase]))}return o}function O1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=F1(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:g,isOptional:I}=f;if(g==="*"){let P=l[p]||"";s=o.slice(0,o.length-P.length).replace(/(.)\/+$/,"$1")}const C=l[p];return I&&!C?h[g]=void 0:h[g]=(C||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:s,pattern:t}}function F1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),so(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function U1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return so(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function j1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Nr(t):t;return{pathname:n?n.startsWith("/")?n:b1(n,e):e,search:B1(r),hash:K1(i)}}function b1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dv(t,e){let n=xv(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Nr(t):(i=Oe({},t),de(!i.pathname||!i.pathname.includes("?"),nc("?","pathname","search",i)),de(!i.pathname||!i.pathname.includes("#"),nc("#","pathname","hash",i)),de(!i.search||!i.search.includes("#"),nc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=j1(i,l),h=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const Er=t=>t.join("/").replace(/\/\/+/g,"/"),z1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Ad{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Rd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nv=["post","put","patch","delete"],$1=new Set(Nv),H1=["get",...Nv],q1=new Set(H1),W1=new Set([301,302,303,307,308]),Q1=new Set([307,308]),rc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},G1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Wo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Cd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y1=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Mv="remix-router-transitions";function X1(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;de(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let x=t.detectErrorBoundary;i=V=>({hasErrorBoundary:x(V)})}else i=Y1;let o={},s=sh(t.routes,i,void 0,o),l,u=t.basename||"/",h=t.unstable_dataStrategy||tT,f=Oe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,I=null,C=null,P=null,N=t.hydrationData!=null,S=Ki(s,t.history.location,u),w=null;if(S==null){let x=Yt(404,{pathname:t.history.location.pathname}),{matches:V,route:O}=lm(s);S=V,w={[O.id]:x}}let A,L=S.some(x=>x.route.lazy),B=S.some(x=>x.route.loader);if(L)A=!1;else if(!B)A=!0;else if(f.v7_partialHydration){let x=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null,O=b=>b.route.loader?typeof b.route.loader=="function"&&b.route.loader.hydrate===!0?!1:x&&x[b.route.id]!==void 0||V&&V[b.route.id]!==void 0:!0;if(V){let b=S.findIndex(Q=>V[Q.route.id]!==void 0);A=S.slice(0,b+1).every(O)}else A=S.every(O)}else A=t.hydrationData!=null;let $,m={historyAction:t.history.action,location:t.history.location,matches:S,initialized:A,navigation:rc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},v=We.Pop,_=!1,E,R=!1,k=new Map,T=null,Te=!1,ot=!1,vn=[],Mt=[],z=new Map,te=0,re=-1,_e=new Map,ue=new Set,Ee=new Map,Pt=new Map,Xe=new Set,st=new Map,at=new Map,Io=!1;function _u(){if(p=t.history.listen(x=>{let{action:V,location:O,delta:b}=x;if(Io){Io=!1;return}so(at.size===0||b!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=wi({currentLocation:m.location,nextLocation:O,historyAction:V});if(Q&&b!=null){Io=!0,t.history.go(b*-1),_i(Q,{state:"blocked",location:O,proceed(){_i(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),t.history.go(b)},reset(){let J=new Map(m.blockers);J.set(Q,Wo),lt({blockers:J})}});return}return _n(V,O)}),n){fT(e,k);let x=()=>pT(e,k);e.addEventListener("pagehide",x),T=()=>e.removeEventListener("pagehide",x)}return m.initialized||_n(We.Pop,m.location,{initialHydration:!0}),$}function pi(){p&&p(),T&&T(),g.clear(),E&&E.abort(),m.fetchers.forEach((x,V)=>Fr(V)),m.blockers.forEach((x,V)=>la(V))}function mi(x){return g.add(x),()=>g.delete(x)}function lt(x,V){V===void 0&&(V={}),m=Oe({},m,x);let O=[],b=[];f.v7_fetcherPersist&&m.fetchers.forEach((Q,J)=>{Q.state==="idle"&&(Xe.has(J)?b.push(J):O.push(J))}),[...g].forEach(Q=>Q(m,{deletedFetchers:b,unstable_viewTransitionOpts:V.viewTransitionOpts,unstable_flushSync:V.flushSync===!0})),f.v7_fetcherPersist&&(O.forEach(Q=>m.fetchers.delete(Q)),b.forEach(Q=>Fr(Q)))}function kn(x,V,O){var b,Q;let{flushSync:J}=O===void 0?{}:O,Z=m.actionData!=null&&m.navigation.formMethod!=null&&hn(m.navigation.formMethod)&&m.navigation.state==="loading"&&((b=x.state)==null?void 0:b._isRedirect)!==!0,q;V.actionData?Object.keys(V.actionData).length>0?q=V.actionData:q=null:Z?q=m.actionData:q=null;let ie=V.loaderData?sm(m.loaderData,V.loaderData,V.matches||[],V.errors):m.loaderData,oe=m.blockers;oe.size>0&&(oe=new Map(oe),oe.forEach((ne,Ie)=>oe.set(Ie,Wo)));let Je=_===!0||m.navigation.formMethod!=null&&hn(m.navigation.formMethod)&&((Q=x.state)==null?void 0:Q._isRedirect)!==!0;l&&(s=l,l=void 0),Te||v===We.Pop||(v===We.Push?t.history.push(x,x.state):v===We.Replace&&t.history.replace(x,x.state));let Ve;if(v===We.Pop){let ne=k.get(m.location.pathname);ne&&ne.has(x.pathname)?Ve={currentLocation:m.location,nextLocation:x}:k.has(x.pathname)&&(Ve={currentLocation:x,nextLocation:m.location})}else if(R){let ne=k.get(m.location.pathname);ne?ne.add(x.pathname):(ne=new Set([x.pathname]),k.set(m.location.pathname,ne)),Ve={currentLocation:m.location,nextLocation:x}}lt(Oe({},V,{actionData:q,loaderData:ie,historyAction:v,location:x,initialized:!0,navigation:rc,revalidation:"idle",restoreScrollPosition:Ti(x,V.matches||m.matches),preventScrollReset:Je,blockers:oe}),{viewTransitionOpts:Ve,flushSync:J===!0}),v=We.Pop,_=!1,R=!1,Te=!1,ot=!1,vn=[],Mt=[]}async function gi(x,V){if(typeof x=="number"){t.history.go(x);return}let O=ah(m.location,m.matches,u,f.v7_prependBasename,x,f.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:b,submission:Q,error:J}=Zp(f.v7_normalizeFormMethod,!1,O,V),Z=m.location,q=Os(m.location,b,V&&V.state);q=Oe({},q,t.history.encodeLocation(q));let ie=V&&V.replace!=null?V.replace:void 0,oe=We.Push;ie===!0?oe=We.Replace:ie===!1||Q!=null&&hn(Q.formMethod)&&Q.formAction===m.location.pathname+m.location.search&&(oe=We.Replace);let Je=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,Ve=(V&&V.unstable_flushSync)===!0,ne=wi({currentLocation:Z,nextLocation:q,historyAction:oe});if(ne){_i(ne,{state:"blocked",location:q,proceed(){_i(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),gi(x,V)},reset(){let Ie=new Map(m.blockers);Ie.set(ne,Wo),lt({blockers:Ie})}});return}return await _n(oe,q,{submission:Q,pendingError:J,preventScrollReset:Je,replace:V&&V.replace,enableViewTransition:V&&V.unstable_viewTransition,flushSync:Ve})}function Ao(){if(vi(),lt({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){_n(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}_n(v||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function _n(x,V,O){E&&E.abort(),E=null,v=x,Te=(O&&O.startUninterruptedRevalidation)===!0,xo(m.location,m.matches),_=(O&&O.preventScrollReset)===!0,R=(O&&O.enableViewTransition)===!0;let b=l||s,Q=O&&O.overrideNavigation,J=Ki(b,V,u),Z=(O&&O.flushSync)===!0;if(!J){let ne=Yt(404,{pathname:V.pathname}),{matches:Ie,route:Le}=lm(b);Ei(),kn(V,{matches:Ie,loaderData:{},errors:{[Le.id]:ne}},{flushSync:Z});return}if(m.initialized&&!ot&&aT(m.location,V)&&!(O&&O.submission&&hn(O.submission.formMethod))){kn(V,{matches:J},{flushSync:Z});return}E=new AbortController;let q=Ci(t.history,V,E.signal,O&&O.submission),ie;if(O&&O.pendingError)ie=[ps(J).route.id,{type:Ne.error,error:O.pendingError}];else if(O&&O.submission&&hn(O.submission.formMethod)){let ne=await wu(q,V,O.submission,J,{replace:O.replace,flushSync:Z});if(ne.shortCircuited)return;ie=ne.pendingActionResult,Q=ic(V,O.submission),Z=!1,q=Ci(t.history,q.url,q.signal)}let{shortCircuited:oe,loaderData:Je,errors:Ve}=await Eu(q,V,J,Q,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,Z,ie);oe||(E=null,kn(V,Oe({matches:J},am(ie),{loaderData:Je,errors:Ve})))}async function wu(x,V,O,b,Q){Q===void 0&&(Q={}),vi();let J=hT(V,O);lt({navigation:J},{flushSync:Q.flushSync===!0});let Z,q=uh(b,V);if(!q.route.action&&!q.route.lazy)Z={type:Ne.error,error:Yt(405,{method:x.method,pathname:V.pathname,routeId:q.route.id})};else if(Z=(await xn("action",x,[q],b))[0],x.signal.aborted)return{shortCircuited:!0};if(Qr(Z)){let ie;return Q&&Q.replace!=null?ie=Q.replace:ie=rm(Z.response.headers.get("Location"),new URL(x.url),u)===m.location.pathname+m.location.search,await Lr(x,Z,{submission:O,replace:ie}),{shortCircuited:!0}}if(Wr(Z))throw Yt(400,{type:"defer-action"});if(Zt(Z)){let ie=ps(b,q.route.id);return(Q&&Q.replace)!==!0&&(v=We.Push),{pendingActionResult:[ie.route.id,Z]}}return{pendingActionResult:[q.route.id,Z]}}async function Eu(x,V,O,b,Q,J,Z,q,ie,oe){let Je=b||ic(V,Q),Ve=Q||J||hm(Je),ne=l||s,[Ie,Le]=em(t.history,m,O,Ve,V,f.v7_partialHydration&&q===!0,f.unstable_skipActionErrorRevalidation,ot,vn,Mt,Xe,Ee,ue,ne,u,oe);if(Ei(ce=>!(O&&O.some(ut=>ut.route.id===ce))||Ie&&Ie.some(ut=>ut.route.id===ce)),re=++te,Ie.length===0&&Le.length===0){let ce=Co();return kn(V,Oe({matches:O,loaderData:{},errors:oe&&Zt(oe[1])?{[oe[0]]:oe[1].error}:null},am(oe),ce?{fetchers:new Map(m.fetchers)}:{}),{flushSync:ie}),{shortCircuited:!0}}if(!Te&&(!f.v7_partialHydration||!q)){Le.forEach(ut=>{let ct=m.fetchers.get(ut.key),He=Qo(void 0,ct?ct.data:void 0);m.fetchers.set(ut.key,He)});let ce;oe&&!Zt(oe[1])?ce={[oe[0]]:oe[1].data}:m.actionData&&(Object.keys(m.actionData).length===0?ce=null:ce=m.actionData),lt(Oe({navigation:Je},ce!==void 0?{actionData:ce}:{},Le.length>0?{fetchers:new Map(m.fetchers)}:{}),{flushSync:ie})}Le.forEach(ce=>{z.has(ce.key)&&wn(ce.key),ce.controller&&z.set(ce.key,ce.controller)});let Jn=()=>Le.forEach(ce=>wn(ce.key));E&&E.signal.addEventListener("abort",Jn);let{loaderResults:Gt,fetcherResults:sn}=await yi(m.matches,O,Ie,Le,x);if(x.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",Jn),Le.forEach(ce=>z.delete(ce.key));let kt=um([...Gt,...sn]);if(kt){if(kt.idx>=Ie.length){let ce=Le[kt.idx-Ie.length].key;ue.add(ce)}return await Lr(x,kt.result,{replace:Z}),{shortCircuited:!0}}let{loaderData:Vn,errors:zt}=om(m,O,Ie,Gt,oe,Le,sn,st);st.forEach((ce,ut)=>{ce.subscribe(ct=>{(ct||ce.done)&&st.delete(ut)})}),f.v7_partialHydration&&q&&m.errors&&Object.entries(m.errors).filter(ce=>{let[ut]=ce;return!Ie.some(ct=>ct.route.id===ut)}).forEach(ce=>{let[ut,ct]=ce;zt=Object.assign(zt||{},{[ut]:ct})});let Zn=Co(),er=Po(re),Ur=Zn||er||Le.length>0;return Oe({loaderData:Vn,errors:zt},Ur?{fetchers:new Map(m.fetchers)}:{})}function oa(x,V,O,b){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(x)&&wn(x);let Q=(b&&b.unstable_flushSync)===!0,J=l||s,Z=ah(m.location,m.matches,u,f.v7_prependBasename,O,f.v7_relativeSplatPath,V,b==null?void 0:b.relative),q=Ki(J,Z,u);if(!q){Ke(x,V,Yt(404,{pathname:Z}),{flushSync:Q});return}let{path:ie,submission:oe,error:Je}=Zp(f.v7_normalizeFormMethod,!0,Z,b);if(Je){Ke(x,V,Je,{flushSync:Q});return}let Ve=uh(q,ie);if(_=(b&&b.preventScrollReset)===!0,oe&&hn(oe.formMethod)){Ro(x,V,ie,Ve,q,Q,oe);return}Ee.set(x,{routeId:V,path:ie}),sa(x,V,ie,Ve,q,Q,oe)}async function Ro(x,V,O,b,Q,J,Z){if(vi(),Ee.delete(x),!b.route.action&&!b.route.lazy){let He=Yt(405,{method:Z.formMethod,pathname:O,routeId:V});Ke(x,V,He,{flushSync:J});return}let q=m.fetchers.get(x);Ce(x,dT(Z,q),{flushSync:J});let ie=new AbortController,oe=Ci(t.history,O,ie.signal,Z);z.set(x,ie);let Je=te,ne=(await xn("action",oe,[b],Q))[0];if(oe.signal.aborted){z.get(x)===ie&&z.delete(x);return}if(f.v7_fetcherPersist&&Xe.has(x)){if(Qr(ne)||Zt(ne)){Ce(x,or(void 0));return}}else{if(Qr(ne))if(z.delete(x),re>Je){Ce(x,or(void 0));return}else return ue.add(x),Ce(x,Qo(Z)),Lr(oe,ne,{fetcherSubmission:Z});if(Zt(ne)){Ke(x,V,ne.error);return}}if(Wr(ne))throw Yt(400,{type:"defer-action"});let Ie=m.navigation.location||m.location,Le=Ci(t.history,Ie,ie.signal),Jn=l||s,Gt=m.navigation.state!=="idle"?Ki(Jn,m.navigation.location,u):m.matches;de(Gt,"Didn't find any matches after fetcher action");let sn=++te;_e.set(x,sn);let kt=Qo(Z,ne.data);m.fetchers.set(x,kt);let[Vn,zt]=em(t.history,m,Gt,Z,Ie,!1,f.unstable_skipActionErrorRevalidation,ot,vn,Mt,Xe,Ee,ue,Jn,u,[b.route.id,ne]);zt.filter(He=>He.key!==x).forEach(He=>{let Nn=He.key,tr=m.fetchers.get(Nn),Mn=Qo(void 0,tr?tr.data:void 0);m.fetchers.set(Nn,Mn),z.has(Nn)&&wn(Nn),He.controller&&z.set(Nn,He.controller)}),lt({fetchers:new Map(m.fetchers)});let Zn=()=>zt.forEach(He=>wn(He.key));ie.signal.addEventListener("abort",Zn);let{loaderResults:er,fetcherResults:Ur}=await yi(m.matches,Gt,Vn,zt,Le);if(ie.signal.aborted)return;ie.signal.removeEventListener("abort",Zn),_e.delete(x),z.delete(x),zt.forEach(He=>z.delete(He.key));let ce=um([...er,...Ur]);if(ce){if(ce.idx>=Vn.length){let He=zt[ce.idx-Vn.length].key;ue.add(He)}return Lr(Le,ce.result)}let{loaderData:ut,errors:ct}=om(m,m.matches,Vn,er,void 0,zt,Ur,st);if(m.fetchers.has(x)){let He=or(ne.data);m.fetchers.set(x,He)}Po(sn),m.navigation.state==="loading"&&sn>re?(de(v,"Expected pending action"),E&&E.abort(),kn(m.navigation.location,{matches:Gt,loaderData:ut,errors:ct,fetchers:new Map(m.fetchers)})):(lt({errors:ct,loaderData:sm(m.loaderData,ut,Gt,ct),fetchers:new Map(m.fetchers)}),ot=!1)}async function sa(x,V,O,b,Q,J,Z){let q=m.fetchers.get(x);Ce(x,Qo(Z,q?q.data:void 0),{flushSync:J});let ie=new AbortController,oe=Ci(t.history,O,ie.signal);z.set(x,ie);let Je=te,ne=(await xn("loader",oe,[b],Q))[0];if(Wr(ne)&&(ne=await Uv(ne,oe.signal,!0)||ne),z.get(x)===ie&&z.delete(x),!oe.signal.aborted){if(Xe.has(x)){Ce(x,or(void 0));return}if(Qr(ne))if(re>Je){Ce(x,or(void 0));return}else{ue.add(x),await Lr(oe,ne);return}if(Zt(ne)){Ke(x,V,ne.error);return}de(!Wr(ne),"Unhandled fetcher deferred data"),Ce(x,or(ne.data))}}async function Lr(x,V,O){let{submission:b,fetcherSubmission:Q,replace:J}=O===void 0?{}:O;V.response.headers.has("X-Remix-Revalidate")&&(ot=!0);let Z=V.response.headers.get("Location");de(Z,"Expected a Location header on the redirect Response"),Z=rm(Z,new URL(x.url),u);let q=Os(m.location,Z,{_isRedirect:!0});if(n){let Ie=!1;if(V.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(Cd.test(Z)){const Le=t.history.createURL(Z);Ie=Le.origin!==e.location.origin||Xs(Le.pathname,u)==null}if(Ie){J?e.location.replace(Z):e.location.assign(Z);return}}E=null;let ie=J===!0?We.Replace:We.Push,{formMethod:oe,formAction:Je,formEncType:Ve}=m.navigation;!b&&!Q&&oe&&Je&&Ve&&(b=hm(m.navigation));let ne=b||Q;if(Q1.has(V.response.status)&&ne&&hn(ne.formMethod))await _n(ie,q,{submission:Oe({},ne,{formAction:Z}),preventScrollReset:_});else{let Ie=ic(q,b);await _n(ie,q,{overrideNavigation:Ie,fetcherSubmission:Q,preventScrollReset:_})}}async function xn(x,V,O,b){try{let Q=await nT(h,x,V,O,b,o,i);return await Promise.all(Q.map((J,Z)=>{if(lT(J)){let q=J.result;return{type:Ne.redirect,response:oT(q,V,O[Z].route.id,b,u,f.v7_relativeSplatPath)}}return iT(J)}))}catch(Q){return O.map(()=>({type:Ne.error,error:Q}))}}async function yi(x,V,O,b,Q){let[J,...Z]=await Promise.all([O.length?xn("loader",Q,O,V):[],...b.map(q=>{if(q.matches&&q.match&&q.controller){let ie=Ci(t.history,q.path,q.controller.signal);return xn("loader",ie,[q.match],q.matches).then(oe=>oe[0])}else return Promise.resolve({type:Ne.error,error:Yt(404,{pathname:q.path})})})]);return await Promise.all([cm(x,O,J,J.map(()=>Q.signal),!1,m.loaderData),cm(x,b.map(q=>q.match),Z,b.map(q=>q.controller?q.controller.signal:null),!0)]),{loaderResults:J,fetcherResults:Z}}function vi(){ot=!0,vn.push(...Ei()),Ee.forEach((x,V)=>{z.has(V)&&(Mt.push(V),wn(V))})}function Ce(x,V,O){O===void 0&&(O={}),m.fetchers.set(x,V),lt({fetchers:new Map(m.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function Ke(x,V,O,b){b===void 0&&(b={});let Q=ps(m.matches,V);Fr(x),lt({errors:{[Q.route.id]:O},fetchers:new Map(m.fetchers)},{flushSync:(b&&b.flushSync)===!0})}function Or(x){return f.v7_fetcherPersist&&(Pt.set(x,(Pt.get(x)||0)+1),Xe.has(x)&&Xe.delete(x)),m.fetchers.get(x)||G1}function Fr(x){let V=m.fetchers.get(x);z.has(x)&&!(V&&V.state==="loading"&&_e.has(x))&&wn(x),Ee.delete(x),_e.delete(x),ue.delete(x),Xe.delete(x),m.fetchers.delete(x)}function aa(x){if(f.v7_fetcherPersist){let V=(Pt.get(x)||0)-1;V<=0?(Pt.delete(x),Xe.add(x)):Pt.set(x,V)}else Fr(x);lt({fetchers:new Map(m.fetchers)})}function wn(x){let V=z.get(x);de(V,"Expected fetch controller: "+x),V.abort(),z.delete(x)}function Yn(x){for(let V of x){let O=Or(V),b=or(O.data);m.fetchers.set(V,b)}}function Co(){let x=[],V=!1;for(let O of ue){let b=m.fetchers.get(O);de(b,"Expected fetcher: "+O),b.state==="loading"&&(ue.delete(O),x.push(O),V=!0)}return Yn(x),V}function Po(x){let V=[];for(let[O,b]of _e)if(b<x){let Q=m.fetchers.get(O);de(Q,"Expected fetcher: "+O),Q.state==="loading"&&(wn(O),_e.delete(O),V.push(O))}return Yn(V),V.length>0}function ko(x,V){let O=m.blockers.get(x)||Wo;return at.get(x)!==V&&at.set(x,V),O}function la(x){m.blockers.delete(x),at.delete(x)}function _i(x,V){let O=m.blockers.get(x)||Wo;de(O.state==="unblocked"&&V.state==="blocked"||O.state==="blocked"&&V.state==="blocked"||O.state==="blocked"&&V.state==="proceeding"||O.state==="blocked"&&V.state==="unblocked"||O.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+V.state);let b=new Map(m.blockers);b.set(x,V),lt({blockers:b})}function wi(x){let{currentLocation:V,nextLocation:O,historyAction:b}=x;if(at.size===0)return;at.size>1&&so(!1,"A router only supports one blocker at a time");let Q=Array.from(at.entries()),[J,Z]=Q[Q.length-1],q=m.blockers.get(J);if(!(q&&q.state==="proceeding")&&Z({currentLocation:V,nextLocation:O,historyAction:b}))return J}function Ei(x){let V=[];return st.forEach((O,b)=>{(!x||x(b))&&(O.cancel(),V.push(b),st.delete(b))}),V}function ua(x,V,O){if(I=x,P=V,C=O||null,!N&&m.navigation===rc){N=!0;let b=Ti(m.location,m.matches);b!=null&&lt({restoreScrollPosition:b})}return()=>{I=null,P=null,C=null}}function Xn(x,V){return C&&C(x,V.map(b=>A1(b,m.loaderData)))||x.key}function xo(x,V){if(I&&P){let O=Xn(x,V);I[O]=P()}}function Ti(x,V){if(I){let O=Xn(x,V),b=I[O];if(typeof b=="number")return b}return null}function Dn(x){o={},l=sh(x,i,void 0,o)}return $={get basename(){return u},get future(){return f},get state(){return m},get routes(){return s},get window(){return e},initialize:_u,subscribe:mi,enableScrollRestoration:ua,navigate:gi,fetch:oa,revalidate:Ao,createHref:x=>t.history.createHref(x),encodeLocation:x=>t.history.encodeLocation(x),getFetcher:Or,deleteFetcher:aa,dispose:pi,getBlocker:ko,deleteBlocker:la,_internalFetchControllers:z,_internalActiveDeferreds:st,_internalSetRoutes:Dn},$}function J1(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ah(t,e,n,r,i,o,s,l){let u,h;if(s){u=[];for(let p of e)if(u.push(p),p.route.id===s){h=p;break}}else u=e,h=e[e.length-1];let f=Vv(i||".",Dv(u,o),Xs(t.pathname,n)||t.pathname,l==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&h&&h.route.index&&!Pd(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Er([n,f.pathname])),Ys(f)}function Zp(t,e,n,r){if(!r||!J1(r))return{path:n};if(r.formMethod&&!cT(r.formMethod))return{path:n,error:Yt(405,{method:r.formMethod})};let i=()=>({path:n,error:Yt(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),l=Ov(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!hn(s))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((I,C)=>{let[P,N]=C;return""+I+P+"="+N+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!hn(s))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}de(typeof FormData=="function","FormData is not available in this environment");let u,h;if(r.formData)u=lh(r.formData),h=r.formData;else if(r.body instanceof FormData)u=lh(r.body),h=r.body;else if(r.body instanceof URLSearchParams)u=r.body,h=im(u);else if(r.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(r.body),h=im(u)}catch{return i()}let f={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(hn(f.formMethod))return{path:n,submission:f};let p=Nr(n);return e&&p.search&&Pd(p.search)&&u.append("index",""),p.search="?"+u,{path:Ys(p),submission:f}}function Z1(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function em(t,e,n,r,i,o,s,l,u,h,f,p,g,I,C,P){let N=P?Zt(P[1])?P[1].error:P[1].data:void 0,S=t.createURL(e.location),w=t.createURL(i),A=P&&Zt(P[1])?P[0]:void 0,L=A?Z1(n,A):n,B=P?P[1].statusCode:void 0,$=s&&B&&B>=400,m=L.filter((_,E)=>{let{route:R}=_;if(R.lazy)return!0;if(R.loader==null)return!1;if(o)return typeof R.loader!="function"||R.loader.hydrate?!0:e.loaderData[R.id]===void 0&&(!e.errors||e.errors[R.id]===void 0);if(eT(e.loaderData,e.matches[E],_)||u.some(Te=>Te===_.route.id))return!0;let k=e.matches[E],T=_;return tm(_,Oe({currentUrl:S,currentParams:k.params,nextUrl:w,nextParams:T.params},r,{actionResult:N,unstable_actionStatus:B,defaultShouldRevalidate:$?!1:l||S.pathname+S.search===w.pathname+w.search||S.search!==w.search||Lv(k,T)}))}),v=[];return p.forEach((_,E)=>{if(o||!n.some(ot=>ot.route.id===_.routeId)||f.has(E))return;let R=Ki(I,_.path,C);if(!R){v.push({key:E,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(E),T=uh(R,_.path),Te=!1;g.has(E)?Te=!1:h.includes(E)?Te=!0:k&&k.state!=="idle"&&k.data===void 0?Te=l:Te=tm(T,Oe({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:N,unstable_actionStatus:B,defaultShouldRevalidate:$?!1:l})),Te&&v.push({key:E,routeId:_.routeId,path:_.path,matches:R,match:T,controller:new AbortController})}),[m,v]}function eT(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Lv(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function tm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function nm(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];de(i,"No route found in manifest");let o={};for(let s in r){let u=i[s]!==void 0&&s!=="hasErrorBoundary";so(!u,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!u&&!S1.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Oe({},e(i),{lazy:void 0}))}function tT(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function nT(t,e,n,r,i,o,s,l){let u=r.reduce((p,g)=>p.add(g.route.id),new Set),h=new Set,f=await t({matches:i.map(p=>{let g=u.has(p.route.id);return Oe({},p,{shouldLoad:g,resolve:C=>(h.add(p.route.id),g?rT(e,n,p,o,s,C,l):Promise.resolve({type:Ne.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(p=>de(h.has(p.route.id),'`match.resolve()` was not called for route id "'+p.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((p,g)=>u.has(i[g].route.id))}async function rT(t,e,n,r,i,o,s){let l,u,h=f=>{let p,g=new Promise((P,N)=>p=N);u=()=>p(),e.signal.addEventListener("abort",u);let I=P=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):f({request:e,params:n.params,context:s},...P!==void 0?[P]:[]),C;return o?C=o(P=>I(P)):C=(async()=>{try{return{type:"data",result:await I()}}catch(P){return{type:"error",result:P}}})(),Promise.race([C,g])};try{let f=n.route[t];if(n.route.lazy)if(f){let p,[g]=await Promise.all([h(f).catch(I=>{p=I}),nm(n.route,i,r)]);if(p!==void 0)throw p;l=g}else if(await nm(n.route,i,r),f=n.route[t],f)l=await h(f);else if(t==="action"){let p=new URL(e.url),g=p.pathname+p.search;throw Yt(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:Ne.data,result:void 0};else if(f)l=await h(f);else{let p=new URL(e.url),g=p.pathname+p.search;throw Yt(404,{pathname:g})}de(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:Ne.error,result:f}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function iT(t){let{result:e,type:n,status:r}=t;if(Fv(e)){let s;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?s=null:s=await e.json():s=await e.text()}catch(l){return{type:Ne.error,error:l}}return n===Ne.error?{type:Ne.error,error:new Ad(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:Ne.data,data:s,statusCode:e.status,headers:e.headers}}if(n===Ne.error)return{type:Ne.error,error:e,statusCode:Rd(e)?e.status:r};if(uT(e)){var i,o;return{type:Ne.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}return{type:Ne.data,data:e,statusCode:r}}function oT(t,e,n,r,i,o){let s=t.headers.get("Location");if(de(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Cd.test(s)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);s=ah(new URL(e.url),l,i,!0,s,o),t.headers.set("Location",s)}return t}function rm(t,e,n){if(Cd.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Xs(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Ci(t,e,n,r){let i=t.createURL(Ov(e)).toString(),o={signal:n};if(r&&hn(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=lh(r.formData):o.body=r.formData}return new Request(i,o)}function lh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function im(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function sT(t,e,n,r,i,o){let s={},l=null,u,h=!1,f={},p=r&&Zt(r[1])?r[1].error:void 0;return n.forEach((g,I)=>{let C=e[I].route.id;if(de(!Qr(g),"Cannot handle redirect results in processLoaderData"),Zt(g)){let P=g.error;p!==void 0&&(P=p,p=void 0),l=l||{};{let N=ps(t,C);l[N.route.id]==null&&(l[N.route.id]=P)}s[C]=void 0,h||(h=!0,u=Rd(g.error)?g.error.status:500),g.headers&&(f[C]=g.headers)}else Wr(g)?(i.set(C,g.deferredData),s[C]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!h&&(u=g.statusCode),g.headers&&(f[C]=g.headers)):(s[C]=g.data,g.statusCode&&g.statusCode!==200&&!h&&(u=g.statusCode),g.headers&&(f[C]=g.headers))}),p!==void 0&&r&&(l={[r[0]]:p},s[r[0]]=void 0),{loaderData:s,errors:l,statusCode:u||200,loaderHeaders:f}}function om(t,e,n,r,i,o,s,l){let{loaderData:u,errors:h}=sT(e,n,r,i,l);for(let f=0;f<o.length;f++){let{key:p,match:g,controller:I}=o[f];de(s!==void 0&&s[f]!==void 0,"Did not find corresponding fetcher result");let C=s[f];if(!(I&&I.signal.aborted))if(Zt(C)){let P=ps(t.matches,g==null?void 0:g.route.id);h&&h[P.route.id]||(h=Oe({},h,{[P.route.id]:C.error})),t.fetchers.delete(p)}else if(Qr(C))de(!1,"Unhandled fetcher revalidation redirect");else if(Wr(C))de(!1,"Unhandled fetcher deferred data");else{let P=or(C.data);t.fetchers.set(p,P)}}return{loaderData:u,errors:h}}function sm(t,e,n,r){let i=Oe({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function am(t){return t?Zt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ps(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function lm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Yt(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",l='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Ad(t||500,s,new Error(l),!0)}function um(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Qr(n))return{result:n,idx:e}}}function Ov(t){let e=typeof t=="string"?Nr(t):t;return Ys(Oe({},e,{hash:""}))}function aT(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function lT(t){return Fv(t.result)&&W1.has(t.result.status)}function Wr(t){return t.type===Ne.deferred}function Zt(t){return t.type===Ne.error}function Qr(t){return(t&&t.type)===Ne.redirect}function uT(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Fv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function cT(t){return q1.has(t.toLowerCase())}function hn(t){return $1.has(t.toLowerCase())}async function cm(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let l=n[s],u=e[s];if(!u)continue;let h=t.find(p=>p.route.id===u.route.id),f=h!=null&&!Lv(h,u)&&(o&&o[u.route.id])!==void 0;if(Wr(l)&&(i||f)){let p=r[s];de(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await Uv(l,p,i).then(g=>{g&&(n[s]=g||n[s])})}}}async function Uv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ne.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ne.error,error:i}}return{type:Ne.data,data:t.deferredData.data}}}function Pd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function uh(t,e){let n=typeof e=="string"?Nr(e).search:e.search;if(t[t.length-1].route.index&&Pd(n||""))return t[t.length-1];let r=xv(t);return r[r.length-1]}function hm(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function ic(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hT(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Qo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function dT(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function or(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function fT(t,e){try{let n=t.sessionStorage.getItem(Mv);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function pT(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Mv,JSON.stringify(n))}catch(r){so(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}const ou=K.createContext(null),jv=K.createContext(null),su=K.createContext(null),kd=K.createContext(null),Mr=K.createContext({outlet:null,matches:[],isDataRoute:!1}),bv=K.createContext(null);function au(){return K.useContext(kd)!=null}function zv(){return au()||de(!1),K.useContext(kd).location}function Bv(t){K.useContext(su).static||K.useLayoutEffect(t)}function Kv(){let{isDataRoute:t}=K.useContext(Mr);return t?kT():mT()}function mT(){au()||de(!1);let t=K.useContext(ou),{basename:e,future:n,navigator:r}=K.useContext(su),{matches:i}=K.useContext(Mr),{pathname:o}=zv(),s=JSON.stringify(Dv(i,n.v7_relativeSplatPath)),l=K.useRef(!1);return Bv(()=>{l.current=!0}),K.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let p=Vv(h,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Er([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,s,o,t])}const gT=K.createContext(null);function yT(t){let e=K.useContext(Mr).outlet;return e&&K.createElement(gT.Provider,{value:t},e)}function vT(){let{matches:t}=K.useContext(Mr),e=t[t.length-1];return e?e.params:{}}function _T(t,e,n,r){au()||de(!1);let{navigator:i}=K.useContext(su),{matches:o}=K.useContext(Mr),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let h=zv(),f;f=h;let p=f.pathname||"/",g=p;if(u!=="/"){let P=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(P.length).join("/")}let I=Ki(t,{pathname:g});return IT(I&&I.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:Er([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:Er([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r)}function wT(){let t=PT(),e=Rd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:i},n):null,null)}const ET=K.createElement(wT,null);class TT extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?K.createElement(Mr.Provider,{value:this.props.routeContext},K.createElement(bv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ST(t){let{routeContext:e,match:n,children:r}=t,i=K.useContext(ou);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(Mr.Provider,{value:e},r)}function IT(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||de(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:g,errors:I}=n,C=p.route.loader&&g[p.route.id]===void 0&&(!I||I[p.route.id]===void 0);if(p.route.lazy||C){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let I,C=!1,P=null,N=null;n&&(I=l&&p.route.id?l[p.route.id]:void 0,P=p.route.errorElement||ET,u&&(h<0&&g===0?(xT("route-fallback"),C=!0,N=null):h===g&&(C=!0,N=p.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),w=()=>{let A;return I?A=P:C?A=N:p.route.Component?A=K.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,K.createElement(ST,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?K.createElement(TT,{location:n.location,revalidation:n.revalidation,component:P,error:I,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):w()},null)}var $v=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($v||{}),kl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kl||{});function AT(t){let e=K.useContext(ou);return e||de(!1),e}function RT(t){let e=K.useContext(jv);return e||de(!1),e}function CT(t){let e=K.useContext(Mr);return e||de(!1),e}function Hv(t){let e=CT(),n=e.matches[e.matches.length-1];return n.route.id||de(!1),n.route.id}function PT(){var t;let e=K.useContext(bv),n=RT(kl.UseRouteError),r=Hv(kl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function kT(){let{router:t}=AT($v.UseNavigateStable),e=Hv(kl.UseNavigateStable),n=K.useRef(!1);return Bv(()=>{n.current=!0}),K.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pl({fromRouteId:e},o)))},[t,e])}const dm={};function xT(t,e,n){dm[t]||(dm[t]=!0)}function DT(t){return yT(t.context)}function VT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=We.Pop,navigator:o,static:s=!1,future:l}=t;au()&&de(!1);let u=e.replace(/^\/*/,"/"),h=K.useMemo(()=>({basename:u,navigator:o,static:s,future:Pl({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=Nr(r));let{pathname:f="/",search:p="",hash:g="",state:I=null,key:C="default"}=r,P=K.useMemo(()=>{let N=Xs(f,u);return N==null?null:{location:{pathname:N,search:p,hash:g,state:I,key:C},navigationType:i}},[u,f,p,g,I,C,i]);return P==null?null:K.createElement(su.Provider,{value:h},K.createElement(kd.Provider,{children:n,value:P}))}new Promise(()=>{});function NT(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:K.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:K.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:K.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(this,arguments)}const MT="6";try{window.__reactRouterVersion=MT}catch{}function LT(t,e){return X1({basename:void 0,future:xl({},void 0,{v7_prependBasename:!0}),history:w1({window:void 0}),hydrationData:OT(),routes:t,mapRouteProperties:NT,unstable_dataStrategy:void 0,window:void 0}).initialize()}function OT(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=xl({},e,{errors:FT(e.errors)})),e}function FT(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ad(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const UT=K.createContext({isTransitioning:!1}),jT=K.createContext(new Map),bT="startTransition",fm=sw[bT],zT="flushSync",pm=v1[zT];function BT(t){fm?fm(t):t()}function Go(t){pm?pm(t):t()}let KT=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function $T(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=K.useState(n.state),[s,l]=K.useState(),[u,h]=K.useState({isTransitioning:!1}),[f,p]=K.useState(),[g,I]=K.useState(),[C,P]=K.useState(),N=K.useRef(new Map),{v7_startTransition:S}=r||{},w=K.useCallback(m=>{S?BT(m):m()},[S]),A=K.useCallback((m,v)=>{let{deletedFetchers:_,unstable_flushSync:E,unstable_viewTransitionOpts:R}=v;_.forEach(T=>N.current.delete(T)),m.fetchers.forEach((T,Te)=>{T.data!==void 0&&N.current.set(Te,T.data)});let k=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!R||k){E?Go(()=>o(m)):w(()=>o(m));return}if(E){Go(()=>{g&&(f&&f.resolve(),g.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let T=n.window.document.startViewTransition(()=>{Go(()=>o(m))});T.finished.finally(()=>{Go(()=>{p(void 0),I(void 0),l(void 0),h({isTransitioning:!1})})}),Go(()=>I(T));return}g?(f&&f.resolve(),g.skipTransition(),P({state:m,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(l(m),h({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[n.window,g,f,N,w]);K.useLayoutEffect(()=>n.subscribe(A),[n,A]),K.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new KT)},[u]),K.useEffect(()=>{if(f&&s&&n.window){let m=s,v=f.promise,_=n.window.document.startViewTransition(async()=>{w(()=>o(m)),await v});_.finished.finally(()=>{p(void 0),I(void 0),l(void 0),h({isTransitioning:!1})}),I(_)}},[w,s,f,n.window]),K.useEffect(()=>{f&&s&&i.location.key===s.location.key&&f.resolve()},[f,g,i.location,s]),K.useEffect(()=>{!u.isTransitioning&&C&&(l(C.state),h({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),P(void 0))},[u.isTransitioning,C]),K.useEffect(()=>{},[]);let L=K.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:m=>n.navigate(m),push:(m,v,_)=>n.navigate(m,{state:v,preventScrollReset:_==null?void 0:_.preventScrollReset}),replace:(m,v,_)=>n.navigate(m,{replace:!0,state:v,preventScrollReset:_==null?void 0:_.preventScrollReset})}),[n]),B=n.basename||"/",$=K.useMemo(()=>({router:n,navigator:L,static:!1,basename:B}),[n,L,B]);return K.createElement(K.Fragment,null,K.createElement(ou.Provider,{value:$},K.createElement(jv.Provider,{value:i},K.createElement(jT.Provider,{value:N.current},K.createElement(UT.Provider,{value:u},K.createElement(VT,{basename:B,location:i.location,navigationType:i.historyAction,navigator:L,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?K.createElement(HT,{routes:n.routes,future:n.future,state:i}):e))))),null)}function HT(t){let{routes:e,future:n,state:r}=t;return _T(e,void 0,r,n)}var mm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mm||(mm={}));var gm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gm||(gm={}));function qT(){const[t,e]=K.useState("Home"),n=Kv();function r(){n("/novaMoto"),e("Registro de Motos")}function i(){n("/tabelaMotos"),e("Tabela de Motos")}function o(){n("/"),e("Início")}function s(){n("/user"),e("Usuário")}return W.jsxs("div",{className:"App",children:[W.jsxs("div",{className:"header",children:[W.jsx("a",{href:"https://motoca.com.br",children:W.jsx("img",{src:_1,className:"logo"})}),W.jsx("button",{onClick:o,children:"Home"}),W.jsx("button",{onClick:r,children:"Cadastrar nova Moto"}),W.jsx("button",{onClick:i,children:"Tabela de Motos"}),W.jsx("button",{onClick:s,children:"User"})]}),W.jsx("div",{className:"title",children:t}),W.jsx("hr",{}),W.jsx("div",{className:"body",children:W.jsx(DT,{})})]})}var ym={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|l>>4;let g=(l&15)<<2|h>>6,I=h&63;u||(I=64,s||(g=64)),r.push(n[f],n[p],n[g],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||p==null)throw new QT;const g=o<<2|l>>4;if(r.push(g),h!==64){const I=l<<4&240|h>>2;if(r.push(I),p!==64){const C=h<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GT=function(t){const e=qv(t);return Wv.encodeByteArray(e,!0)},Dl=function(t){return GT(t).replace(/\./g,"")},YT=function(t){try{return Wv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=()=>XT().__FIREBASE_DEFAULTS__,ZT=()=>{if(typeof process>"u"||typeof ym>"u")return;const t=ym.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YT(t[1]);return e&&JSON.parse(e)},xd=()=>{try{return JT()||ZT()||eS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tS=t=>{var e,n;return(n=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nS=t=>{const e=tS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qv=()=>{var t;return(t=xd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dl(JSON.stringify(n)),Dl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){var t;const e=(t=xd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aS(){return!sS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lS(){try{return typeof indexedDB=="object"}catch{return!1}}function uS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="FirebaseError";class vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cS,Object.setPrototypeOf(this,vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gv.prototype.create)}}class Gv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?hS(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new vo(i,l,r)}}function hS(t,e){return t.replace(dS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dS=/\{\$([^}]+)}/g;function ch(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(vm(o)&&vm(s)){if(!ch(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t){return t&&t._delegate?t._delegate:t}class Fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mS(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pS(t){return t===Kr?void 0:t}function mS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const yS={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},vS=me.INFO,_S={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},wS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_S[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yv{constructor(e){this.name=e,this._logLevel=vS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const ES=(t,e)=>e.some(n=>t instanceof n);let _m,wm;function TS(){return _m||(_m=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SS(){return wm||(wm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xv=new WeakMap,hh=new WeakMap,Jv=new WeakMap,oc=new WeakMap,Dd=new WeakMap;function IS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Tr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Xv.set(n,t)}).catch(()=>{}),Dd.set(e,t),e}function AS(t){if(hh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});hh.set(t,e)}let dh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RS(t){dh=t(dh)}function CS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sc(this),e,...n);return Jv.set(r,e.sort?e.sort():[e]),Tr(r)}:SS().includes(t)?function(...e){return t.apply(sc(this),e),Tr(Xv.get(this))}:function(...e){return Tr(t.apply(sc(this),e))}}function PS(t){return typeof t=="function"?CS(t):(t instanceof IDBTransaction&&AS(t),ES(t,TS())?new Proxy(t,dh):t)}function Tr(t){if(t instanceof IDBRequest)return IS(t);if(oc.has(t))return oc.get(t);const e=PS(t);return e!==t&&(oc.set(t,e),Dd.set(e,t)),e}const sc=t=>Dd.get(t);function kS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Tr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Tr(s.result),u.oldVersion,u.newVersion,Tr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const xS=["get","getKey","getAll","getAllKeys","count"],DS=["put","add","delete","clear"],ac=new Map;function Em(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ac.get(e))return ac.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xS.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return ac.set(e,o),o}RS(t=>({...t,get:(e,n,r)=>Em(e,n)||t.get(e,n,r),has:(e,n)=>!!Em(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fh="@firebase/app",Tm="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new Yv("@firebase/app"),MS="@firebase/app-compat",LS="@firebase/analytics-compat",OS="@firebase/analytics",FS="@firebase/app-check-compat",US="@firebase/app-check",jS="@firebase/auth",bS="@firebase/auth-compat",zS="@firebase/database",BS="@firebase/database-compat",KS="@firebase/functions",$S="@firebase/functions-compat",HS="@firebase/installations",qS="@firebase/installations-compat",WS="@firebase/messaging",QS="@firebase/messaging-compat",GS="@firebase/performance",YS="@firebase/performance-compat",XS="@firebase/remote-config",JS="@firebase/remote-config-compat",ZS="@firebase/storage",eI="@firebase/storage-compat",tI="@firebase/firestore",nI="@firebase/vertexai-preview",rI="@firebase/firestore-compat",iI="firebase",oI="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="[DEFAULT]",sI={[fh]:"fire-core",[MS]:"fire-core-compat",[OS]:"fire-analytics",[LS]:"fire-analytics-compat",[US]:"fire-app-check",[FS]:"fire-app-check-compat",[jS]:"fire-auth",[bS]:"fire-auth-compat",[zS]:"fire-rtdb",[BS]:"fire-rtdb-compat",[KS]:"fire-fn",[$S]:"fire-fn-compat",[HS]:"fire-iid",[qS]:"fire-iid-compat",[WS]:"fire-fcm",[QS]:"fire-fcm-compat",[GS]:"fire-perf",[YS]:"fire-perf-compat",[XS]:"fire-rc",[JS]:"fire-rc-compat",[ZS]:"fire-gcs",[eI]:"fire-gcs-compat",[tI]:"fire-fst",[rI]:"fire-fst-compat",[nI]:"fire-vertex","fire-js":"fire-js",[iI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new Map,aI=new Map,mh=new Map;function Sm(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nl(t){const e=t.name;if(mh.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;mh.set(e,t);for(const n of Vl.values())Sm(n,t);for(const n of aI.values())Sm(n,t);return!0}function lI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new Gv("app","Firebase",uI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=oI;function Zv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ph,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Sr.create("bad-app-name",{appName:String(i)});if(n||(n=Qv()),!n)throw Sr.create("no-options");const o=Vl.get(i);if(o){if(ch(n,o.options)&&ch(r,o.config))return o;throw Sr.create("duplicate-app",{appName:i})}const s=new gS(i);for(const u of mh.values())s.addComponent(u);const l=new cI(n,r,s);return Vl.set(i,l),l}function dI(t=ph){const e=Vl.get(t);if(!e&&t===ph&&Qv())return Zv();if(!e)throw Sr.create("no-app",{appName:t});return e}function Yi(t,e,n){var r;let i=(r=sI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(l.join(" "));return}Nl(new Fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebase-heartbeat-database",pI=1,Us="firebase-heartbeat-store";let lc=null;function e_(){return lc||(lc=kS(fI,pI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Us)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sr.create("idb-open",{originalErrorMessage:t.message})})),lc}async function mI(t){try{const n=(await e_()).transaction(Us),r=await n.objectStore(Us).get(t_(t));return await n.done,r}catch(e){if(e instanceof vo)si.warn(e.message);else{const n=Sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function Im(t,e){try{const r=(await e_()).transaction(Us,"readwrite");await r.objectStore(Us).put(e,t_(t)),await r.done}catch(n){if(n instanceof vo)si.warn(n.message);else{const r=Sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function t_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1024,yI=30*24*60*60*1e3;class vI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Am();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=yI}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Am(),{heartbeatsToSend:r,unsentEntries:i}=_I(this._heartbeatsCache.heartbeats),o=Dl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Am(){return new Date().toISOString().substring(0,10)}function _I(t,e=gI){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Rm(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lS()?uS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Im(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Im(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rm(t){return Dl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){Nl(new Fs("platform-logger",e=>new VS(e),"PRIVATE")),Nl(new Fs("heartbeat",e=>new vI(e),"PRIVATE")),Yi(fh,Tm,t),Yi(fh,Tm,"esm2017"),Yi("fire-js","")}EI("");var TI="firebase",SI="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(TI,SI,"app");var Cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,n_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(m,v){function _(){}_.prototype=v.prototype,m.D=v.prototype,m.prototype=new _,m.prototype.constructor=m,m.C=function(E,R,k){for(var T=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)T[Te-2]=arguments[Te];return v.prototype[R].apply(E,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(m,v,_){_||(_=0);var E=Array(16);if(typeof v=="string")for(var R=0;16>R;++R)E[R]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(R=0;16>R;++R)E[R]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=m.g[0],_=m.g[1],R=m.g[2];var k=m.g[3],T=v+(k^_&(R^k))+E[0]+3614090360&4294967295;v=_+(T<<7&4294967295|T>>>25),T=k+(R^v&(_^R))+E[1]+3905402710&4294967295,k=v+(T<<12&4294967295|T>>>20),T=R+(_^k&(v^_))+E[2]+606105819&4294967295,R=k+(T<<17&4294967295|T>>>15),T=_+(v^R&(k^v))+E[3]+3250441966&4294967295,_=R+(T<<22&4294967295|T>>>10),T=v+(k^_&(R^k))+E[4]+4118548399&4294967295,v=_+(T<<7&4294967295|T>>>25),T=k+(R^v&(_^R))+E[5]+1200080426&4294967295,k=v+(T<<12&4294967295|T>>>20),T=R+(_^k&(v^_))+E[6]+2821735955&4294967295,R=k+(T<<17&4294967295|T>>>15),T=_+(v^R&(k^v))+E[7]+4249261313&4294967295,_=R+(T<<22&4294967295|T>>>10),T=v+(k^_&(R^k))+E[8]+1770035416&4294967295,v=_+(T<<7&4294967295|T>>>25),T=k+(R^v&(_^R))+E[9]+2336552879&4294967295,k=v+(T<<12&4294967295|T>>>20),T=R+(_^k&(v^_))+E[10]+4294925233&4294967295,R=k+(T<<17&4294967295|T>>>15),T=_+(v^R&(k^v))+E[11]+2304563134&4294967295,_=R+(T<<22&4294967295|T>>>10),T=v+(k^_&(R^k))+E[12]+1804603682&4294967295,v=_+(T<<7&4294967295|T>>>25),T=k+(R^v&(_^R))+E[13]+4254626195&4294967295,k=v+(T<<12&4294967295|T>>>20),T=R+(_^k&(v^_))+E[14]+2792965006&4294967295,R=k+(T<<17&4294967295|T>>>15),T=_+(v^R&(k^v))+E[15]+1236535329&4294967295,_=R+(T<<22&4294967295|T>>>10),T=v+(R^k&(_^R))+E[1]+4129170786&4294967295,v=_+(T<<5&4294967295|T>>>27),T=k+(_^R&(v^_))+E[6]+3225465664&4294967295,k=v+(T<<9&4294967295|T>>>23),T=R+(v^_&(k^v))+E[11]+643717713&4294967295,R=k+(T<<14&4294967295|T>>>18),T=_+(k^v&(R^k))+E[0]+3921069994&4294967295,_=R+(T<<20&4294967295|T>>>12),T=v+(R^k&(_^R))+E[5]+3593408605&4294967295,v=_+(T<<5&4294967295|T>>>27),T=k+(_^R&(v^_))+E[10]+38016083&4294967295,k=v+(T<<9&4294967295|T>>>23),T=R+(v^_&(k^v))+E[15]+3634488961&4294967295,R=k+(T<<14&4294967295|T>>>18),T=_+(k^v&(R^k))+E[4]+3889429448&4294967295,_=R+(T<<20&4294967295|T>>>12),T=v+(R^k&(_^R))+E[9]+568446438&4294967295,v=_+(T<<5&4294967295|T>>>27),T=k+(_^R&(v^_))+E[14]+3275163606&4294967295,k=v+(T<<9&4294967295|T>>>23),T=R+(v^_&(k^v))+E[3]+4107603335&4294967295,R=k+(T<<14&4294967295|T>>>18),T=_+(k^v&(R^k))+E[8]+1163531501&4294967295,_=R+(T<<20&4294967295|T>>>12),T=v+(R^k&(_^R))+E[13]+2850285829&4294967295,v=_+(T<<5&4294967295|T>>>27),T=k+(_^R&(v^_))+E[2]+4243563512&4294967295,k=v+(T<<9&4294967295|T>>>23),T=R+(v^_&(k^v))+E[7]+1735328473&4294967295,R=k+(T<<14&4294967295|T>>>18),T=_+(k^v&(R^k))+E[12]+2368359562&4294967295,_=R+(T<<20&4294967295|T>>>12),T=v+(_^R^k)+E[5]+4294588738&4294967295,v=_+(T<<4&4294967295|T>>>28),T=k+(v^_^R)+E[8]+2272392833&4294967295,k=v+(T<<11&4294967295|T>>>21),T=R+(k^v^_)+E[11]+1839030562&4294967295,R=k+(T<<16&4294967295|T>>>16),T=_+(R^k^v)+E[14]+4259657740&4294967295,_=R+(T<<23&4294967295|T>>>9),T=v+(_^R^k)+E[1]+2763975236&4294967295,v=_+(T<<4&4294967295|T>>>28),T=k+(v^_^R)+E[4]+1272893353&4294967295,k=v+(T<<11&4294967295|T>>>21),T=R+(k^v^_)+E[7]+4139469664&4294967295,R=k+(T<<16&4294967295|T>>>16),T=_+(R^k^v)+E[10]+3200236656&4294967295,_=R+(T<<23&4294967295|T>>>9),T=v+(_^R^k)+E[13]+681279174&4294967295,v=_+(T<<4&4294967295|T>>>28),T=k+(v^_^R)+E[0]+3936430074&4294967295,k=v+(T<<11&4294967295|T>>>21),T=R+(k^v^_)+E[3]+3572445317&4294967295,R=k+(T<<16&4294967295|T>>>16),T=_+(R^k^v)+E[6]+76029189&4294967295,_=R+(T<<23&4294967295|T>>>9),T=v+(_^R^k)+E[9]+3654602809&4294967295,v=_+(T<<4&4294967295|T>>>28),T=k+(v^_^R)+E[12]+3873151461&4294967295,k=v+(T<<11&4294967295|T>>>21),T=R+(k^v^_)+E[15]+530742520&4294967295,R=k+(T<<16&4294967295|T>>>16),T=_+(R^k^v)+E[2]+3299628645&4294967295,_=R+(T<<23&4294967295|T>>>9),T=v+(R^(_|~k))+E[0]+4096336452&4294967295,v=_+(T<<6&4294967295|T>>>26),T=k+(_^(v|~R))+E[7]+1126891415&4294967295,k=v+(T<<10&4294967295|T>>>22),T=R+(v^(k|~_))+E[14]+2878612391&4294967295,R=k+(T<<15&4294967295|T>>>17),T=_+(k^(R|~v))+E[5]+4237533241&4294967295,_=R+(T<<21&4294967295|T>>>11),T=v+(R^(_|~k))+E[12]+1700485571&4294967295,v=_+(T<<6&4294967295|T>>>26),T=k+(_^(v|~R))+E[3]+2399980690&4294967295,k=v+(T<<10&4294967295|T>>>22),T=R+(v^(k|~_))+E[10]+4293915773&4294967295,R=k+(T<<15&4294967295|T>>>17),T=_+(k^(R|~v))+E[1]+2240044497&4294967295,_=R+(T<<21&4294967295|T>>>11),T=v+(R^(_|~k))+E[8]+1873313359&4294967295,v=_+(T<<6&4294967295|T>>>26),T=k+(_^(v|~R))+E[15]+4264355552&4294967295,k=v+(T<<10&4294967295|T>>>22),T=R+(v^(k|~_))+E[6]+2734768916&4294967295,R=k+(T<<15&4294967295|T>>>17),T=_+(k^(R|~v))+E[13]+1309151649&4294967295,_=R+(T<<21&4294967295|T>>>11),T=v+(R^(_|~k))+E[4]+4149444226&4294967295,v=_+(T<<6&4294967295|T>>>26),T=k+(_^(v|~R))+E[11]+3174756917&4294967295,k=v+(T<<10&4294967295|T>>>22),T=R+(v^(k|~_))+E[2]+718787259&4294967295,R=k+(T<<15&4294967295|T>>>17),T=_+(k^(R|~v))+E[9]+3951481745&4294967295,m.g[0]=m.g[0]+v&4294967295,m.g[1]=m.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,m.g[2]=m.g[2]+R&4294967295,m.g[3]=m.g[3]+k&4294967295}r.prototype.u=function(m,v){v===void 0&&(v=m.length);for(var _=v-this.blockSize,E=this.B,R=this.h,k=0;k<v;){if(R==0)for(;k<=_;)i(this,m,k),k+=this.blockSize;if(typeof m=="string"){for(;k<v;)if(E[R++]=m.charCodeAt(k++),R==this.blockSize){i(this,E),R=0;break}}else for(;k<v;)if(E[R++]=m[k++],R==this.blockSize){i(this,E),R=0;break}}this.h=R,this.o+=v},r.prototype.v=function(){var m=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);m[0]=128;for(var v=1;v<m.length-8;++v)m[v]=0;var _=8*this.o;for(v=m.length-8;v<m.length;++v)m[v]=_&255,_/=256;for(this.u(m),m=Array(16),v=_=0;4>v;++v)for(var E=0;32>E;E+=8)m[_++]=this.g[v]>>>E&255;return m};function o(m,v){var _=l;return Object.prototype.hasOwnProperty.call(_,m)?_[m]:_[m]=v(m)}function s(m,v){this.h=v;for(var _=[],E=!0,R=m.length-1;0<=R;R--){var k=m[R]|0;E&&k==v||(_[R]=k,E=!1)}this.g=_}var l={};function u(m){return-128<=m&&128>m?o(m,function(v){return new s([v|0],0>v?-1:0)}):new s([m|0],0>m?-1:0)}function h(m){if(isNaN(m)||!isFinite(m))return p;if(0>m)return N(h(-m));for(var v=[],_=1,E=0;m>=_;E++)v[E]=m/_|0,_*=4294967296;return new s(v,0)}function f(m,v){if(m.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(m.charAt(0)=="-")return N(f(m.substring(1),v));if(0<=m.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(v,8)),E=p,R=0;R<m.length;R+=8){var k=Math.min(8,m.length-R),T=parseInt(m.substring(R,R+k),v);8>k?(k=h(Math.pow(v,k)),E=E.j(k).add(h(T))):(E=E.j(_),E=E.add(h(T)))}return E}var p=u(0),g=u(1),I=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-N(this).m();for(var m=0,v=1,_=0;_<this.g.length;_++){var E=this.i(_);m+=(0<=E?E:4294967296+E)*v,v*=4294967296}return m},t.toString=function(m){if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(C(this))return"0";if(P(this))return"-"+N(this).toString(m);for(var v=h(Math.pow(m,6)),_=this,E="";;){var R=L(_,v).g;_=S(_,R.j(v));var k=((0<_.g.length?_.g[0]:_.h)>>>0).toString(m);if(_=R,C(_))return k+E;for(;6>k.length;)k="0"+k;E=k+E}},t.i=function(m){return 0>m?0:m<this.g.length?this.g[m]:this.h};function C(m){if(m.h!=0)return!1;for(var v=0;v<m.g.length;v++)if(m.g[v]!=0)return!1;return!0}function P(m){return m.h==-1}t.l=function(m){return m=S(this,m),P(m)?-1:C(m)?0:1};function N(m){for(var v=m.g.length,_=[],E=0;E<v;E++)_[E]=~m.g[E];return new s(_,~m.h).add(g)}t.abs=function(){return P(this)?N(this):this},t.add=function(m){for(var v=Math.max(this.g.length,m.g.length),_=[],E=0,R=0;R<=v;R++){var k=E+(this.i(R)&65535)+(m.i(R)&65535),T=(k>>>16)+(this.i(R)>>>16)+(m.i(R)>>>16);E=T>>>16,k&=65535,T&=65535,_[R]=T<<16|k}return new s(_,_[_.length-1]&-2147483648?-1:0)};function S(m,v){return m.add(N(v))}t.j=function(m){if(C(this)||C(m))return p;if(P(this))return P(m)?N(this).j(N(m)):N(N(this).j(m));if(P(m))return N(this.j(N(m)));if(0>this.l(I)&&0>m.l(I))return h(this.m()*m.m());for(var v=this.g.length+m.g.length,_=[],E=0;E<2*v;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var R=0;R<m.g.length;R++){var k=this.i(E)>>>16,T=this.i(E)&65535,Te=m.i(R)>>>16,ot=m.i(R)&65535;_[2*E+2*R]+=T*ot,w(_,2*E+2*R),_[2*E+2*R+1]+=k*ot,w(_,2*E+2*R+1),_[2*E+2*R+1]+=T*Te,w(_,2*E+2*R+1),_[2*E+2*R+2]+=k*Te,w(_,2*E+2*R+2)}for(E=0;E<v;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=v;E<2*v;E++)_[E]=0;return new s(_,0)};function w(m,v){for(;(m[v]&65535)!=m[v];)m[v+1]+=m[v]>>>16,m[v]&=65535,v++}function A(m,v){this.g=m,this.h=v}function L(m,v){if(C(v))throw Error("division by zero");if(C(m))return new A(p,p);if(P(m))return v=L(N(m),v),new A(N(v.g),N(v.h));if(P(v))return v=L(m,N(v)),new A(N(v.g),v.h);if(30<m.g.length){if(P(m)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,E=v;0>=E.l(m);)_=B(_),E=B(E);var R=$(_,1),k=$(E,1);for(E=$(E,2),_=$(_,2);!C(E);){var T=k.add(E);0>=T.l(m)&&(R=R.add(_),k=T),E=$(E,1),_=$(_,1)}return v=S(m,R.j(v)),new A(R,v)}for(R=p;0<=m.l(v);){for(_=Math.max(1,Math.floor(m.m()/v.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),k=h(_),T=k.j(v);P(T)||0<T.l(m);)_-=E,k=h(_),T=k.j(v);C(k)&&(k=g),R=R.add(k),m=S(m,T)}return new A(R,m)}t.A=function(m){return L(this,m).h},t.and=function(m){for(var v=Math.max(this.g.length,m.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)&m.i(E);return new s(_,this.h&m.h)},t.or=function(m){for(var v=Math.max(this.g.length,m.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)|m.i(E);return new s(_,this.h|m.h)},t.xor=function(m){for(var v=Math.max(this.g.length,m.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)^m.i(E);return new s(_,this.h^m.h)};function B(m){for(var v=m.g.length+1,_=[],E=0;E<v;E++)_[E]=m.i(E)<<1|m.i(E-1)>>>31;return new s(_,m.h)}function $(m,v){var _=v>>5;v%=32;for(var E=m.g.length-_,R=[],k=0;k<E;k++)R[k]=0<v?m.i(k+_)>>>v|m.i(k+_+1)<<32-v:m.i(k+_);return new s(R,m.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,n_=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=f,Jr=s}).apply(typeof Cm<"u"?Cm:typeof self<"u"?self:typeof window<"u"?window:{});var Fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r_,i_,ts,o_,Za,gh,s_,a_,l_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,d){return a==Array.prototype||a==Object.prototype||(a[c]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fa=="object"&&Fa];for(var c=0;c<a.length;++c){var d=a[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,c){if(c)e:{var d=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var D=a[y];if(!(D in d))break e;d=d[D]}a=a[a.length-1],y=d[a],c=c(y),c!=y&&c!=null&&e(d,a,{configurable:!0,writable:!0,value:c})}}function o(a,c){a instanceof String&&(a+="");var d=0,y=!1,D={next:function(){if(!y&&d<a.length){var M=d++;return{value:c(M,a[M]),done:!1}}return y=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var c=typeof a;return c=c!="object"?c:a?Array.isArray(a)?"array":c:"null",c=="array"||c=="object"&&typeof a.length=="number"}function h(a){var c=typeof a;return c=="object"&&a!=null||c=="function"}function f(a,c,d){return a.call.apply(a.bind,arguments)}function p(a,c,d){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,y),a.apply(c,D)}}return function(){return a.apply(c,arguments)}}function g(a,c,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function I(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function C(a,c){function d(){}d.prototype=c.prototype,a.aa=c.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(y,D,M){for(var H=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)H[Se-2]=arguments[Se];return c.prototype[D].apply(y,H)}}function P(a){const c=a.length;if(0<c){const d=Array(c);for(let y=0;y<c;y++)d[y]=a[y];return d}return[]}function N(a,c){for(let d=1;d<arguments.length;d++){const y=arguments[d];if(u(y)){const D=a.length||0,M=y.length||0;a.length=D+M;for(let H=0;H<M;H++)a[D+H]=y[H]}else a.push(y)}}class S{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function w(a){return/^[\s\xa0]*$/.test(a)}function A(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function L(a){return L[" "](a),a}L[" "]=function(){};var B=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function $(a,c,d){for(const y in a)c.call(d,a[y],y,a)}function m(a,c){for(const d in a)c.call(void 0,a[d],d,a)}function v(a){const c={};for(const d in a)c[d]=a[d];return c}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,c){let d,y;for(let D=1;D<arguments.length;D++){y=arguments[D];for(d in y)a[d]=y[d];for(let M=0;M<_.length;M++)d=_[M],Object.prototype.hasOwnProperty.call(y,d)&&(a[d]=y[d])}}function R(a){var c=1;a=a.split(":");const d=[];for(;0<c&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(":")),d}function k(a){l.setTimeout(()=>{throw a},0)}function T(){var a=te;let c=null;return a.g&&(c=a.g,a.g=a.g.next,a.g||(a.h=null),c.next=null),c}class Te{constructor(){this.h=this.g=null}add(c,d){const y=ot.get();y.set(c,d),this.h?this.h.next=y:this.g=y,this.h=y}}var ot=new S(()=>new vn,a=>a.reset());class vn{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Mt,z=!1,te=new Te,re=()=>{const a=l.Promise.resolve(void 0);Mt=()=>{a.then(_e)}};var _e=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(d){k(d)}var c=ot;c.j(a),100>c.h&&(c.h++,a.next=c.g,c.g=a)}z=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(a,c){this.type=a,this.g=this.target=c,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Pt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,c),l.removeEventListener("test",d,c)}catch{}return a}();function Xe(a,c){if(Ee.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=c,c=a.relatedTarget){if(B){e:{try{L(c.nodeName);var D=!0;break e}catch{}D=!1}D||(c=null)}}else d=="mouseover"?c=a.fromElement:d=="mouseout"&&(c=a.toElement);this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:st[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Xe.aa.h.call(this)}}C(Xe,Ee);var st={2:"touch",3:"pen",4:"mouse"};Xe.prototype.h=function(){Xe.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),Io=0;function _u(a,c,d,y,D){this.listener=a,this.proxy=null,this.src=c,this.type=d,this.capture=!!y,this.ha=D,this.key=++Io,this.da=this.fa=!1}function pi(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function mi(a){this.src=a,this.g={},this.h=0}mi.prototype.add=function(a,c,d,y,D){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var H=kn(a,c,y,D);return-1<H?(c=a[H],d||(c.fa=!1)):(c=new _u(c,this.src,M,!!y,D),c.fa=d,a.push(c)),c};function lt(a,c){var d=c.type;if(d in a.g){var y=a.g[d],D=Array.prototype.indexOf.call(y,c,void 0),M;(M=0<=D)&&Array.prototype.splice.call(y,D,1),M&&(pi(c),a.g[d].length==0&&(delete a.g[d],a.h--))}}function kn(a,c,d,y){for(var D=0;D<a.length;++D){var M=a[D];if(!M.da&&M.listener==c&&M.capture==!!d&&M.ha==y)return D}return-1}var gi="closure_lm_"+(1e6*Math.random()|0),Ao={};function _n(a,c,d,y,D){if(Array.isArray(c)){for(var M=0;M<c.length;M++)_n(a,c[M],d,y,D);return null}return d=vi(d),a&&a[at]?a.K(c,d,h(y)?!!y.capture:!!y,D):wu(a,c,d,!1,y,D)}function wu(a,c,d,y,D,M){if(!c)throw Error("Invalid event type");var H=h(D)?!!D.capture:!!D,Se=xn(a);if(Se||(a[gi]=Se=new mi(a)),d=Se.add(c,d,y,H,M),d.proxy)return d;if(y=Eu(),d.proxy=y,y.src=a,y.listener=d,a.addEventListener)Pt||(D=H),D===void 0&&(D=!1),a.addEventListener(c.toString(),y,D);else if(a.attachEvent)a.attachEvent(sa(c.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function Eu(){function a(d){return c.call(a.src,a.listener,d)}const c=Lr;return a}function oa(a,c,d,y,D){if(Array.isArray(c))for(var M=0;M<c.length;M++)oa(a,c[M],d,y,D);else y=h(y)?!!y.capture:!!y,d=vi(d),a&&a[at]?(a=a.i,c=String(c).toString(),c in a.g&&(M=a.g[c],d=kn(M,d,y,D),-1<d&&(pi(M[d]),Array.prototype.splice.call(M,d,1),M.length==0&&(delete a.g[c],a.h--)))):a&&(a=xn(a))&&(c=a.g[c.toString()],a=-1,c&&(a=kn(c,d,y,D)),(d=-1<a?c[a]:null)&&Ro(d))}function Ro(a){if(typeof a!="number"&&a&&!a.da){var c=a.src;if(c&&c[at])lt(c.i,a);else{var d=a.type,y=a.proxy;c.removeEventListener?c.removeEventListener(d,y,a.capture):c.detachEvent?c.detachEvent(sa(d),y):c.addListener&&c.removeListener&&c.removeListener(y),(d=xn(c))?(lt(d,a),d.h==0&&(d.src=null,c[gi]=null)):pi(a)}}}function sa(a){return a in Ao?Ao[a]:Ao[a]="on"+a}function Lr(a,c){if(a.da)a=!0;else{c=new Xe(c,this);var d=a.listener,y=a.ha||a.src;a.fa&&Ro(a),a=d.call(y,c)}return a}function xn(a){return a=a[gi],a instanceof mi?a:null}var yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function vi(a){return typeof a=="function"?a:(a[yi]||(a[yi]=function(c){return a.handleEvent(c)}),a[yi])}function Ce(){ue.call(this),this.i=new mi(this),this.M=this,this.F=null}C(Ce,ue),Ce.prototype[at]=!0,Ce.prototype.removeEventListener=function(a,c,d,y){oa(this,a,c,d,y)};function Ke(a,c){var d,y=a.F;if(y)for(d=[];y;y=y.F)d.push(y);if(a=a.M,y=c.type||c,typeof c=="string")c=new Ee(c,a);else if(c instanceof Ee)c.target=c.target||a;else{var D=c;c=new Ee(y,a),E(c,D)}if(D=!0,d)for(var M=d.length-1;0<=M;M--){var H=c.g=d[M];D=Or(H,y,!0,c)&&D}if(H=c.g=a,D=Or(H,y,!0,c)&&D,D=Or(H,y,!1,c)&&D,d)for(M=0;M<d.length;M++)H=c.g=d[M],D=Or(H,y,!1,c)&&D}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var a=this.i,c;for(c in a.g){for(var d=a.g[c],y=0;y<d.length;y++)pi(d[y]);delete a.g[c],a.h--}}this.F=null},Ce.prototype.K=function(a,c,d,y){return this.i.add(String(a),c,!1,d,y)},Ce.prototype.L=function(a,c,d,y){return this.i.add(String(a),c,!0,d,y)};function Or(a,c,d,y){if(c=a.i.g[String(c)],!c)return!0;c=c.concat();for(var D=!0,M=0;M<c.length;++M){var H=c[M];if(H&&!H.da&&H.capture==d){var Se=H.listener,ht=H.ha||H.src;H.fa&&lt(a.i,H),D=Se.call(ht,y)!==!1&&D}}return D&&!y.defaultPrevented}function Fr(a,c,d){if(typeof a=="function")d&&(a=g(a,d));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(a,c||0)}function aa(a){a.g=Fr(()=>{a.g=null,a.i&&(a.i=!1,aa(a))},a.l);const c=a.h;a.h=null,a.m.apply(null,c)}class wn extends ue{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:aa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(a){ue.call(this),this.h=a,this.g={}}C(Yn,ue);var Co=[];function Po(a){$(a.g,function(c,d){this.g.hasOwnProperty(d)&&Ro(c)},a),a.g={}}Yn.prototype.N=function(){Yn.aa.N.call(this),Po(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ko=l.JSON.stringify,la=l.JSON.parse,_i=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function wi(){}wi.prototype.h=null;function Ei(a){return a.h||(a.h=a.i())}function ua(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xo(){Ee.call(this,"d")}C(xo,Ee);function Ti(){Ee.call(this,"c")}C(Ti,Ee);var Dn={},x=null;function V(){return x=x||new Ce}Dn.La="serverreachability";function O(a){Ee.call(this,Dn.La,a)}C(O,Ee);function b(a){const c=V();Ke(c,new O(c))}Dn.STAT_EVENT="statevent";function Q(a,c){Ee.call(this,Dn.STAT_EVENT,a),this.stat=c}C(Q,Ee);function J(a){const c=V();Ke(c,new Q(c,a))}Dn.Ma="timingevent";function Z(a,c){Ee.call(this,Dn.Ma,a),this.size=c}C(Z,Ee);function q(a,c){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},c)}function ie(){this.g=!0}ie.prototype.xa=function(){this.g=!1};function oe(a,c,d,y,D,M){a.info(function(){if(a.g)if(M)for(var H="",Se=M.split("&"),ht=0;ht<Se.length;ht++){var ye=Se[ht].split("=");if(1<ye.length){var vt=ye[0];ye=ye[1];var _t=vt.split("_");H=2<=_t.length&&_t[1]=="type"?H+(vt+"="+ye+"&"):H+(vt+"=redacted&")}}else H=null;else H=M;return"XMLHTTP REQ ("+y+") [attempt "+D+"]: "+c+`
`+d+`
`+H})}function Je(a,c,d,y,D,M,H){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+D+"]: "+c+`
`+d+`
`+M+" "+H})}function Ve(a,c,d,y){a.info(function(){return"XMLHTTP TEXT ("+c+"): "+Ie(a,d)+(y?" "+y:"")})}function ne(a,c){a.info(function(){return"TIMEOUT: "+c})}ie.prototype.info=function(){};function Ie(a,c){if(!a.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var y=d[a];if(!(2>y.length)){var D=y[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var H=1;H<D.length;H++)D[H]=""}}}}return ko(d)}catch{return c}}var Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gt;function sn(){}C(sn,wi),sn.prototype.g=function(){return new XMLHttpRequest},sn.prototype.i=function(){return{}},Gt=new sn;function kt(a,c,d,y){this.j=a,this.i=c,this.l=d,this.R=y||1,this.U=new Yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vn}function Vn(){this.i=null,this.g="",this.h=!1}var zt={},Zn={};function er(a,c,d){a.L=1,a.v=da(Ln(c)),a.m=d,a.P=!0,Ur(a,null)}function Ur(a,c){a.F=Date.now(),ct(a),a.A=Ln(a.v);var d=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),_f(d.i,"t",y),a.C=0,d=a.j.J,a.h=new Vn,a.g=Ff(a.j,d?c:null,!a.m),0<a.O&&(a.M=new wn(g(a.Y,a,a.g),a.O)),c=a.U,d=a.g,y=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Co[0]=D.toString()),D=Co);for(var M=0;M<D.length;M++){var H=_n(d,D[M],y||c.handleEvent,!1,c.h||c);if(!H)break;c.g[H.key]=H}c=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,c)):(a.u="GET",a.g.ea(a.A,a.u,null,c)),b(),oe(a.i,a.u,a.A,a.l,a.R,a.m)}kt.prototype.ca=function(a){a=a.target;const c=this.M;c&&On(a)==3?c.j():this.Y(a)},kt.prototype.Y=function(a){try{if(a==this.g)e:{const _t=On(this.g);var c=this.g.Ba();const Ai=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Rf(this.g)))){this.J||_t!=4||c==7||(c==8||0>=Ai?b(3):b(2)),Nn(this);var d=this.g.Z();this.X=d;t:if(ce(this)){var y=Rf(this.g);a="";var D=y.length,M=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),tr(this);var H="";break t}this.h.i=new l.TextDecoder}for(c=0;c<D;c++)this.h.h=!0,a+=this.h.i.decode(y[c],{stream:!(M&&c==D-1)});y.length=0,this.h.g+=a,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=d==200,Je(this.i,this.u,this.A,this.l,this.R,_t,d),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,ht=this.g;if((Se=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Se)){var ye=Se;break t}}ye=null}if(d=ye)Ve(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tu(this,d);else{this.o=!1,this.s=3,J(12),Mn(this),tr(this);break e}}if(this.P){d=!0;let an;for(;!this.J&&this.C<H.length;)if(an=ut(this,H),an==Zn){_t==4&&(this.s=4,J(14),d=!1),Ve(this.i,this.l,null,"[Incomplete Response]");break}else if(an==zt){this.s=4,J(15),Ve(this.i,this.l,H,"[Invalid Chunk]"),d=!1;break}else Ve(this.i,this.l,an,null),Tu(this,an);if(ce(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||H.length!=0||this.h.h||(this.s=1,J(16),d=!1),this.o=this.o&&d,!d)Ve(this.i,this.l,H,"[Invalid Chunked Response]"),Mn(this),tr(this);else if(0<H.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Pu(vt),vt.M=!0,J(11))}}else Ve(this.i,this.l,H,null),Tu(this,H);_t==4&&Mn(this),this.o&&!this.J&&(_t==4?Nf(this.j,this):(this.o=!1,ct(this)))}else K0(this.g),d==400&&0<H.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),Mn(this),tr(this)}}}catch{}finally{}};function ce(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ut(a,c){var d=a.C,y=c.indexOf(`
`,d);return y==-1?Zn:(d=Number(c.substring(d,y)),isNaN(d)?zt:(y+=1,y+d>c.length?Zn:(c=c.slice(y,y+d),a.C=y+d,c)))}kt.prototype.cancel=function(){this.J=!0,Mn(this)};function ct(a){a.S=Date.now()+a.I,He(a,a.I)}function He(a,c){if(a.B!=null)throw Error("WatchDog timer not null");a.B=q(g(a.ba,a),c)}function Nn(a){a.B&&(l.clearTimeout(a.B),a.B=null)}kt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(ne(this.i,this.A),this.L!=2&&(b(),J(17)),Mn(this),this.s=2,tr(this)):He(this,this.S-a)};function tr(a){a.j.G==0||a.J||Nf(a.j,a)}function Mn(a){Nn(a);var c=a.M;c&&typeof c.ma=="function"&&c.ma(),a.M=null,Po(a.U),a.g&&(c=a.g,a.g=null,c.abort(),c.ma())}function Tu(a,c){try{var d=a.j;if(d.G!=0&&(d.g==a||Su(d.h,a))){if(!a.K&&Su(d.h,a)&&d.G==3){try{var y=d.Da.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var D=y;if(D[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)ya(d),ma(d);else break e;Cu(d),J(18)}}else d.za=D[1],0<d.za-d.T&&37500>D[2]&&d.F&&d.v==0&&!d.C&&(d.C=q(g(d.Za,d),6e3));if(1>=cf(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else br(d,11)}else if((a.K||d.g==a)&&ya(d),!w(c))for(D=d.Da.g.parse(c),c=0;c<D.length;c++){let ye=D[c];if(d.T=ye[0],ye=ye[1],d.G==2)if(ye[0]=="c"){d.K=ye[1],d.ia=ye[2];const vt=ye[3];vt!=null&&(d.la=vt,d.j.info("VER="+d.la));const _t=ye[4];_t!=null&&(d.Aa=_t,d.j.info("SVER="+d.Aa));const Ai=ye[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(y=1.5*Ai,d.L=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const an=a.g;if(an){const _a=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var M=y.h;M.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Iu(M,M.h),M.h=null))}if(y.D){const ku=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;ku&&(y.ya=ku,Pe(y.I,y.D,ku))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),y=d;var H=a;if(y.qa=Of(y,y.J?y.ia:null,y.W),H.K){hf(y.h,H);var Se=H,ht=y.L;ht&&(Se.I=ht),Se.B&&(Nn(Se),ct(Se)),y.g=H}else Df(y);0<d.i.length&&ga(d)}else ye[0]!="stop"&&ye[0]!="close"||br(d,7);else d.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?br(d,7):Ru(d):ye[0]!="noop"&&d.l&&d.l.ta(ye),d.v=0)}}b(4)}catch{}}var C0=class{constructor(a,c){this.g=a,this.map=c}};function lf(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function cf(a){return a.h?1:a.g?a.g.size:0}function Su(a,c){return a.h?a.h==c:a.g?a.g.has(c):!1}function Iu(a,c){a.g?a.g.add(c):a.h=c}function hf(a,c){a.h&&a.h==c?a.h=null:a.g&&a.g.has(c)&&a.g.delete(c)}lf.prototype.cancel=function(){if(this.i=df(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function df(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let c=a.i;for(const d of a.g.values())c=c.concat(d.D);return c}return P(a.i)}function P0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var c=[],d=a.length,y=0;y<d;y++)c.push(a[y]);return c}c=[],d=0;for(y in a)c[d++]=a[y];return c}function k0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var c=[];a=a.length;for(var d=0;d<a;d++)c.push(d);return c}c=[],d=0;for(const y in a)c[d++]=y;return c}}}function ff(a,c){if(a.forEach&&typeof a.forEach=="function")a.forEach(c,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,c,void 0);else for(var d=k0(a),y=P0(a),D=y.length,M=0;M<D;M++)c.call(void 0,y[M],d&&d[M],a)}var pf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x0(a,c){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var y=a[d].indexOf("="),D=null;if(0<=y){var M=a[d].substring(0,y);D=a[d].substring(y+1)}else M=a[d];c(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function jr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof jr){this.h=a.h,ca(this,a.j),this.o=a.o,this.g=a.g,ha(this,a.s),this.l=a.l;var c=a.i,d=new No;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),mf(this,d),this.m=a.m}else a&&(c=String(a).match(pf))?(this.h=!1,ca(this,c[1]||"",!0),this.o=Do(c[2]||""),this.g=Do(c[3]||"",!0),ha(this,c[4]),this.l=Do(c[5]||"",!0),mf(this,c[6]||"",!0),this.m=Do(c[7]||"")):(this.h=!1,this.i=new No(null,this.h))}jr.prototype.toString=function(){var a=[],c=this.j;c&&a.push(Vo(c,gf,!0),":");var d=this.g;return(d||c=="file")&&(a.push("//"),(c=this.o)&&a.push(Vo(c,gf,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(Vo(d,d.charAt(0)=="/"?N0:V0,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",Vo(d,L0)),a.join("")};function Ln(a){return new jr(a)}function ca(a,c,d){a.j=d?Do(c,!0):c,a.j&&(a.j=a.j.replace(/:$/,""))}function ha(a,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);a.s=c}else a.s=null}function mf(a,c,d){c instanceof No?(a.i=c,O0(a.i,a.h)):(d||(c=Vo(c,M0)),a.i=new No(c,a.h))}function Pe(a,c,d){a.i.set(c,d)}function da(a){return Pe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Do(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Vo(a,c,d){return typeof a=="string"?(a=encodeURI(a).replace(c,D0),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function D0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var gf=/[#\/\?@]/g,V0=/[#\?:]/g,N0=/[#\?]/g,M0=/[#\?@]/g,L0=/#/g;function No(a,c){this.h=this.g=null,this.i=a||null,this.j=!!c}function nr(a){a.g||(a.g=new Map,a.h=0,a.i&&x0(a.i,function(c,d){a.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=No.prototype,t.add=function(a,c){nr(this),this.i=null,a=Si(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(c),this.h+=1,this};function yf(a,c){nr(a),c=Si(a,c),a.g.has(c)&&(a.i=null,a.h-=a.g.get(c).length,a.g.delete(c))}function vf(a,c){return nr(a),c=Si(a,c),a.g.has(c)}t.forEach=function(a,c){nr(this),this.g.forEach(function(d,y){d.forEach(function(D){a.call(c,D,y,this)},this)},this)},t.na=function(){nr(this);const a=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let y=0;y<c.length;y++){const D=a[y];for(let M=0;M<D.length;M++)d.push(c[y])}return d},t.V=function(a){nr(this);let c=[];if(typeof a=="string")vf(this,a)&&(c=c.concat(this.g.get(Si(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)c=c.concat(a[d])}return c},t.set=function(a,c){return nr(this),this.i=null,a=Si(this,a),vf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[c]),this.h+=1,this},t.get=function(a,c){return a?(a=this.V(a),0<a.length?String(a[0]):c):c};function _f(a,c,d){yf(a,c),0<d.length&&(a.i=null,a.g.set(Si(a,c),P(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var y=c[d];const M=encodeURIComponent(String(y)),H=this.V(y);for(y=0;y<H.length;y++){var D=M;H[y]!==""&&(D+="="+encodeURIComponent(String(H[y]))),a.push(D)}}return this.i=a.join("&")};function Si(a,c){return c=String(c),a.j&&(c=c.toLowerCase()),c}function O0(a,c){c&&!a.j&&(nr(a),a.i=null,a.g.forEach(function(d,y){var D=y.toLowerCase();y!=D&&(yf(this,y),_f(this,D,d))},a)),a.j=c}function F0(a,c){const d=new ie;if(l.Image){const y=new Image;y.onload=I(rr,d,"TestLoadImage: loaded",!0,c,y),y.onerror=I(rr,d,"TestLoadImage: error",!1,c,y),y.onabort=I(rr,d,"TestLoadImage: abort",!1,c,y),y.ontimeout=I(rr,d,"TestLoadImage: timeout",!1,c,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else c(!1)}function U0(a,c){const d=new ie,y=new AbortController,D=setTimeout(()=>{y.abort(),rr(d,"TestPingServer: timeout",!1,c)},1e4);fetch(a,{signal:y.signal}).then(M=>{clearTimeout(D),M.ok?rr(d,"TestPingServer: ok",!0,c):rr(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),rr(d,"TestPingServer: error",!1,c)})}function rr(a,c,d,y,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),y(d)}catch{}}function j0(){this.g=new _i}function b0(a,c,d){const y=d||"";try{ff(a,function(D,M){let H=D;h(D)&&(H=ko(D)),c.push(y+M+"="+encodeURIComponent(H))})}catch(D){throw c.push(y+"type="+encodeURIComponent("_badmap")),D}}function Mo(a){this.l=a.Ub||null,this.j=a.eb||!1}C(Mo,wi),Mo.prototype.g=function(){return new fa(this.l,this.j)},Mo.prototype.i=function(a){return function(){return a}}({});function fa(a,c){Ce.call(this),this.D=a,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(fa,Ce),t=fa.prototype,t.open=function(a,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=c,this.readyState=1,Oo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(c.body=a),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Oo(this)),this.g&&(this.readyState=3,Oo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wf(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function wf(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var c=a.value?a.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!a.done}))&&(this.response=this.responseText+=c)}a.done?Lo(this):Oo(this),this.readyState==3&&wf(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Lo(this))},t.Qa=function(a){this.g&&(this.response=a,Lo(this))},t.ga=function(){this.g&&Lo(this)};function Lo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Oo(a)}t.setRequestHeader=function(a,c){this.u.append(a,c)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=c.next();return a.join(`\r
`)};function Oo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Ef(a){let c="";return $(a,function(d,y){c+=y,c+=":",c+=d,c+=`\r
`}),c}function Au(a,c,d){e:{for(y in d){var y=!1;break e}y=!0}y||(d=Ef(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Pe(a,c,d))}function ze(a){Ce.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ze,Ce);var z0=/^https?$/i,B0=["POST","PUT"];t=ze.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,c,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);c=c?c.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gt.g(),this.v=this.o?Ei(this.o):Ei(Gt),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(a),!0),this.B=!1}catch(M){Tf(this,M);return}if(a=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var D in y)d.set(D,y[D]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const M of y.keys())d.set(M,y.get(M));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(M=>M.toLowerCase()=="content-type"),D=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(B0,c,void 0))||y||D||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,H]of d)this.g.setRequestHeader(M,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Af(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){Tf(this,M)}};function Tf(a,c){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=c,a.m=5,Sf(a),pa(a)}function Sf(a){a.A||(a.A=!0,Ke(a,"complete"),Ke(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ke(this,"complete"),Ke(this,"abort"),pa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pa(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?If(this):this.bb())},t.bb=function(){If(this)};function If(a){if(a.h&&typeof s<"u"&&(!a.v[1]||On(a)!=4||a.Z()!=2)){if(a.u&&On(a)==4)Fr(a.Ea,0,a);else if(Ke(a,"readystatechange"),On(a)==4){a.h=!1;try{const H=a.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var y;if(y=H===0){var D=String(a.D).match(pf)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),y=!z0.test(D?D.toLowerCase():"")}d=y}if(d)Ke(a,"complete"),Ke(a,"success");else{a.m=6;try{var M=2<On(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",Sf(a)}}finally{pa(a)}}}}function pa(a,c){if(a.g){Af(a);const d=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,c||Ke(a,"ready");try{d.onreadystatechange=y}catch{}}}function Af(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function On(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var c=this.g.responseText;return a&&c.indexOf(a)==0&&(c=c.substring(a.length)),la(c)}};function Rf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function K0(a){const c={};a=(a.g&&2<=On(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(w(a[y]))continue;var d=R(a[y]);const D=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const M=c[D]||[];c[D]=M,M.push(d)}m(c,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fo(a,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||c}function Cf(a){this.Aa=0,this.i=[],this.j=new ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fo("baseRetryDelayMs",5e3,a),this.cb=Fo("retryDelaySeedMs",1e4,a),this.Wa=Fo("forwardChannelMaxRetries",2,a),this.wa=Fo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new lf(a&&a.concurrentRequestLimit),this.Da=new j0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cf.prototype,t.la=8,t.G=1,t.connect=function(a,c,d,y){J(0),this.W=a,this.H=c||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.I=Of(this,null,this.W),ga(this)};function Ru(a){if(Pf(a),a.G==3){var c=a.U++,d=Ln(a.I);if(Pe(d,"SID",a.K),Pe(d,"RID",c),Pe(d,"TYPE","terminate"),Uo(a,d),c=new kt(a,a.j,c),c.L=2,c.v=da(Ln(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=c.v,d=!0),d||(c.g=Ff(c.j,null),c.g.ea(c.v)),c.F=Date.now(),ct(c)}Lf(a)}function ma(a){a.g&&(Pu(a),a.g.cancel(),a.g=null)}function Pf(a){ma(a),a.u&&(l.clearTimeout(a.u),a.u=null),ya(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ga(a){if(!uf(a.h)&&!a.s){a.s=!0;var c=a.Ga;Mt||re(),z||(Mt(),z=!0),te.add(c,a),a.B=0}}function $0(a,c){return cf(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=c.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=q(g(a.Ga,a,c),Mf(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new kt(this,this.j,a);let M=this.o;if(this.S&&(M?(M=v(M),E(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(c+=y,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=xf(this,D,c),d=Ln(this.I),Pe(d,"RID",a),Pe(d,"CVER",22),this.D&&Pe(d,"X-HTTP-Session-Id",this.D),Uo(this,d),M&&(this.O?c="headers="+encodeURIComponent(String(Ef(M)))+"&"+c:this.m&&Au(d,this.m,M)),Iu(this.h,D),this.Ua&&Pe(d,"TYPE","init"),this.P?(Pe(d,"$req",c),Pe(d,"SID","null"),D.T=!0,er(D,d,null)):er(D,d,c),this.G=2}}else this.G==3&&(a?kf(this,a):this.i.length==0||uf(this.h)||kf(this))};function kf(a,c){var d;c?d=c.l:d=a.U++;const y=Ln(a.I);Pe(y,"SID",a.K),Pe(y,"RID",d),Pe(y,"AID",a.T),Uo(a,y),a.m&&a.o&&Au(y,a.m,a.o),d=new kt(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),c&&(a.i=c.D.concat(a.i)),c=xf(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Iu(a.h,d),er(d,y,c)}function Uo(a,c){a.H&&$(a.H,function(d,y){Pe(c,y,d)}),a.l&&ff({},function(d,y){Pe(c,y,d)})}function xf(a,c,d){d=Math.min(a.i.length,d);var y=a.l?g(a.l.Na,a.l,a):null;e:{var D=a.i;let M=-1;for(;;){const H=["count="+d];M==-1?0<d?(M=D[0].g,H.push("ofs="+M)):M=0:H.push("ofs="+M);let Se=!0;for(let ht=0;ht<d;ht++){let ye=D[ht].g;const vt=D[ht].map;if(ye-=M,0>ye)M=Math.max(0,D[ht].g-100),Se=!1;else try{b0(vt,H,"req"+ye+"_")}catch{y&&y(vt)}}if(Se){y=H.join("&");break e}}}return a=a.i.splice(0,d),c.D=a,y}function Df(a){if(!a.g&&!a.u){a.Y=1;var c=a.Fa;Mt||re(),z||(Mt(),z=!0),te.add(c,a),a.v=0}}function Cu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=q(g(a.Fa,a),Mf(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Vf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=q(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),ma(this),Vf(this))};function Pu(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Vf(a){a.g=new kt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var c=Ln(a.qa);Pe(c,"RID","rpc"),Pe(c,"SID",a.K),Pe(c,"AID",a.T),Pe(c,"CI",a.F?"0":"1"),!a.F&&a.ja&&Pe(c,"TO",a.ja),Pe(c,"TYPE","xmlhttp"),Uo(a,c),a.m&&a.o&&Au(c,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=da(Ln(c)),d.m=null,d.P=!0,Ur(d,a)}t.Za=function(){this.C!=null&&(this.C=null,ma(this),Cu(this),J(19))};function ya(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Nf(a,c){var d=null;if(a.g==c){ya(a),Pu(a),a.g=null;var y=2}else if(Su(a.h,c))d=c.D,hf(a.h,c),y=1;else return;if(a.G!=0){if(c.o)if(y==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var D=a.B;y=V(),Ke(y,new Z(y,d)),ga(a)}else Df(a);else if(D=c.s,D==3||D==0&&0<c.X||!(y==1&&$0(a,c)||y==2&&Cu(a)))switch(d&&0<d.length&&(c=a.h,c.i=c.i.concat(d)),D){case 1:br(a,5);break;case 4:br(a,10);break;case 3:br(a,6);break;default:br(a,2)}}}function Mf(a,c){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*c}function br(a,c){if(a.j.info("Error code "+c),c==2){var d=g(a.fb,a),y=a.Xa;const D=!y;y=new jr(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ca(y,"https"),da(y),D?F0(y.toString(),d):U0(y.toString(),d)}else J(2);a.G=0,a.l&&a.l.sa(c),Lf(a),Pf(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function Lf(a){if(a.G=0,a.ka=[],a.l){const c=df(a.h);(c.length!=0||a.i.length!=0)&&(N(a.ka,c),N(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function Of(a,c,d){var y=d instanceof jr?Ln(d):new jr(d);if(y.g!="")c&&(y.g=c+"."+y.g),ha(y,y.s);else{var D=l.location;y=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;var M=new jr(null);y&&ca(M,y),c&&(M.g=c),D&&ha(M,D),d&&(M.l=d),y=M}return d=a.D,c=a.ya,d&&c&&Pe(y,d,c),Pe(y,"VER",a.la),Uo(a,y),y}function Ff(a,c,d){if(c&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=a.Ca&&!a.pa?new ze(new Mo({eb:d})):new ze(a.pa),c.Ha(a.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uf(){}t=Uf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function va(){}va.prototype.g=function(a,c){return new Bt(a,c)};function Bt(a,c){Ce.call(this),this.g=new Cf(c),this.l=a,this.h=c&&c.messageUrlParams||null,a=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(a?a["X-WebChannel-Client-Profile"]=c.va:a={"X-WebChannel-Client-Profile":c.va}),this.g.S=a,(a=c&&c.Sb)&&!w(a)&&(this.g.m=a),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!w(c)&&(this.g.D=c,a=this.h,a!==null&&c in a&&(a=this.h,c in a&&delete a[c])),this.j=new Ii(this)}C(Bt,Ce),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Ru(this.g)},Bt.prototype.o=function(a){var c=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=ko(a),a=d);c.i.push(new C0(c.Ya++,a)),c.G==3&&ga(c)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Ru(this.g),delete this.g,Bt.aa.N.call(this)};function jf(a){xo.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var c=a.__sm__;if(c){e:{for(const d in c){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,c=c!==null&&a in c?c[a]:void 0),this.data=c}else this.data=a}C(jf,xo);function bf(){Ti.call(this),this.status=1}C(bf,Ti);function Ii(a){this.g=a}C(Ii,Uf),Ii.prototype.ua=function(){Ke(this.g,"a")},Ii.prototype.ta=function(a){Ke(this.g,new jf(a))},Ii.prototype.sa=function(a){Ke(this.g,new bf)},Ii.prototype.ra=function(){Ke(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,l_=function(){return new va},a_=function(){return V()},s_=Dn,gh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,Za=Le,Jn.COMPLETE="complete",o_=Jn,ua.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,ts=ua,i_=Mo,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,r_=ze}).apply(typeof Fa<"u"?Fa:typeof self<"u"?self:typeof window<"u"?window:{});const Pm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let St=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Yv("@firebase/firestore");function Yo(){return ai.logLevel}function Y(t,...e){if(ai.logLevel<=me.DEBUG){const n=e.map(Vd);ai.debug(`Firestore (${_o}): ${t}`,...n)}}function Wn(t,...e){if(ai.logLevel<=me.ERROR){const n=e.map(Vd);ai.error(`Firestore (${_o}): ${t}`,...n)}}function ao(t,...e){if(ai.logLevel<=me.WARN){const n=e.map(Vd);ai.warn(`Firestore (${_o}): ${t}`,...n)}}function Vd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+t;throw Wn(e),new Error(e)}function Re(t,e){t||se()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class II{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class AI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RI{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new u_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new St(e)}}class CI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new CI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new kI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=DI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new tt(0,0))}static max(){return new ae(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return js.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof js?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xe extends js{construct(e,n,r){return new xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const VI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends js{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return VI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new X(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new X(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(xe.fromString(e))}static fromName(e){return new ee(xe.fromString(e).popFirst(5))}static empty(){return new ee(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new xe(e.slice()))}}function NI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new Cr(i,ee.empty(),e)}function MI(t){return new Cr(t.readTime,t.key,-1)}class Cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cr(ae.min(),ee.empty(),-1)}static max(){return new Cr(ae.max(),ee.empty(),-1)}}function LI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==OI)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next(f=>{s[h]=f,++l,l===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new U((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function UI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Nd.oe=-1;function lu(t){return t==null}function Ml(t){return t===0&&1/t==-1/0}function jI(t){return typeof t=="number"&&Number.isInteger(t)&&!Ml(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function h_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ua(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ua(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ua(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ua(this.root,e,this.comparator,!0)}}class Ua{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ft.RED,this.left=i??ft.EMPTY,this.right=o??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ft(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xm(this.data.getIterator())}getIteratorFrom(e){return new xm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class xm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new gt(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new d_("Invalid base64 string: "+o):o}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const bI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(Re(!!t),typeof t=="string"){let e=0;const n=bI.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function li(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ld(t){const e=t.mapValue.fields.__previous_value__;return Md(e)?Ld(e):e}function bs(t){const e=Pr(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r,i,o,s,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class zs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Md(t)?4:BI(t)?9007199254740991:10:se()}function Pn(t,e){if(t===e)return!0;const n=ui(t);if(n!==ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bs(t).isEqual(bs(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Pr(i.timestampValue),l=Pr(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return li(i.bytesValue).isEqual(li(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Qe(i.geoPointValue.latitude)===Qe(o.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Qe(i.integerValue)===Qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Qe(i.doubleValue),l=Qe(o.doubleValue);return s===l?Ml(s)===Ml(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return lo(t.arrayValue.values||[],e.arrayValue.values||[],Pn);case 10:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(km(s)!==km(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Pn(s[u],l[u])))return!1;return!0}(t,e);default:return se()}}function Bs(t,e){return(t.values||[]).find(n=>Pn(n,e))!==void 0}function uo(t,e){if(t===e)return 0;const n=ui(t),r=ui(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Qe(o.integerValue||o.doubleValue),u=Qe(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Dm(t.timestampValue,e.timestampValue);case 4:return Dm(bs(t),bs(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(o,s){const l=li(o),u=li(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=ve(l[h],u[h]);if(f!==0)return f}return ve(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=ve(Qe(o.latitude),Qe(s.latitude));return l!==0?l:ve(Qe(o.longitude),Qe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const l=o.values||[],u=s.values||[];for(let h=0;h<l.length&&h<u.length;++h){const f=uo(l[h],u[h]);if(f)return f}return ve(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===ja.mapValue&&s===ja.mapValue)return 0;if(o===ja.mapValue)return 1;if(s===ja.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),h=s.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=ve(u[p],f[p]);if(g!==0)return g;const I=uo(l[u[p]],h[f[p]]);if(I!==0)return I}return ve(u.length,f.length)}(t.mapValue,e.mapValue);default:throw se()}}function Dm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Pr(t),r=Pr(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function co(t){return yh(t)}function yh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=yh(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${yh(n.fields[s])}`;return i+"}"}(t.mapValue):se()}function Vm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vh(t){return!!t&&"integerValue"in t}function Od(t){return!!t&&"arrayValue"in t}function Nm(t){return!!t&&"nullValue"in t}function Mm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function el(t){return!!t&&"mapValue"in t}function ms(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ms(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ms(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!el(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ms(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=ms(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());el(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];el(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new en(ms(this.value))}}function f_(t){const e=[];return wo(t.fields,(n,r)=>{const i=new pt([n]);if(el(r)){const o=f_(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new At(e,0,ae.min(),ae.min(),ae.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new At(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new At(e,2,n,ae.min(),ae.min(),en.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,ae.min(),ae.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.position=e,this.inclusive=n}}function Lm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=uo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Om(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function KI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{}class Ye extends p_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HI(e,n,r):n==="array-contains"?new QI(e,r):n==="in"?new GI(e,r):n==="not-in"?new YI(e,r):n==="array-contains-any"?new XI(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qI(e,r):new WI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&ui(this.value)===ui(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends p_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new yn(e,n)}matches(e){return m_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function m_(t){return t.op==="and"}function g_(t){return $I(t)&&m_(t)}function $I(t){for(const e of t.filters)if(e instanceof yn)return!1;return!0}function _h(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+co(t.value);if(g_(t))return t.filters.map(e=>_h(e)).join(",");{const e=t.filters.map(n=>_h(n)).join(",");return`${t.op}(${e})`}}function y_(t,e){return t instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&Pn(r.value,i.value)}(t,e):t instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&y_(s,i.filters[l]),!0):!1}(t,e):void se()}function v_(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(v_).join(" ,")+"}"}(t):"Filter"}class HI extends Ye{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class qI extends Ye{constructor(e,n){super(e,"in",n),this.keys=__("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WI extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=__("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function __(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class QI extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Od(n)&&Bs(n.arrayValue,this.value)}}class GI extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bs(this.value.arrayValue,n)}}class YI extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bs(this.value.arrayValue,n)}}class XI extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Od(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function Fm(t,e=null,n=[],r=[],i=null,o=null,s=null){return new JI(t,e,n,r,i,o,s)}function Fd(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_h(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.ue=n}return e.ue}function Ud(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Om(t.startAt,e.startAt)&&Om(t.endAt,e.endAt)}function wh(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ZI(t,e,n,r,i,o,s,l){return new ea(t,e,n,r,i,o,s,l)}function jd(t){return new ea(t)}function Um(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w_(t){return t.collectionGroup!==null}function gs(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new gt(pt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ol(o,r))}),n.has(pt.keyField().canonicalString())||e.ce.push(new Ol(pt.keyField(),r))}return e.ce}function Rn(t){const e=le(t);return e.le||(e.le=eA(e,gs(t))),e.le}function eA(t,e){if(t.limitType==="F")return Fm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ol(i.field,o)});const n=t.endAt?new Ll(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ll(t.startAt.position,t.startAt.inclusive):null;return Fm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Eh(t,e){const n=t.filters.concat([e]);return new ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Th(t,e,n){return new ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uu(t,e){return Ud(Rn(t),Rn(e))&&t.limitType===e.limitType}function E_(t){return`${Fd(Rn(t))}|lt:${t.limitType}`}function Pi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>v_(i)).join(", ")}]`),lu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>co(i)).join(",")),`Target(${r})`}(Rn(t))}; limitType=${t.limitType})`}function cu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of gs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const h=Lm(s,l,u);return s.inclusive?h<=0:h<0}(r.startAt,gs(r),i)||r.endAt&&!function(s,l,u){const h=Lm(s,l,u);return s.inclusive?h>=0:h>0}(r.endAt,gs(r),i))}(t,e)}function tA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T_(t){return(e,n)=>{let r=!1;for(const i of gs(t)){const o=nA(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function nA(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),h=l.data.field(o);return u!==null&&h!==null?uo(u,h):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return h_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new be(ee.comparator);function Qn(){return rA}const S_=new be(ee.comparator);function ns(...t){let e=S_;for(const n of t)e=e.insert(n.key,n);return e}function I_(t){let e=S_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gr(){return ys()}function A_(){return ys()}function ys(){return new Eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const iA=new be(ee.comparator),oA=new gt(ee.comparator);function fe(...t){let e=oA;for(const n of t)e=e.add(n);return e}const sA=new gt(ve);function aA(){return sA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ml(e)?"-0":e}}function C_(t){return{integerValue:""+t}}function lA(t,e){return jI(e)?C_(e):R_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this._=void 0}}function uA(t,e,n){return t instanceof Fl?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Md(o)&&(o=Ld(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ks?k_(t,e):t instanceof $s?x_(t,e):function(i,o){const s=P_(i,o),l=jm(s)+jm(i.Pe);return vh(s)&&vh(i.Pe)?C_(l):R_(i.serializer,l)}(t,e)}function cA(t,e,n){return t instanceof Ks?k_(t,e):t instanceof $s?x_(t,e):n}function P_(t,e){return t instanceof Ul?function(r){return vh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Fl extends hu{}class Ks extends hu{constructor(e){super(),this.elements=e}}function k_(t,e){const n=D_(e);for(const r of t.elements)n.some(i=>Pn(i,r))||n.push(r);return{arrayValue:{values:n}}}class $s extends hu{constructor(e){super(),this.elements=e}}function x_(t,e){let n=D_(e);for(const r of t.elements)n=n.filter(i=>!Pn(i,r));return{arrayValue:{values:n}}}class Ul extends hu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function jm(t){return Qe(t.integerValue||t.doubleValue)}function D_(t){return Od(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hA(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ks&&i instanceof Ks||r instanceof $s&&i instanceof $s?lo(r.elements,i.elements,Pn):r instanceof Ul&&i instanceof Ul?Pn(r.Pe,i.Pe):r instanceof Fl&&i instanceof Fl}(t.transform,e.transform)}class dA{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class du{}function V_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new M_(t.key,Bn.none()):new ta(t.key,t.data,Bn.none());{const n=t.data,r=en.empty();let i=new gt(pt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new di(t.key,r,new fn(i.toArray()),Bn.none())}}function fA(t,e,n){t instanceof ta?function(i,o,s){const l=i.value.clone(),u=zm(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof di?function(i,o,s){if(!tl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=zm(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(N_(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function vs(t,e,n,r){return t instanceof ta?function(o,s,l,u){if(!tl(o.precondition,s))return l;const h=o.value.clone(),f=Bm(o.fieldTransforms,u,s);return h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof di?function(o,s,l,u){if(!tl(o.precondition,s))return l;const h=Bm(o.fieldTransforms,u,s),f=s.data;return f.setAll(N_(o)),f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return tl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function pA(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=P_(r.transform,i||null);o!=null&&(n===null&&(n=en.empty()),n.set(r.field,o))}return n||null}function bm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lo(r,i,(o,s)=>hA(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ta extends du{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class di extends du{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function N_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zm(t,e,n){const r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,cA(s,l,n[i]))}return r}function Bm(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,uA(o,s,e))}return r}class M_ extends du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mA extends du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&fA(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=A_();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=V_(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,r)=>bm(n,r))&&lo(this.baseMutations,e.baseMutations,(n,r)=>bm(n,r))}}class bd{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return iA}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new bd(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,pe;function _A(t){switch(t){default:return se();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function L_(t){if(t===void 0)return Wn("GRPC error has no .code"),F.UNKNOWN;switch(t){case qe.OK:return F.OK;case qe.CANCELLED:return F.CANCELLED;case qe.UNKNOWN:return F.UNKNOWN;case qe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case qe.INTERNAL:return F.INTERNAL;case qe.UNAVAILABLE:return F.UNAVAILABLE;case qe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case qe.NOT_FOUND:return F.NOT_FOUND;case qe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case qe.ABORTED:return F.ABORTED;case qe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case qe.DATA_LOSS:return F.DATA_LOSS;default:return se()}}(pe=qe||(qe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new Jr([4294967295,4294967295],0);function Km(t){const e=wA().encode(t),n=new n_;return n.update(e),new Uint8Array(n.digest())}function $m(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Jr([n,r],0),new Jr([i,o],0)]}class zd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rs(`Invalid padding: ${n}`);if(r<0)throw new rs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Jr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Jr.fromNumber(r)));return i.compare(EA)===1&&(i=new Jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Km(e),[r,i]=$m(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new zd(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=Km(e),[r,i]=$m(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,na.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fu(ae.min(),i,new be(ve),Qn(),fe())}}class na{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new na(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class O_{constructor(e,n){this.targetId=e,this.me=n}}class F_{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Hm{constructor(){this.fe=0,this.ge=Wm(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new na(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Wm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class TA{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qn(),this.qe=qm(),this.Qe=new be(ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(wh(o))if(r===0){const s=new ee(o.path);this.Ue(n,s,At.newNoDocument(s,ae.min()))}else Re(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=li(r).toUint8Array()}catch(u){if(u instanceof d_)return ao("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new zd(s,i,o)}catch(u){return ao(u instanceof rs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&wh(l.target)){const u=new ee(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,At.newNoDocument(u,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=fe();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new fu(e,n,this.Qe,this.ke,r);return this.ke=Qn(),this.qe=qm(),this.Qe=new be(ve),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Hm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gt(ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Hm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function qm(){return new be(ee.comparator)}function Wm(){return new be(ee.comparator)}const SA={asc:"ASCENDING",desc:"DESCENDING"},IA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AA={and:"AND",or:"OR"};class RA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sh(t,e){return t.useProto3Json||lu(e)?e:{value:e}}function jl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CA(t,e){return jl(t,e.toTimestamp())}function Cn(t){return Re(!!t),ae.fromTimestamp(function(n){const r=Pr(n);return new tt(r.seconds,r.nanos)}(t))}function Bd(t,e){return Ih(t,e).canonicalString()}function Ih(t,e){const n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function j_(t){const e=xe.fromString(t);return Re($_(e)),e}function Ah(t,e){return Bd(t.databaseId,e.path)}function uc(t,e){const n=j_(e);if(n.get(1)!==t.databaseId.projectId)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(z_(n))}function b_(t,e){return Bd(t.databaseId,e)}function PA(t){const e=j_(t);return e.length===4?xe.emptyPath():z_(e)}function Rh(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z_(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Qm(t,e,n){return{name:Ah(t,e),fields:n.value.mapValue.fields}}function kA(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,f){return h.useProto3Json?(Re(f===void 0||typeof f=="string"),Ct.fromBase64String(f||"")):(Re(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ct.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(h){const f=h.code===void 0?F.UNKNOWN:L_(h.code);return new X(f,h.message||"")}(s);n=new F_(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=uc(t,r.document.name),o=Cn(r.document.updateTime),s=r.document.createTime?Cn(r.document.createTime):ae.min(),l=new en({mapValue:{fields:r.document.fields}}),u=At.newFoundDocument(i,o,s,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new nl(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=uc(t,r.document),o=r.readTime?Cn(r.readTime):ae.min(),s=At.newNoDocument(i,o),l=r.removedTargetIds||[];n=new nl([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=uc(t,r.document),o=r.removedTargetIds||[];n=new nl([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new vA(i,o),l=r.targetId;n=new O_(l,s)}}return n}function xA(t,e){let n;if(e instanceof ta)n={update:Qm(t,e.key,e.value)};else if(e instanceof M_)n={delete:Ah(t,e.key)};else if(e instanceof di)n={update:Qm(t,e.key,e.data),updateMask:jA(e.fieldMask)};else{if(!(e instanceof mA))return se();n={verify:Ah(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof Fl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ks)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $s)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ul)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:CA(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(t,e.precondition)),n}function DA(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Cn(i.updateTime):Cn(o);return s.isEqual(ae.min())&&(s=Cn(o)),new dA(s,i.transformResults||[])}(n,e))):[]}function VA(t,e){return{documents:[b_(t,e.path)]}}function NA(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=b_(t,i);const o=function(h){if(h.length!==0)return K_(yn.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:ki(g.field),direction:OA(g.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Sh(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function MA(t){let e=PA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){const g=B_(p);return g instanceof yn&&g_(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(C){return new Ol(xi(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,lu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,I=p.values||[];return new Ll(I,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,I=p.values||[];return new Ll(I,g)}(n.endAt)),ZI(e,i,s,o,l,"F",u,h)}function LA(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function B_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xi(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xi(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xi(n.unaryFilter.field);return Ye.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=xi(n.unaryFilter.field);return Ye.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(xi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(r=>B_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function OA(t){return SA[t]}function FA(t){return IA[t]}function UA(t){return AA[t]}function ki(t){return{fieldPath:t.canonicalString()}}function xi(t){return pt.fromServerFormat(t.fieldPath)}function K_(t){return t instanceof Ye?function(n){if(n.op==="=="){if(Mm(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NAN"}};if(Nm(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mm(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NOT_NAN"}};if(Nm(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ki(n.field),op:FA(n.op),value:n.value}}}(t):t instanceof yn?function(n){const r=n.getFilters().map(i=>K_(i));return r.length===1?r[0]:{compositeFilter:{op:UA(n.op),filters:r}}}(t):se()}function jA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,i,o=ae.min(),s=ae.min(),l=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.ct=e}}function zA(t){const e=MA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this._n=new KA}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Cr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class KA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(xe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ho(0)}static Ln(){return new ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.changes=new Eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vs(r.mutation,i,fn.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=Gr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ns();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=Qn();const s=ys(),l=function(){return ys()}();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof di)?o=o.insert(h.key,h):f!==void 0?(s.set(h.key,f.mutation.getFieldMask()),vs(f.mutation,h,f.mutation.getFieldMask(),tt.now())):s.set(h.key,fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,f)=>s.set(h,f)),n.forEach((h,f)=>{var p;return l.set(h,new HA(f,(p=s.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ys();let i=new be((s,l)=>s-l),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||fn.empty();f=l.applyToLocalView(h,f),r.set(u,f);const p=(i.get(l.batchId)||fe()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,p=A_();f.forEach(g=>{if(!o.has(g)){const I=V_(n.get(g),r.get(g));I!==null&&p.set(g,I),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,p))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve(Gr());let l=-1,u=o;return s.next(h=>U.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,fe())).next(f=>({batchId:l,changes:I_(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=ns();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ns();return this.indexManager.getCollectionParents(e,o).next(l=>U.forEach(l,u=>{const h=function(p,g){return new ea(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,h)=>{const f=h.getKey();s.get(f)===null&&(s=s.insert(f,At.newInvalidDocument(f)))});let l=ns();return s.forEach((u,h)=>{const f=o.get(u);f!==void 0&&vs(f.mutation,h,fn.empty(),tt.now()),cu(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:zA(i.bundledQuery),readTime:Cn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.overlays=new be(ee.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gr();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Gr(),o=n.length+1,s=new ee(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new be((h,f)=>h-f);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=o.get(h.largestBatchId);f===null&&(f=Gr(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Gr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return U.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new yA(n,r));let o=this.hr.get(n);o===void 0&&(o=fe(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(){this.Pr=new gt(nt.Ir),this.Tr=new gt(nt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new nt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new nt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ee(new xe([])),r=new nt(n,e),i=new nt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ee(new xe([])),r=new nt(n,e),i=new nt(n,e+1);let o=fe();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new nt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ee.comparator(e.key,n.key)||ve(e.pr,n.pr)}static Er(e,n){return ve(e.pr,n.pr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new gt(nt.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new gA(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.wr=this.wr.add(new nt(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const l=this.Sr(s.pr);o.push(l)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(ve);return n.forEach(i=>{const o=new nt(i,0),s=new nt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],l=>{r=r.add(l.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const s=new nt(new ee(o),0);let l=new gt(ve);return this.wr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.pr)),!0)},s),U.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const o=new nt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new nt(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.vr=e,this.docs=function(){return new be(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=Qn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():At.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Qn();const s=n.path,l=new ee(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||LI(MI(f),r)<=0||(i.has(f.key)||cu(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){se()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XA(this)}getSize(e){return U.resolve(this.size)}}class XA extends $A{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.persistence=e,this.Mr=new Eo(n=>Fd(n),Ud),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Kd,this.targetCount=0,this.Lr=ho.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n){this.Br={},this.overlays={},this.kr=new Nd(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new JA(this),this.indexManager=new BA,this.remoteDocumentCache=function(i){return new YA(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new bA(n),this.$r=new WA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new GA(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new eR(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class eR extends FI{constructor(e){super(),this.currentSequenceNumber=e}}class $d{constructor(e){this.persistence=e,this.zr=new Kd,this.jr=null}static Hr(e){return new $d(e)}get Jr(){if(this.jr)return this.jr;throw se()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=ee.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ae.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=fe(),i=fe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Hd(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return aS()?8:UI(oS())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new tR;return this.Ji(e,n,s).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,s,l.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Yo()<=me.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Pi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(Yo()<=me.DEBUG&&Y("QueryEngine","Query:",Pi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Yo()<=me.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Pi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rn(n))):U.resolve())}ji(e,n){if(Um(n))return U.resolve(null);let r=Rn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Th(n,null,"F"),r=Rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=fe(...o);return this.zi.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Zi(n,l);return this.Xi(n,h,s,u.readTime)?this.ji(e,Th(n,null,"F")):this.es(e,h,n,u)}))})))}Hi(e,n,r,i){return Um(n)||i.isEqual(ae.min())?U.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?U.resolve(null):(Yo()<=me.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pi(n)),this.es(e,s,n,NI(i,-1)).next(l=>l))})}Zi(e,n){let r=new gt(T_(e));return n.forEach((i,o)=>{cu(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Yo()<=me.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Pi(n)),this.zi.getDocumentsMatchingQuery(e,n,Cr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new be(ve),this.rs=new Eo(o=>Fd(o),Ud),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qA(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function iR(t,e,n,r){return new rR(t,e,n,r)}async function H_(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=fe();for(const h of i){s.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of o){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({us:h,removedBatchIds:s,addedBatchIds:l}))})})}function oR(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const p=h.batch,g=p.keys();let I=U.resolve();return g.forEach(C=>{I=I.next(()=>f.getEntry(u,C)).next(P=>{const N=h.docVersions.get(C);Re(N!==null),P.version.compareTo(N)<0&&(p.applyToRemoteDocument(P,h),P.isValidDocument()&&(P.setReadTime(h.commitVersion),f.addEntry(P)))})}),I.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=fe();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function q_(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function sR(t,e){const n=le(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((f,p)=>{const g=i.get(p);if(!g)return;l.push(n.Qr.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(o,f.addedDocuments,p)));let I=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(Ct.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(p,I),function(P,N,S){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,I,f)&&l.push(n.Qr.updateTargetData(o,I))});let u=Qn(),h=fe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(aR(o,s,e.documentUpdates).next(f=>{u=f.cs,h=f.ls})),!r.isEqual(ae.min())){const f=n.Qr.getLastRemoteSnapshotVersion(o).next(p=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return U.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,h)).next(()=>u)}).then(o=>(n.ns=i,o))}function aR(t,e,n){let r=fe(),i=fe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Qn();return n.forEach((l,u)=>{const h=o.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):Y("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{cs:s,ls:i}})}function lR(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uR(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new dr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Ch(t,e,n){const r=le(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Zs(s))throw s;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Gm(t,e,n){const r=le(t);let i=ae.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,f){const p=le(u),g=p.rs.get(f);return g!==void 0?U.resolve(p.ns.get(g)):p.Qr.getTargetData(h,f)}(r,s,Rn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ae.min(),n?o:fe())).next(l=>(cR(r,tA(e),l),{documents:l,hs:o})))}function cR(t,e,n){let r=t.ss.get(e)||ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class Ym{constructor(){this.activeTargetIds=aA()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hR{constructor(){this.no=new Ym,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ym,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba=null;function cc(){return ba===null?ba=function(){return 268435456+Math.round(2147483648*Math.random())}():ba++,"0x"+ba.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class mR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const l=cc(),u=this.vo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(h,o,s),this.Mo(n,u,h,i).then(f=>(Y("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw ao("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}xo(n,r,i,o,s,l){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){const i=fR[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=cc();return new Promise((s,l)=>{const u=new r_;u.setWithCredentials(!0),u.listenOnce(o_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Za.NO_ERROR:const f=u.getResponseJson();Y(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Za.TIMEOUT:Y(Tt,`RPC '${e}' ${o} timed out`),l(new X(F.DEADLINE_EXCEEDED,"Request time out"));break;case Za.HTTP_ERROR:const p=u.getStatus();if(Y(Tt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const I=g==null?void 0:g.error;if(I&&I.status&&I.message){const C=function(N){const S=N.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(S)>=0?S:F.UNKNOWN}(I.status);l(new X(C,I.message))}else l(new X(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(F.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{Y(Tt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);Y(Tt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Oo(e,n,r){const i=cc(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=l_(),l=a_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.xmlHttpFactory=new i_({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");Y(Tt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=s.createWebChannel(f,u);let g=!1,I=!1;const C=new pR({lo:N=>{I?Y(Tt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(Y(Tt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Y(Tt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},ho:()=>p.close()}),P=(N,S,w)=>{N.listen(S,A=>{try{w(A)}catch(L){setTimeout(()=>{throw L},0)}})};return P(p,ts.EventType.OPEN,()=>{I||(Y(Tt,`RPC '${e}' stream ${i} transport opened.`),C.mo())}),P(p,ts.EventType.CLOSE,()=>{I||(I=!0,Y(Tt,`RPC '${e}' stream ${i} transport closed`),C.po())}),P(p,ts.EventType.ERROR,N=>{I||(I=!0,ao(Tt,`RPC '${e}' stream ${i} transport errored:`,N),C.po(new X(F.UNAVAILABLE,"The operation could not be completed")))}),P(p,ts.EventType.MESSAGE,N=>{var S;if(!I){const w=N.data[0];Re(!!w);const A=w,L=A.error||((S=A[0])===null||S===void 0?void 0:S.error);if(L){Y(Tt,`RPC '${e}' stream ${i} received error:`,L);const B=L.status;let $=function(_){const E=qe[_];if(E!==void 0)return L_(E)}(B),m=L.message;$===void 0&&($=F.INTERNAL,m="Unknown error status: "+B+" with message "+L.message),I=!0,C.po(new X($,m)),p.close()}else Y(Tt,`RPC '${e}' stream ${i} received:`,w),C.yo(w)}}),P(l,s_.STAT_EVENT,N=>{N.stat===gh.PROXY?Y(Tt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===gh.NOPROXY&&Y(Tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}}function hc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){return new RA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n,r,i,o,s,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new W_(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new X(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gR extends Q_{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=kA(this.serializer,e),r=function(o){if(!("targetChange"in o))return ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?Cn(s.readTime):ae.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Rh(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=wh(u)?{documents:VA(o,u)}:{query:NA(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=U_(o,s.resumeToken);const h=Sh(o,s.expectedCount);h!==null&&(l.expectedCount=h)}else if(s.snapshotVersion.compareTo(ae.min())>0){l.readTime=jl(o,s.snapshotVersion.toTimestamp());const h=Sh(o,s.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=LA(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Rh(this.serializer),n.removeTarget=e,this.i_(n)}}class yR extends Q_{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=DA(e.writeResults,e.commitTime),r=Cn(e.commitTime);return this.listener.A_(r,n)}return Re(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Rh(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xA(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,Ih(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(F.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.xo(e,Ih(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(F.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class _R{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Wn(n),this.y_=!1):Y("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{fi(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=le(u);h.M_.add(4),await ra(h),h.N_.set("Unknown"),h.M_.delete(4),await mu(h)}(this))})}),this.N_=new _R(r,i)}}async function mu(t){if(fi(t))for(const e of t.x_)await e(!0)}async function ra(t){for(const e of t.x_)await e(!1)}function G_(t,e){const n=le(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Gd(n)?Qd(n):To(n).Xo()&&Wd(n,e))}function qd(t,e){const n=le(t),r=To(n);n.F_.delete(e),r.Xo()&&Y_(n,e),n.F_.size===0&&(r.Xo()?r.n_():fi(n)&&n.N_.set("Unknown"))}function Wd(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(t).P_(e)}function Y_(t,e){t.L_.xe(e),To(t).I_(e)}function Qd(t){t.L_=new TA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),To(t).start(),t.N_.w_()}function Gd(t){return fi(t)&&!To(t).Zo()&&t.F_.size>0}function fi(t){return le(t).M_.size===0}function X_(t){t.L_=void 0}async function ER(t){t.N_.set("Online")}async function TR(t){t.F_.forEach((e,n)=>{Wd(t,e)})}async function SR(t,e){X_(t),Gd(t)?(t.N_.D_(e),Qd(t)):t.N_.set("Unknown")}async function IR(t,e,n){if(t.N_.set("Online"),e instanceof F_&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bl(t,r)}else if(e instanceof nl?t.L_.Ke(e):e instanceof O_?t.L_.He(e):t.L_.We(e),!n.isEqual(ae.min()))try{const r=await q_(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.L_.rt(s);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.F_.get(h);f&&o.F_.set(h,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,h)=>{const f=o.F_.get(u);if(!f)return;o.F_.set(u,f.withResumeToken(Ct.EMPTY_BYTE_STRING,f.snapshotVersion)),Y_(o,u);const p=new dr(f.target,u,h,f.sequenceNumber);Wd(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await bl(t,r)}}async function bl(t,e,n){if(!Zs(e))throw e;t.M_.add(1),await ra(t),t.N_.set("Offline"),n||(n=()=>q_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await mu(t)})}function J_(t,e){return e().catch(n=>bl(t,n,e))}async function gu(t){const e=le(t),n=kr(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;AR(e);)try{const i=await lR(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,RR(e,i)}catch(i){await bl(e,i)}Z_(e)&&e0(e)}function AR(t){return fi(t)&&t.v_.length<10}function RR(t,e){t.v_.push(e);const n=kr(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Z_(t){return fi(t)&&!kr(t).Zo()&&t.v_.length>0}function e0(t){kr(t).start()}async function CR(t){kr(t).V_()}async function PR(t){const e=kr(t);for(const n of t.v_)e.d_(n.mutations)}async function kR(t,e,n){const r=t.v_.shift(),i=bd.from(r,e,n);await J_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gu(t)}async function xR(t,e){e&&kr(t).E_&&await async function(r,i){if(function(s){return _A(s)&&s!==F.ABORTED}(i.code)){const o=r.v_.shift();kr(r).t_(),await J_(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await gu(r)}}(t,e),Z_(t)&&e0(t)}async function Jm(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=fi(n);n.M_.add(3),await ra(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await mu(n)}async function DR(t,e){const n=le(t);e?(n.M_.delete(2),await mu(n)):e||(n.M_.add(2),await ra(n),n.N_.set("Unknown"))}function To(t){return t.B_||(t.B_=function(n,r,i){const o=le(n);return o.f_(),new gR(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:ER.bind(null,t),To:TR.bind(null,t),Ao:SR.bind(null,t),h_:IR.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Gd(t)?Qd(t):t.N_.set("Unknown")):(await t.B_.stop(),X_(t))})),t.B_}function kr(t){return t.k_||(t.k_=function(n,r,i){const o=le(n);return o.f_(),new yR(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:CR.bind(null,t),Ao:xR.bind(null,t),R_:PR.bind(null,t),A_:kR.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await gu(t)):(await t.k_.stop(),t.v_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new Yd(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xd(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),Zs(t))return new X(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=ns(),this.sortedSet=new be(this.comparator)}static emptySet(e){return new Xi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.q_=new be(ee.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):se():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fo{constructor(e,n,r,i,o,s,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new fo(e,n,Xi.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class NR{constructor(){this.queries=new Eo(e=>E_(e),uu),this.onlineState="Unknown",this.z_=new Set}}async function MR(t,e){const n=le(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new VR,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=Xd(s,`Initialization of query '${Pi(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Jd(n)}async function LR(t,e){const n=le(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function OR(t,e){const n=le(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.U_)l.H_(i)&&(r=!0);s.K_=i}}r&&Jd(n)}function FR(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function Jd(t){t.z_.forEach(e=>{e.next()})}var Ph,eg;(eg=Ph||(Ph={})).J_="default",eg.Cache="cache";class UR{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Ph.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.key=e}}class n0{constructor(e){this.key=e}}class jR{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=fe(),this.mutatedKeys=fe(),this.Ia=T_(e),this.Ta=new Xi(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Zm,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const g=i.get(f),I=cu(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let N=!1;g&&I?g.data.isEqual(I.data)?C!==P&&(r.track({type:3,doc:I}),N=!0):this.Ra(g,I)||(r.track({type:2,doc:I}),N=!0,(u&&this.Ia(I,u)>0||h&&this.Ia(I,h)<0)&&(l=!0)):!g&&I?(r.track({type:0,doc:I}),N=!0):g&&!I&&(r.track({type:1,doc:g}),N=!0,(u||h)&&(l=!0)),N&&(I?(s=s.add(I),o=P?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ta:s,Aa:r,Xi:l,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((f,p)=>function(I,C){const P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return P(I)-P(C)}(f.type,p.type)||this.Ia(f.doc,p.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,h=u!==this.ha;return this.ha=u,s.length!==0||h?{snapshot:new fo(this.query,e.Ta,o,s,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Zm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=fe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new n0(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new t0(r))}),n}pa(e){this.la=e.hs,this.Pa=fe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return fo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class bR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zR{constructor(e){this.key=e,this.wa=!1}}class BR{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Eo(l=>E_(l),uu),this.Da=new Map,this.Ca=new Set,this.va=new be(ee.comparator),this.Fa=new Map,this.Ma=new Kd,this.xa={},this.Oa=new Map,this.Na=ho.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function KR(t,e,n=!0){const r=l0(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await r0(r,e,n,!0),i}async function $R(t,e){const n=l0(t);await r0(n,e,!0,!1)}async function r0(t,e,n,r){const i=await uR(t.localStore,Rn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let l;return r&&(l=await HR(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&G_(t.remoteStore,i),l}async function HR(t,e,n,r,i){t.Ba=(p,g,I)=>async function(P,N,S,w){let A=N.view.da(S);A.Xi&&(A=await Gm(P.localStore,N.query,!1).then(({documents:m})=>N.view.da(m,A)));const L=w&&w.targetChanges.get(N.targetId),B=w&&w.targetMismatches.get(N.targetId)!=null,$=N.view.applyChanges(A,P.isPrimaryClient,L,B);return ng(P,N.targetId,$.fa),$.snapshot}(t,p,g,I);const o=await Gm(t.localStore,e,!0),s=new jR(e,o.hs),l=s.da(o.documents),u=na.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=s.applyChanges(l,t.isPrimaryClient,u);ng(t,n,h.fa);const f=new bR(e,n,s);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function qR(t,e,n){const r=le(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!uu(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ch(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qd(r.remoteStore,i.targetId),kh(r,i.targetId)}).catch(Js)):(kh(r,i.targetId),await Ch(r.localStore,i.targetId,!0))}async function WR(t,e){const n=le(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qd(n.remoteStore,r.targetId))}async function QR(t,e,n){const r=tC(t);try{const i=await function(s,l){const u=le(s),h=tt.now(),f=l.reduce((I,C)=>I.add(C.key),fe());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let C=Qn(),P=fe();return u.os.getEntries(I,f).next(N=>{C=N,C.forEach((S,w)=>{w.isValidDocument()||(P=P.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,C)).next(N=>{p=N;const S=[];for(const w of l){const A=pA(w,p.get(w.key).overlayedDocument);A!=null&&S.push(new di(w.key,A,f_(A.value.mapValue),Bn.exists(!0)))}return u.mutationQueue.addMutationBatch(I,h,S,l)}).next(N=>{g=N;const S=N.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(I,N.batchId,S)})}).then(()=>({batchId:g.batchId,changes:I_(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let h=s.xa[s.currentUser.toKey()];h||(h=new be(ve)),h=h.insert(l,u),s.xa[s.currentUser.toKey()]=h}(r,i.batchId,n),await ia(r,i.changes),await gu(r.remoteStore)}catch(i){const o=Xd(i,"Failed to persist write");n.reject(o)}}async function i0(t,e){const n=le(t);try{const r=await sR(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?Re(s.wa):i.removedDocuments.size>0&&(Re(s.wa),s.wa=!1))}),await ia(n,r,e)}catch(r){await Js(r)}}function tg(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const l=s.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=le(s);u.onlineState=l;let h=!1;u.queries.forEach((f,p)=>{for(const g of p.U_)g.j_(l)&&(h=!0)}),h&&Jd(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GR(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new be(ee.comparator);s=s.insert(o,At.newNoDocument(o,ae.min()));const l=fe().add(o),u=new fu(ae.min(),new Map,new be(ve),s,l);await i0(r,u),r.va=r.va.remove(o),r.Fa.delete(e),Zd(r)}else await Ch(r.localStore,e,!1).then(()=>kh(r,e,n)).catch(Js)}async function YR(t,e){const n=le(t),r=e.batch.batchId;try{const i=await oR(n.localStore,e);s0(n,r,null),o0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ia(n,i)}catch(i){await Js(i)}}async function XR(t,e,n){const r=le(t);try{const i=await function(s,l){const u=le(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(Re(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);s0(r,e,n),o0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ia(r,i)}catch(i){await Js(i)}}function o0(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function s0(t,e,n){const r=le(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function kh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||a0(t,r)})}function a0(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(qd(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Zd(t))}function ng(t,e,n){for(const r of n)r instanceof t0?(t.Ma.addReference(r.key,e),JR(t,r)):r instanceof n0?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||a0(t,r.key)):se()}function JR(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Zd(t))}function Zd(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ee(xe.fromString(e)),r=t.Na.next();t.Fa.set(r,new zR(n)),t.va=t.va.insert(n,r),G_(t.remoteStore,new dr(Rn(jd(n.path)),r,"TargetPurposeLimboResolution",Nd.oe))}}async function ia(t,e,n){const r=le(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{s.push(r.Ba(u,e,n).then(h=>{if((h||n)&&r.isPrimaryClient){const f=h&&!h.fromCache;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){i.push(h);const f=Hd.Ki(u.targetId,h);o.push(f)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(u,h){const f=le(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(h,g=>U.forEach(g.qi,I=>f.persistence.referenceDelegate.addReference(p,g.targetId,I)).next(()=>U.forEach(g.Qi,I=>f.persistence.referenceDelegate.removeReference(p,g.targetId,I)))))}catch(p){if(!Zs(p))throw p;Y("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const I=f.ns.get(g),C=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(C);f.ns=f.ns.insert(g,P)}}}(r.localStore,o))}async function ZR(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await H_(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(l=>{l.forEach(u=>{u.reject(new X(F.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ia(n,r.us)}}function eC(t,e){const n=le(t),r=n.Fa.get(e);if(r&&r.wa)return fe().add(r.key);{let i=fe();const o=n.Da.get(e);if(!o)return i;for(const s of o){const l=n.ba.get(s);i=i.unionWith(l.view.Ea)}return i}}function l0(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GR.bind(null,e),e.Sa.h_=OR.bind(null,e.eventManager),e.Sa.ka=FR.bind(null,e.eventManager),e}function tC(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XR.bind(null,e),e}class rg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=pu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return iR(this.persistence,new nR,e.initialUser,this.serializer)}createPersistence(e){return new ZA($d.Hr,this.serializer)}createSharedClientState(e){return new hR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class nC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZR.bind(null,this.syncEngine),await DR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NR}()}createDatastore(e){const n=pu(e.databaseInfo.databaseId),r=function(o){return new mR(o)}(e.databaseInfo);return function(o,s,l,u){return new vR(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new wR(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>tg(this.syncEngine,n,0),function(){return Xm.D()?new Xm:new dR}())}createSyncEngine(e,n){return function(i,o,s,l,u,h,f){const p=new BR(i,o,s,l,u,h);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=le(r);Y("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await ra(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=c_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Y("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dc(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await H_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ig(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sC(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Jm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Jm(e.remoteStore,i)),t._onlineComponents=e}function oC(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await dc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!oC(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await dc(t,new rg)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await dc(t,new rg);return t._offlineComponents}async function u0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await ig(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await ig(t,new nC))),t._onlineComponents}function aC(t){return u0(t).then(e=>e.syncEngine)}async function og(t){const e=await u0(t),n=e.eventManager;return n.onListen=KR.bind(null,e.syncEngine),n.onUnlisten=qR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$R.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WR.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e,n){if(!n)throw new X(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lC(t,e,n,r){if(e===!0&&r===!0)throw new X(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ag(t){if(!ee.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lg(t){if(ee.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yu(t);throw new X(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ug({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ug(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new II;switch(r.type){case"firstParty":return new PI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sg.get(n);r&&(Y("ComponentProvider","Removing Datastore"),sg.delete(n),r.terminate())}(this),Promise.resolve()}}function uC(t,e,n,r={}){var i;const o=(t=Ji(t,vu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=St.MOCK_USER;else{l=iS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new X(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new St(h)}t._authCredentials=new AI(new u_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new So(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class Ir extends So{constructor(e,n,r){super(e,n,jd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new ee(e))}withConverter(e){return new Ir(this.firestore,e,this._path)}}function cC(t,e,...n){if(t=oi(t),h0("collection","path",e),t instanceof vu){const r=xe.fromString(e,...n);return lg(r),new Ir(t,null,r)}{if(!(t instanceof bt||t instanceof Ir))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return lg(r),new Ir(t.firestore,null,r)}}function hC(t,e,...n){if(t=oi(t),arguments.length===1&&(e=c_.newId()),h0("doc","path",e),t instanceof vu){const r=xe.fromString(e,...n);return ag(r),new bt(t,null,new ee(r))}{if(!(t instanceof bt||t instanceof Ir))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return ag(r),new bt(t.firestore,t instanceof Ir?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new W_(this,"async_queue_retry"),this.hu=()=>{const n=hc();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=hc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=hc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Zr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Zs(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw Wn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Yd.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&se()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function cg(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class zl extends vu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new dC}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||f0(this),this._firestoreClient.terminate()}}function fC(t,e){const n=typeof t=="object"?t:dI(),r=typeof t=="string"?t:"(default)",i=lI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=nS("firestore");o&&uC(i,...o)}return i}function d0(t){return t._firestoreClient||f0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function f0(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,h,f){return new zI(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,c0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new iC(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(Ct.fromBase64String(e))}catch(n){throw new X(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=/^__.*__$/;class mC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new ta(e,this.data,n,this.fieldTransforms)}}function m0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class nf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new nf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Bl(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(m0(this.fu)&&pC.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class gC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pu(e)}Fu(e,n,r,i=!1){return new nf({fu:e,methodName:n,vu:r,path:pt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g0(t){const e=t._freezeSettings(),n=pu(t._databaseId);return new gC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yC(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);_0("Data must be an object, but it was:",s,r);const l=y0(r,s);let u,h;if(o.merge)u=new fn(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const p of o.mergeFields){const g=_C(e,p,n);if(!s.contains(g))throw new X(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);EC(f,g)||f.push(g)}u=new fn(f),h=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=s.fieldTransforms;return new mC(new en(l),u,h)}function vC(t,e,n,r=!1){return rf(n,t.Fu(r?4:3,e))}function rf(t,e){if(v0(t=oi(t)))return _0("Unsupported field value:",e,t),y0(t,e);if(t instanceof p0)return function(r,i){if(!m0(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=rf(l,i.bu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=oi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=tt.fromDate(r);return{timestampValue:jl(i.serializer,o)}}if(r instanceof tt){const o=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jl(i.serializer,o)}}if(r instanceof tf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof po)return{bytesValue:U_(i.serializer,r._byteString)};if(r instanceof bt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Bd(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${yu(r)}`)}(t,e)}function y0(t,e){const n={};return h_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,(r,i)=>{const o=rf(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function v0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof tf||t instanceof po||t instanceof bt||t instanceof p0)}function _0(t,e,n){if(!v0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=yu(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function _C(t,e,n){if((e=oi(e))instanceof ef)return e._internalPath;if(typeof e=="string")return w0(t,e);throw Bl("Field path arguments must be of type string or ",t,!1,void 0,n)}const wC=new RegExp("[~\\*/\\[\\]]");function w0(t,e,n){if(e.search(wC)>=0)throw Bl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ef(...e.split("."))._internalPath}catch{throw Bl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bl(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new X(F.INVALID_ARGUMENT,l+t+u)}function EC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TC extends E0{data(){return super.data()}}function T0(t,e){return typeof e=="string"?w0(t,e):e instanceof ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class of{}class IC extends of{}function AC(t,e,...n){let r=[];e instanceof of&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof af).length,l=o.filter(u=>u instanceof sf).length;if(s>1||s>0&&l>0)throw new X(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sf extends IC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sf(e,n,r)}_apply(e){const n=this._parse(e);return S0(e._query,n),new So(e.firestore,e.converter,Eh(e._query,n))}_parse(e){const n=g0(e.firestore);return function(o,s,l,u,h,f,p){let g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new X(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){dg(p,f);const I=[];for(const C of p)I.push(hg(u,o,C));g={arrayValue:{values:I}}}else g=hg(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||dg(p,f),g=vC(l,s,p,f==="in"||f==="not-in");return Ye.create(h,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class af extends of{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new af(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)S0(s,u),s=Eh(s,u)}(e._query,n),new So(e.firestore,e.converter,Eh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hg(t,e,n){if(typeof(n=oi(n))=="string"){if(n==="")throw new X(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w_(e)&&n.indexOf("/")!==-1)throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xe.fromString(n));if(!ee.isDocumentKey(r))throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vm(t,new ee(r))}if(n instanceof bt)return Vm(t,n._key);throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yu(n)}.`)}function dg(t,e){if(!Array.isArray(t)||t.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S0(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RC{convertValue(e,n="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new tf(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ld(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bs(e));default:return null}}convertTimestamp(e){const n=Pr(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xe.fromString(e);Re($_(r));const i=new zs(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class I0 extends E0{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(T0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rl extends I0{data(e={}){return super.data(e)}}class PC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new is(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rl(this._firestore,this._userDataWriter,r.key,r,new is(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new rl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new is(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new rl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new is(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:kC(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}class A0 extends RC{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function xC(t,e,n){t=Ji(t,bt);const r=Ji(t.firestore,zl),i=CC(t.converter,e);return VC(r,[yC(g0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Bn.none())])}function DC(t,...e){var n,r,i;t=oi(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||cg(e[s])||(o=e[s],s++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(cg(e[s])){const p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,h,f;if(t instanceof bt)h=Ji(t.firestore,zl),f=jd(t._key.path),u={next:p=>{e[s]&&e[s](NC(h,t,p))},error:e[s+1],complete:e[s+2]};else{const p=Ji(t,So);h=Ji(p.firestore,zl),f=p._query;const g=new A0(h);u={next:I=>{e[s]&&e[s](new PC(h,g,p,I))},error:e[s+1],complete:e[s+2]},SC(t._query)}return function(g,I,C,P){const N=new rC(P),S=new UR(I,N,C);return g.asyncQueue.enqueueAndForget(async()=>MR(await og(g),S)),()=>{N.$a(),g.asyncQueue.enqueueAndForget(async()=>LR(await og(g),S))}}(d0(h),f,l,u)}function VC(t,e){return function(r,i){const o=new Zr;return r.asyncQueue.enqueueAndForget(async()=>QR(await aC(r),i,o)),o.promise}(d0(t),e)}function NC(t,e,n){const r=n.docs.get(e._key),i=new A0(t);return new I0(t,i,e._key,r,new is(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_o=i})(hI),Nl(new Fs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new zl(new RI(r.getProvider("auth-internal")),new xI(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new X(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zs(h.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Yi(Pm,"4.6.3",e),Yi(Pm,"4.6.3","esm2017")})();const MC={apiKey:"AIzaSyDHAvPO38mjCOqceKBWALPG0POx52sMOQc",authDomain:"test-motoca-frontend.firebaseapp.com",databaseURL:"https://test-motoca-frontend-default-rtdb.firebaseio.com",projectId:"test-motoca-frontend",storageBucket:"test-motoca-frontend.appspot.com",messagingSenderId:"209671249624",appId:"1:209671249624:web:428b2865f9e336566741ad"},LC=Zv(MC),R0=fC(LC),OC=()=>{const[t,e]=K.useState(""),[n,r]=K.useState(""),[i,o]=K.useState(""),[s,l]=K.useState(""),[u,h]=K.useState("Em trânsito");async function f(){if(console.log("Registrando moto..."),t===""||n===""||i===""||s===""||u===""){alert("Por favor, preencha todos os campos!");return}await xC(hC(R0,"motos",t),{modelo:n,cor:i,valor:s,status:u})}return W.jsxs("div",{className:"form",children:[W.jsx("h1",{children:"Preencha as informações abaixo para registrar uma Moto 🏍"}),W.jsx("h2",{children:"Código"}),W.jsx("input",{type:"text",value:t,onChange:p=>e(p.target.value)}),W.jsx("h2",{children:"Modelo"}),W.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value)}),W.jsx("h2",{children:"Cor"}),W.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value)}),W.jsx("h2",{children:"Valor"}),W.jsx("input",{type:"text",value:s,onChange:p=>l(p.target.value)}),W.jsx("h2",{children:"Status"}),W.jsxs("select",{value:u,onChange:p=>h(p.target.value),children:[W.jsx("option",{value:"Em trânsito",children:"Em trânsito"}),W.jsx("option",{value:"Em estoque",children:"Em estoque"}),W.jsx("option",{value:"Sem estoque",children:"Sem estoque"})]}),W.jsx("br",{}),W.jsx("button",{onClick:f,children:"+ Registrar"})]})},FC=()=>{const[t,e]=K.useState([]);return K.useEffect(()=>{const n=AC(cC(R0,"motos"));DC(n,r=>{e(r.docs.map(i=>({data:i.data()})))})},[]),W.jsxs("div",{children:[W.jsx("h1",{children:"Tabela de Motos"}),t.map(n=>{var r,i,o,s,l;return W.jsxs("div",{children:[W.jsxs("p",{children:["Código: ",(r=n==null?void 0:n.data)==null?void 0:r.codigo]}),W.jsxs("p",{children:["Modelo: ",(i=n==null?void 0:n.data)==null?void 0:i.modelo]}),W.jsxs("p",{children:["Cor: ",(o=n==null?void 0:n.data)==null?void 0:o.cor]}),W.jsxs("p",{children:["Status: ",(s=n==null?void 0:n.data)==null?void 0:s.status]}),W.jsxs("p",{children:["Valor: R$ ",(l=n==null?void 0:n.data)==null?void 0:l.valor]})]})})]})},UC=()=>W.jsx("div",{children:W.jsx("h1",{children:"Home"})}),jC=()=>W.jsx("div",{children:W.jsx("h1",{children:"User"})}),bC=()=>{const{id:t}=vT(),e=Kv(),n=()=>(console.log("Moto editada com sucesso!"),e("/TabelaMotos"));return W.jsxs("div",{children:[W.jsxs("h1",{children:["Editar Moto ID: ",t," "]}),W.jsxs("form",{onSubmit:n,children:[W.jsx("label",{children:"Nome:"}),W.jsx("input",{type:"text"}),W.jsx("label",{children:"Marca:"}),W.jsx("input",{type:"text"}),W.jsx("label",{children:"Modelo:"}),W.jsx("input",{type:"text"}),W.jsx("label",{children:"Ano:"}),W.jsx("input",{type:"text"}),W.jsx("label",{children:"Preço:"}),W.jsx("input",{type:"text"}),W.jsx("label",{children:"Descrição:"}),W.jsx("input",{type:"text"}),W.jsx("button",{type:"submit",children:"Salvar"})]})]})},zC=()=>W.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},children:[W.jsx("h1",{children:"404 - Página não encontrada"}),W.jsx("button",{onClick:()=>window.history.back(),children:"Voltar"})]}),BC=LT([{path:"/",element:W.jsx(qT,{}),errorElement:W.jsx(zC,{}),children:[{path:"/",element:W.jsx(UC,{})},{path:"/NovaMoto",element:W.jsx(OC,{})},{path:"/TabelaMotos",element:W.jsx(FC,{})},{path:"/User",element:W.jsx(jC,{})},{path:"/TabelaMotos/:id",element:W.jsx(bC,{})}]}]);fc.createRoot(document.getElementById("root")).render(W.jsx(Ag.StrictMode,{children:W.jsx($T,{router:BC})}));
